function j1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function _1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var C0={exports:{}},Zo={},T0={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),N1=Symbol.for("react.portal"),k1=Symbol.for("react.fragment"),S1=Symbol.for("react.strict_mode"),E1=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),P1=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),A1=Symbol.for("react.memo"),O1=Symbol.for("react.lazy"),cf=Symbol.iterator;function L1(e){return e===null||typeof e!="object"?null:(e=cf&&e[cf]||e["@@iterator"],typeof e=="function"?e:null)}var P0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R0=Object.assign,A0={};function Ns(e,t,r){this.props=e,this.context=t,this.refs=A0,this.updater=r||P0}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function O0(){}O0.prototype=Ns.prototype;function ld(e,t,r){this.props=e,this.context=t,this.refs=A0,this.updater=r||P0}var ud=ld.prototype=new O0;ud.constructor=ld;R0(ud,Ns.prototype);ud.isPureReactComponent=!0;var df=Array.isArray,L0=Object.prototype.hasOwnProperty,cd={current:null},I0={key:!0,ref:!0,__self:!0,__source:!0};function D0(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)L0.call(t,n)&&!I0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Xi,type:e,key:i,ref:a,props:s,_owner:cd.current}}function I1(e,t){return{$$typeof:Xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xi}function D1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hf=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D1(""+e.key):t.toString(36)}function Ja(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Xi:case N1:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Pl(a,0):n,df(s)?(r="",e!=null&&(r=e.replace(hf,"$&/")+"/"),Ja(s,t,r,"",function(c){return c})):s!=null&&(dd(s)&&(s=I1(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(hf,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",df(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+Pl(i,l);a+=Ja(i,t,r,u,s)}else if(u=L1(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+Pl(i,l++),a+=Ja(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ma(e,t,r){if(e==null)return e;var n=[],s=0;return Ja(e,n,"","",function(i){return t.call(r,i,s++)}),n}function M1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Qa={transition:null},F1={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:cd};function M0(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ma,forEach:function(e,t,r){ma(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ma(e,function(){t++}),t},toArray:function(e){return ma(e,function(t){return t})||[]},only:function(e){if(!dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Ns;W.Fragment=k1;W.Profiler=E1;W.PureComponent=ld;W.StrictMode=S1;W.Suspense=R1;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F1;W.act=M0;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=R0({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=cd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)L0.call(t,u)&&!I0.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Xi,type:e.type,key:s,ref:i,props:n,_owner:a}};W.createContext=function(e){return e={$$typeof:T1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:C1,_context:e},e.Consumer=e};W.createElement=D0;W.createFactory=function(e){var t=D0.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:P1,render:e}};W.isValidElement=dd;W.lazy=function(e){return{$$typeof:O1,_payload:{_status:-1,_result:e},_init:M1}};W.memo=function(e,t){return{$$typeof:A1,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Qa.transition;Qa.transition={};try{e()}finally{Qa.transition=t}};W.unstable_act=M0;W.useCallback=function(e,t){return Ge.current.useCallback(e,t)};W.useContext=function(e){return Ge.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ge.current.useEffect(e,t)};W.useId=function(){return Ge.current.useId()};W.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ge.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};W.useRef=function(e){return Ge.current.useRef(e)};W.useState=function(e){return Ge.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ge.current.useTransition()};W.version="18.3.1";T0.exports=W;var b=T0.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=b,z1=Symbol.for("react.element"),V1=Symbol.for("react.fragment"),B1=Object.prototype.hasOwnProperty,U1=$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G1={key:!0,ref:!0,__self:!0,__source:!0};function F0(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)B1.call(t,n)&&!G1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:z1,type:e,key:i,ref:a,props:s,_owner:U1.current}}Zo.Fragment=V1;Zo.jsx=F0;Zo.jsxs=F0;C0.exports=Zo;var o=C0.exports,$0={exports:{}},ut={},z0={exports:{}},V0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,M){var F=P.length;P.push(M);e:for(;0<F;){var $=F-1>>>1,G=P[$];if(0<s(G,M))P[$]=M,P[F]=G,F=$;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var M=P[0],F=P.pop();if(F!==M){P[0]=F;e:for(var $=0,G=P.length,re=G>>>1;$<re;){var Se=2*($+1)-1,tt=P[Se],ht=Se+1,er=P[ht];if(0>s(tt,F))ht<G&&0>s(er,tt)?(P[$]=er,P[ht]=F,$=ht):(P[$]=tt,P[Se]=F,$=Se);else if(ht<G&&0>s(er,F))P[$]=er,P[ht]=F,$=ht;else break e}}return M}function s(P,M){var F=P.sortIndex-M.sortIndex;return F!==0?F:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=P)n(c),M.sortIndex=M.expirationTime,t(u,M);else break;M=r(c)}}function j(P){if(x=!1,g(P),!p)if(r(u)!==null)p=!0,qe(_);else{var M=r(c);M!==null&&H(j,M.startTime-P)}}function _(P,M){p=!1,x&&(x=!1,y(S),S=-1),m=!0;var F=h;try{for(g(M),f=r(u);f!==null&&(!(f.expirationTime>M)||P&&!I());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var G=$(f.expirationTime<=M);M=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(u)&&n(u),g(M)}else n(u);f=r(u)}if(f!==null)var re=!0;else{var Se=r(c);Se!==null&&H(j,Se.startTime-M),re=!1}return re}finally{f=null,h=F,m=!1}}var N=!1,k=null,S=-1,E=5,R=-1;function I(){return!(e.unstable_now()-R<E)}function Q(){if(k!==null){var P=e.unstable_now();R=P;var M=!0;try{M=k(!0,P)}finally{M?Y():(N=!1,k=null)}}else N=!1}var Y;if(typeof v=="function")Y=function(){v(Q)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,et=He.port2;He.port1.onmessage=Q,Y=function(){et.postMessage(null)}}else Y=function(){w(Q,0)};function qe(P){k=P,N||(N=!0,Y())}function H(P,M){S=w(function(){P(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,qe(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var F=h;h=M;try{return P()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=h;h=P;try{return M()}finally{h=F}},e.unstable_scheduleCallback=function(P,M,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,P={id:d++,callback:M,priorityLevel:P,startTime:F,expirationTime:G,sortIndex:-1},F>$?(P.sortIndex=F,t(c,P),r(u)===null&&P===r(c)&&(x?(y(S),S=-1):x=!0,H(j,F-$))):(P.sortIndex=G,t(u,P),p||m||(p=!0,qe(_))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var M=h;return function(){var F=h;h=M;try{return P.apply(this,arguments)}finally{h=F}}}})(V0);z0.exports=V0;var W1=z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=b,lt=W1;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B0=new Set,bi={};function En(e,t){hs(e,t),hs(e+"Capture",t)}function hs(e,t){for(bi[e]=t,e=0;e<t.length;e++)B0.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pu=Object.prototype.hasOwnProperty,q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ff={},mf={};function K1(e){return Pu.call(mf,e)?!0:Pu.call(ff,e)?!1:q1.test(e)?mf[e]=!0:(ff[e]=!0,!1)}function J1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q1(e,t,r,n){if(t===null||typeof t>"u"||J1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var hd=/[\-:]([a-z])/g;function fd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hd,fd);Le[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hd,fd);Le[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hd,fd);Le[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function md(e,t,r,n){var s=Le.hasOwnProperty(t)?Le[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q1(t,r,s,n)&&(r=null),n||s===null?K1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vr=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),pd=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),Au=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),W0=Symbol.for("react.offscreen"),pf=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=pf&&e[pf]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Rl;function Js(e){if(Rl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||""}return`
`+Rl+e}var Al=!1;function Ol(e,t){if(!e||Al)return"";Al=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Al=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Js(e):""}function Y1(e){switch(e.tag){case 5:return Js(e.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return e=Ol(e.type,!1),e;case 11:return e=Ol(e.type.render,!1),e;case 1:return e=Ol(e.type,!0),e;default:return""}}function Lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vn:return"Fragment";case zn:return"Portal";case Ru:return"Profiler";case pd:return"StrictMode";case Au:return"Suspense";case Ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G0:return(e.displayName||"Context")+".Consumer";case U0:return(e._context.displayName||"Context")+".Provider";case gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yd:return t=e.displayName||null,t!==null?t:Lu(e.type)||"Memo";case Nr:t=e._payload,e=e._init;try{return Lu(e(t))}catch{}}return null}function X1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(t);case 8:return t===pd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z1(e){var t=H0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ga(e){e._valueTracker||(e._valueTracker=Z1(e))}function q0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iu(e,t){var r=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K0(e,t){t=t.checked,t!=null&&md(e,"checked",t,!1)}function Du(e,t){K0(e,t);var r=Vr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,Vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mu(e,t,r){(t!=="number"||po(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qs=Array.isArray;function ns(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Qs(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vr(r)}}function J0(e,t){var r=Vr(t.value),n=Vr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $u(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ya,Y0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ya=ya||document.createElement("div"),ya.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ji(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eb=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){eb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});function X0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ri.hasOwnProperty(e)&&ri[e]?(""+t).trim():t+"px"}function Z0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=X0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var tb=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(e,t){if(t){if(tb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Vu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=null;function vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uu=null,ss=null,is=null;function wf(e){if(e=ta(e)){if(typeof Uu!="function")throw Error(T(280));var t=e.stateNode;t&&(t=sl(t),Uu(e.stateNode,e.type,t))}}function eg(e){ss?is?is.push(e):is=[e]:ss=e}function tg(){if(ss){var e=ss,t=is;if(is=ss=null,wf(e),t)for(e=0;e<t.length;e++)wf(t[e])}}function rg(e,t){return e(t)}function ng(){}var Ll=!1;function sg(e,t,r){if(Ll)return e(t,r);Ll=!0;try{return rg(e,t,r)}finally{Ll=!1,(ss!==null||is!==null)&&(ng(),tg())}}function _i(e,t){var r=e.stateNode;if(r===null)return null;var n=sl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Gu=!1;if(ur)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Gu=!1}function rb(e,t,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var ni=!1,go=null,yo=!1,Wu=null,nb={onError:function(e){ni=!0,go=e}};function sb(e,t,r,n,s,i,a,l,u){ni=!1,go=null,rb.apply(nb,arguments)}function ib(e,t,r,n,s,i,a,l,u){if(sb.apply(this,arguments),ni){if(ni){var c=go;ni=!1,go=null}else throw Error(T(198));yo||(yo=!0,Wu=c)}}function Cn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ig(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bf(e){if(Cn(e)!==e)throw Error(T(188))}function ab(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bf(s),e;if(i===n)return bf(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function ag(e){return e=ab(e),e!==null?og(e):null}function og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=og(e);if(t!==null)return t;e=e.sibling}return null}var lg=lt.unstable_scheduleCallback,jf=lt.unstable_cancelCallback,ob=lt.unstable_shouldYield,lb=lt.unstable_requestPaint,ge=lt.unstable_now,ub=lt.unstable_getCurrentPriorityLevel,xd=lt.unstable_ImmediatePriority,ug=lt.unstable_UserBlockingPriority,vo=lt.unstable_NormalPriority,cb=lt.unstable_LowPriority,cg=lt.unstable_IdlePriority,el=null,Jt=null;function db(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:mb,hb=Math.log,fb=Math.LN2;function mb(e){return e>>>=0,e===0?32:31-(hb(e)/fb|0)|0}var va=64,xa=4194304;function Ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ys(l):(i&=a,i!==0&&(n=Ys(i)))}else a=r&~s,a!==0?n=Ys(a):i!==0&&(n=Ys(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mt(t),s=1<<r,n|=e[r],t&=~s;return n}function pb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Mt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=pb(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Hu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dg(){var e=va;return va<<=1,!(va&4194240)&&(va=64),e}function Il(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=r}function yb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function wd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function hg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fg,bd,mg,pg,gg,qu=!1,wa=[],Or=null,Lr=null,Ir=null,Ni=new Map,ki=new Map,Er=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function zs(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ta(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xb(e,t,r,n,s){switch(t){case"focusin":return Or=zs(Or,e,t,r,n,s),!0;case"dragenter":return Lr=zs(Lr,e,t,r,n,s),!0;case"mouseover":return Ir=zs(Ir,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ni.set(i,zs(Ni.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ki.set(i,zs(ki.get(i)||null,e,t,r,n,s)),!0}return!1}function yg(e){var t=cn(e.target);if(t!==null){var r=Cn(t);if(r!==null){if(t=r.tag,t===13){if(t=ig(r),t!==null){e.blockedOn=t,gg(e.priority,function(){mg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ya(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ku(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bu=n,r.target.dispatchEvent(n),Bu=null}else return t=ta(r),t!==null&&bd(t),e.blockedOn=r,!1;t.shift()}return!0}function Nf(e,t,r){Ya(e)&&r.delete(t)}function wb(){qu=!1,Or!==null&&Ya(Or)&&(Or=null),Lr!==null&&Ya(Lr)&&(Lr=null),Ir!==null&&Ya(Ir)&&(Ir=null),Ni.forEach(Nf),ki.forEach(Nf)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,wb)))}function Si(e){function t(s){return Vs(s,e)}if(0<wa.length){Vs(wa[0],e);for(var r=1;r<wa.length;r++){var n=wa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Or!==null&&Vs(Or,e),Lr!==null&&Vs(Lr,e),Ir!==null&&Vs(Ir,e),Ni.forEach(t),ki.forEach(t),r=0;r<Er.length;r++)n=Er[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Er.length&&(r=Er[0],r.blockedOn===null);)yg(r),r.blockedOn===null&&Er.shift()}var as=vr.ReactCurrentBatchConfig,wo=!0;function bb(e,t,r,n){var s=J,i=as.transition;as.transition=null;try{J=1,jd(e,t,r,n)}finally{J=s,as.transition=i}}function jb(e,t,r,n){var s=J,i=as.transition;as.transition=null;try{J=4,jd(e,t,r,n)}finally{J=s,as.transition=i}}function jd(e,t,r,n){if(wo){var s=Ku(e,t,r,n);if(s===null)Wl(e,t,n,bo,r),_f(e,n);else if(xb(s,e,t,r,n))n.stopPropagation();else if(_f(e,n),t&4&&-1<vb.indexOf(e)){for(;s!==null;){var i=ta(s);if(i!==null&&fg(i),i=Ku(e,t,r,n),i===null&&Wl(e,t,n,bo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wl(e,t,n,null,r)}}var bo=null;function Ku(e,t,r,n){if(bo=null,e=vd(n),e=cn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ig(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bo=e,null}function vg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ub()){case xd:return 1;case ug:return 4;case vo:case cb:return 16;case cg:return 536870912;default:return 16}default:return 16}}var Pr=null,_d=null,Xa=null;function xg(){if(Xa)return Xa;var e,t=_d,r=t.length,n,s="value"in Pr?Pr.value:Pr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Xa=s.slice(e,1<n?1-n:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ba(){return!0}function kf(){return!1}function ct(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ba:kf,this.isPropagationStopped=kf,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),t}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=ct(ks),ea=de({},ks,{view:0,detail:0}),_b=ct(ea),Dl,Ml,Bs,tl=de({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(Dl=e.screenX-Bs.screenX,Ml=e.screenY-Bs.screenY):Ml=Dl=0,Bs=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),Sf=ct(tl),Nb=de({},tl,{dataTransfer:0}),kb=ct(Nb),Sb=de({},ea,{relatedTarget:0}),Fl=ct(Sb),Eb=de({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Cb=ct(Eb),Tb=de({},ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pb=ct(Tb),Rb=de({},ks,{data:0}),Ef=ct(Rb),Ab={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ib(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lb[e])?!!t[e]:!1}function kd(){return Ib}var Db=de({},ea,{key:function(e){if(e.key){var t=Ab[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ob[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mb=ct(Db),Fb=de({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=ct(Fb),$b=de({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),zb=ct($b),Vb=de({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bb=ct(Vb),Ub=de({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=ct(Ub),Wb=[9,13,27,32],Sd=ur&&"CompositionEvent"in window,si=null;ur&&"documentMode"in document&&(si=document.documentMode);var Hb=ur&&"TextEvent"in window&&!si,wg=ur&&(!Sd||si&&8<si&&11>=si),Tf=" ",Pf=!1;function bg(e,t){switch(e){case"keyup":return Wb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function qb(e,t){switch(e){case"compositionend":return jg(t);case"keypress":return t.which!==32?null:(Pf=!0,Tf);case"textInput":return e=t.data,e===Tf&&Pf?null:e;default:return null}}function Kb(e,t){if(Bn)return e==="compositionend"||!Sd&&bg(e,t)?(e=xg(),Xa=_d=Pr=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wg&&t.locale!=="ko"?null:t.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jb[e.type]:t==="textarea"}function _g(e,t,r,n){eg(n),t=jo(t,"onChange"),0<t.length&&(r=new Nd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ii=null,Ei=null;function Qb(e){Lg(e,0)}function rl(e){var t=Wn(e);if(q0(t))return e}function Yb(e,t){if(e==="change")return t}var Ng=!1;if(ur){var $l;if(ur){var zl="oninput"in document;if(!zl){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),zl=typeof Af.oninput=="function"}$l=zl}else $l=!1;Ng=$l&&(!document.documentMode||9<document.documentMode)}function Of(){ii&&(ii.detachEvent("onpropertychange",kg),Ei=ii=null)}function kg(e){if(e.propertyName==="value"&&rl(Ei)){var t=[];_g(t,Ei,e,vd(e)),sg(Qb,t)}}function Xb(e,t,r){e==="focusin"?(Of(),ii=t,Ei=r,ii.attachEvent("onpropertychange",kg)):e==="focusout"&&Of()}function Zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rl(Ei)}function ej(e,t){if(e==="click")return rl(t)}function tj(e,t){if(e==="input"||e==="change")return rl(t)}function rj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:rj;function Ci(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pu.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function Lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function If(e,t){var r=Lf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lf(r)}}function Sg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eg(){for(var e=window,t=po();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=po(e.document)}return t}function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nj(e){var t=Eg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sg(r.ownerDocument.documentElement,r)){if(n!==null&&Ed(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=If(r,i);var a=If(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sj=ur&&"documentMode"in document&&11>=document.documentMode,Un=null,Ju=null,ai=null,Qu=!1;function Df(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qu||Un==null||Un!==po(n)||(n=Un,"selectionStart"in n&&Ed(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ai&&Ci(ai,n)||(ai=n,n=jo(Ju,"onSelect"),0<n.length&&(t=new Nd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Un)))}function ja(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gn={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Vl={},Cg={};ur&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function nl(e){if(Vl[e])return Vl[e];if(!Gn[e])return e;var t=Gn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Cg)return Vl[e]=t[r];return e}var Tg=nl("animationend"),Pg=nl("animationiteration"),Rg=nl("animationstart"),Ag=nl("transitionend"),Og=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){Og.set(e,t),En(t,[e])}for(var Bl=0;Bl<Mf.length;Bl++){var Ul=Mf[Bl],ij=Ul.toLowerCase(),aj=Ul[0].toUpperCase()+Ul.slice(1);Wr(ij,"on"+aj)}Wr(Tg,"onAnimationEnd");Wr(Pg,"onAnimationIteration");Wr(Rg,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Ag,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Ff(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ib(n,t,void 0,e),e.currentTarget=null}function Lg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Ff(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Ff(s,l,c),i=u}}}if(yo)throw e=Wu,yo=!1,Wu=null,e}function ne(e,t){var r=t[tc];r===void 0&&(r=t[tc]=new Set);var n=e+"__bubble";r.has(n)||(Ig(t,e,2,!1),r.add(n))}function Gl(e,t,r){var n=0;t&&(n|=4),Ig(r,e,n,t)}var _a="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[_a]){e[_a]=!0,B0.forEach(function(r){r!=="selectionchange"&&(oj.has(r)||Gl(r,!1,e),Gl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_a]||(t[_a]=!0,Gl("selectionchange",!1,t))}}function Ig(e,t,r,n){switch(vg(t)){case 1:var s=bb;break;case 4:s=jb;break;default:s=jd}r=s.bind(null,t,r,e),s=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=cn(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}sg(function(){var c=i,d=vd(r),f=[];e:{var h=Og.get(e);if(h!==void 0){var m=Nd,p=e;switch(e){case"keypress":if(Za(r)===0)break e;case"keydown":case"keyup":m=Mb;break;case"focusin":p="focus",m=Fl;break;case"focusout":p="blur",m=Fl;break;case"beforeblur":case"afterblur":m=Fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zb;break;case Tg:case Pg:case Rg:m=Cb;break;case Ag:m=Bb;break;case"scroll":m=_b;break;case"wheel":m=Gb;break;case"copy":case"cut":case"paste":m=Pb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Cf}var x=(t&4)!==0,w=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var v=c,g;v!==null;){g=v;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,y!==null&&(j=_i(v,y),j!=null&&x.push(Pi(v,j,g)))),w)break;v=v.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Bu&&(p=r.relatedTarget||r.fromElement)&&(cn(p)||p[cr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=c,p=p?cn(p):null,p!==null&&(w=Cn(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(x=Sf,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Cf,j="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?h:Wn(m),g=p==null?h:Wn(p),h=new x(j,v+"leave",m,r,d),h.target=w,h.relatedTarget=g,j=null,cn(d)===c&&(x=new x(y,v+"enter",p,r,d),x.target=g,x.relatedTarget=w,j=x),w=j,m&&p)t:{for(x=m,y=p,v=0,g=x;g;g=Tn(g))v++;for(g=0,j=y;j;j=Tn(j))g++;for(;0<v-g;)x=Tn(x),v--;for(;0<g-v;)y=Tn(y),g--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=Tn(x),y=Tn(y)}x=null}else x=null;m!==null&&$f(f,h,m,x,!1),p!==null&&w!==null&&$f(f,w,p,x,!0)}}e:{if(h=c?Wn(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=Yb;else if(Rf(h))if(Ng)_=tj;else{_=Zb;var N=Xb}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=ej);if(_&&(_=_(e,c))){_g(f,_,r,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Mu(h,"number",h.value)}switch(N=c?Wn(c):window,e){case"focusin":(Rf(N)||N.contentEditable==="true")&&(Un=N,Ju=c,ai=null);break;case"focusout":ai=Ju=Un=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,Df(f,r,d);break;case"selectionchange":if(sj)break;case"keydown":case"keyup":Df(f,r,d)}var k;if(Sd)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Bn?bg(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(wg&&r.locale!=="ko"&&(Bn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Bn&&(k=xg()):(Pr=d,_d="value"in Pr?Pr.value:Pr.textContent,Bn=!0)),N=jo(c,S),0<N.length&&(S=new Ef(S,e,null,r,d),f.push({event:S,listeners:N}),k?S.data=k:(k=jg(r),k!==null&&(S.data=k)))),(k=Hb?qb(e,r):Kb(e,r))&&(c=jo(c,"onBeforeInput"),0<c.length&&(d=new Ef("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=k))}Lg(f,t)})}function Pi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_i(e,r),i!=null&&n.unshift(Pi(e,i,s)),i=_i(e,t),i!=null&&n.push(Pi(e,i,s))),e=e.return}return n}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $f(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=_i(r,i),u!=null&&a.unshift(Pi(r,u,l))):s||(u=_i(r,i),u!=null&&a.push(Pi(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var lj=/\r\n?/g,uj=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(lj,`
`).replace(uj,"")}function Na(e,t,r){if(t=zf(t),zf(e)!==t&&r)throw Error(T(425))}function _o(){}var Yu=null,Xu=null;function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,cj=typeof clearTimeout=="function"?clearTimeout:void 0,Vf=typeof Promise=="function"?Promise:void 0,dj=typeof queueMicrotask=="function"?queueMicrotask:typeof Vf<"u"?function(e){return Vf.resolve(null).then(e).catch(hj)}:ec;function hj(e){setTimeout(function(){throw e})}function Hl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Si(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Si(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Ss,Ri="__reactProps$"+Ss,cr="__reactContainer$"+Ss,tc="__reactEvents$"+Ss,fj="__reactListeners$"+Ss,mj="__reactHandles$"+Ss;function cn(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cr]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bf(e);e!==null;){if(r=e[Ht])return r;e=Bf(e)}return t}e=r,r=e.parentNode}return null}function ta(e){return e=e[Ht]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function sl(e){return e[Ri]||null}var rc=[],Hn=-1;function Hr(e){return{current:e}}function se(e){0>Hn||(e.current=rc[Hn],rc[Hn]=null,Hn--)}function ee(e,t){Hn++,rc[Hn]=e.current,e.current=t}var Br={},Fe=Hr(Br),Ye=Hr(!1),wn=Br;function fs(e,t){var r=e.type.contextTypes;if(!r)return Br;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function No(){se(Ye),se(Fe)}function Uf(e,t,r){if(Fe.current!==Br)throw Error(T(168));ee(Fe,t),ee(Ye,r)}function Dg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,X1(e)||"Unknown",s));return de({},r,n)}function ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,wn=Fe.current,ee(Fe,e),ee(Ye,Ye.current),!0}function Gf(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=Dg(e,t,wn),n.__reactInternalMemoizedMergedChildContext=e,se(Ye),se(Fe),ee(Fe,e)):se(Ye),ee(Ye,r)}var sr=null,il=!1,ql=!1;function Mg(e){sr===null?sr=[e]:sr.push(e)}function pj(e){il=!0,Mg(e)}function qr(){if(!ql&&sr!==null){ql=!0;var e=0,t=J;try{var r=sr;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sr=null,il=!1}catch(s){throw sr!==null&&(sr=sr.slice(e+1)),lg(xd,qr),s}finally{J=t,ql=!1}}return null}var qn=[],Kn=0,So=null,Eo=0,yt=[],vt=0,bn=null,ir=1,ar="";function rn(e,t){qn[Kn++]=Eo,qn[Kn++]=So,So=e,Eo=t}function Fg(e,t,r){yt[vt++]=ir,yt[vt++]=ar,yt[vt++]=bn,bn=e;var n=ir;e=ar;var s=32-Mt(n)-1;n&=~(1<<s),r+=1;var i=32-Mt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ir=1<<32-Mt(t)+s|r<<s|n,ar=i+e}else ir=1<<i|r<<s|n,ar=e}function Cd(e){e.return!==null&&(rn(e,1),Fg(e,1,0))}function Td(e){for(;e===So;)So=qn[--Kn],qn[Kn]=null,Eo=qn[--Kn],qn[Kn]=null;for(;e===bn;)bn=yt[--vt],yt[vt]=null,ar=yt[--vt],yt[vt]=null,ir=yt[--vt],yt[vt]=null}var ot=null,at=null,ie=!1,It=null;function $g(e,t){var r=wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,at=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bn!==null?{id:ir,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ot=e,at=null,!0):!1;default:return!1}}function nc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sc(e){if(ie){var t=at;if(t){var r=t;if(!Wf(e,t)){if(nc(e))throw Error(T(418));t=Dr(r.nextSibling);var n=ot;t&&Wf(e,t)?$g(n,r):(e.flags=e.flags&-4097|2,ie=!1,ot=e)}}else{if(nc(e))throw Error(T(418));e.flags=e.flags&-4097|2,ie=!1,ot=e}}}function Hf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function ka(e){if(e!==ot)return!1;if(!ie)return Hf(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zu(e.type,e.memoizedProps)),t&&(t=at)){if(nc(e))throw zg(),Error(T(418));for(;t;)$g(e,t),t=Dr(t.nextSibling)}if(Hf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){at=Dr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}at=null}}else at=ot?Dr(e.stateNode.nextSibling):null;return!0}function zg(){for(var e=at;e;)e=Dr(e.nextSibling)}function ms(){at=ot=null,ie=!1}function Pd(e){It===null?It=[e]:It.push(e)}var gj=vr.ReactCurrentBatchConfig;function Us(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Sa(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qf(e){var t=e._init;return t(e._payload)}function Vg(e){function t(y,v){if(e){var g=y.deletions;g===null?(y.deletions=[v],y.flags|=16):g.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=zr(y,v),y.index=0,y.sibling=null,y}function i(y,v,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<v?(y.flags|=2,v):g):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,g,j){return v===null||v.tag!==6?(v=eu(g,y.mode,j),v.return=y,v):(v=s(v,g),v.return=y,v)}function u(y,v,g,j){var _=g.type;return _===Vn?d(y,v,g.props.children,j,g.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nr&&qf(_)===v.type)?(j=s(v,g.props),j.ref=Us(y,v,g),j.return=y,j):(j=ao(g.type,g.key,g.props,null,y.mode,j),j.ref=Us(y,v,g),j.return=y,j)}function c(y,v,g,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=tu(g,y.mode,j),v.return=y,v):(v=s(v,g.children||[]),v.return=y,v)}function d(y,v,g,j,_){return v===null||v.tag!==7?(v=yn(g,y.mode,j,_),v.return=y,v):(v=s(v,g),v.return=y,v)}function f(y,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=eu(""+v,y.mode,g),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pa:return g=ao(v.type,v.key,v.props,null,y.mode,g),g.ref=Us(y,null,v),g.return=y,g;case zn:return v=tu(v,y.mode,g),v.return=y,v;case Nr:var j=v._init;return f(y,j(v._payload),g)}if(Qs(v)||Fs(v))return v=yn(v,y.mode,g,null),v.return=y,v;Sa(y,v)}return null}function h(y,v,g,j){var _=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:l(y,v,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:return g.key===_?u(y,v,g,j):null;case zn:return g.key===_?c(y,v,g,j):null;case Nr:return _=g._init,h(y,v,_(g._payload),j)}if(Qs(g)||Fs(g))return _!==null?null:d(y,v,g,j,null);Sa(y,g)}return null}function m(y,v,g,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(g)||null,l(v,y,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case pa:return y=y.get(j.key===null?g:j.key)||null,u(v,y,j,_);case zn:return y=y.get(j.key===null?g:j.key)||null,c(v,y,j,_);case Nr:var N=j._init;return m(y,v,g,N(j._payload),_)}if(Qs(j)||Fs(j))return y=y.get(g)||null,d(v,y,j,_,null);Sa(v,j)}return null}function p(y,v,g,j){for(var _=null,N=null,k=v,S=v=0,E=null;k!==null&&S<g.length;S++){k.index>S?(E=k,k=null):E=k.sibling;var R=h(y,k,g[S],j);if(R===null){k===null&&(k=E);break}e&&k&&R.alternate===null&&t(y,k),v=i(R,v,S),N===null?_=R:N.sibling=R,N=R,k=E}if(S===g.length)return r(y,k),ie&&rn(y,S),_;if(k===null){for(;S<g.length;S++)k=f(y,g[S],j),k!==null&&(v=i(k,v,S),N===null?_=k:N.sibling=k,N=k);return ie&&rn(y,S),_}for(k=n(y,k);S<g.length;S++)E=m(k,y,S,g[S],j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?S:E.key),v=i(E,v,S),N===null?_=E:N.sibling=E,N=E);return e&&k.forEach(function(I){return t(y,I)}),ie&&rn(y,S),_}function x(y,v,g,j){var _=Fs(g);if(typeof _!="function")throw Error(T(150));if(g=_.call(g),g==null)throw Error(T(151));for(var N=_=null,k=v,S=v=0,E=null,R=g.next();k!==null&&!R.done;S++,R=g.next()){k.index>S?(E=k,k=null):E=k.sibling;var I=h(y,k,R.value,j);if(I===null){k===null&&(k=E);break}e&&k&&I.alternate===null&&t(y,k),v=i(I,v,S),N===null?_=I:N.sibling=I,N=I,k=E}if(R.done)return r(y,k),ie&&rn(y,S),_;if(k===null){for(;!R.done;S++,R=g.next())R=f(y,R.value,j),R!==null&&(v=i(R,v,S),N===null?_=R:N.sibling=R,N=R);return ie&&rn(y,S),_}for(k=n(y,k);!R.done;S++,R=g.next())R=m(k,y,S,R.value,j),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?S:R.key),v=i(R,v,S),N===null?_=R:N.sibling=R,N=R);return e&&k.forEach(function(Q){return t(y,Q)}),ie&&rn(y,S),_}function w(y,v,g,j){if(typeof g=="object"&&g!==null&&g.type===Vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:e:{for(var _=g.key,N=v;N!==null;){if(N.key===_){if(_=g.type,_===Vn){if(N.tag===7){r(y,N.sibling),v=s(N,g.props.children),v.return=y,y=v;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nr&&qf(_)===N.type){r(y,N.sibling),v=s(N,g.props),v.ref=Us(y,N,g),v.return=y,y=v;break e}r(y,N);break}else t(y,N);N=N.sibling}g.type===Vn?(v=yn(g.props.children,y.mode,j,g.key),v.return=y,y=v):(j=ao(g.type,g.key,g.props,null,y.mode,j),j.ref=Us(y,v,g),j.return=y,y=j)}return a(y);case zn:e:{for(N=g.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(y,v.sibling),v=s(v,g.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=tu(g,y.mode,j),v.return=y,y=v}return a(y);case Nr:return N=g._init,w(y,v,N(g._payload),j)}if(Qs(g))return p(y,v,g,j);if(Fs(g))return x(y,v,g,j);Sa(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,g),v.return=y,y=v):(r(y,v),v=eu(g,y.mode,j),v.return=y,y=v),a(y)):r(y,v)}return w}var ps=Vg(!0),Bg=Vg(!1),Co=Hr(null),To=null,Jn=null,Rd=null;function Ad(){Rd=Jn=To=null}function Od(e){var t=Co.current;se(Co),e._currentValue=t}function ic(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function os(e,t){To=e,Rd=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Rd!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(To===null)throw Error(T(308));Jn=e,To.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var dn=null;function Ld(e){dn===null?dn=[e]:dn.push(e)}function Ug(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ld(t)):(r.next=s.next,s.next=r),t.interleaved=r,dr(e,n)}function dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kr=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,dr(e,r)}return s=n.interleaved,s===null?(t.next=t,Ld(n)):(t.next=s.next,s.next=t),n.interleaved=t,dr(e,r)}function eo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wd(e,r)}}function Kf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Po(e,t,r,n){var s=e.updateQueue;kr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,d=c=u=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=de({},f,h);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);_n|=a,e.lanes=a,e.memoizedState=f}}function Jf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var ra={},Qt=Hr(ra),Ai=Hr(ra),Oi=Hr(ra);function hn(e){if(e===ra)throw Error(T(174));return e}function Dd(e,t){switch(ee(Oi,t),ee(Ai,e),ee(Qt,ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$u(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$u(t,e)}se(Qt),ee(Qt,t)}function gs(){se(Qt),se(Ai),se(Oi)}function Wg(e){hn(Oi.current);var t=hn(Qt.current),r=$u(t,e.type);t!==r&&(ee(Ai,e),ee(Qt,r))}function Md(e){Ai.current===e&&(se(Qt),se(Ai))}var ue=Hr(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kl=[];function Fd(){for(var e=0;e<Kl.length;e++)Kl[e]._workInProgressVersionPrimary=null;Kl.length=0}var to=vr.ReactCurrentDispatcher,Jl=vr.ReactCurrentBatchConfig,jn=0,ce=null,je=null,Ne=null,Ao=!1,oi=!1,Li=0,yj=0;function Ie(){throw Error(T(321))}function $d(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function zd(e,t,r,n,s,i){if(jn=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,to.current=e===null||e.memoizedState===null?bj:jj,e=r(n,s),oi){i=0;do{if(oi=!1,Li=0,25<=i)throw Error(T(301));i+=1,Ne=je=null,t.updateQueue=null,to.current=_j,e=r(n,s)}while(oi)}if(to.current=Oo,t=je!==null&&je.next!==null,jn=0,Ne=je=ce=null,Ao=!1,t)throw Error(T(300));return e}function Vd(){var e=Li!==0;return Li=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ce.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function kt(){if(je===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ne===null?ce.memoizedState:Ne.next;if(t!==null)Ne=t,je=e;else{if(e===null)throw Error(T(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ne===null?ce.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Ii(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=kt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=je,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((jn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=n):u=u.next=f,ce.lanes|=d,_n|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,Vt(n,t.memoizedState)||(Je=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ce.lanes|=i,_n|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yl(e){var t=kt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Vt(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Hg(){}function qg(e,t){var r=ce,n=kt(),s=t(),i=!Vt(n.memoizedState,s);if(i&&(n.memoizedState=s,Je=!0),n=n.queue,Bd(Qg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(r.flags|=2048,Di(9,Jg.bind(null,r,n,s,t),void 0,null),ke===null)throw Error(T(349));jn&30||Kg(r,t,s)}return s}function Kg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jg(e,t,r,n){t.value=r,t.getSnapshot=n,Yg(t)&&Xg(e)}function Qg(e,t,r){return r(function(){Yg(t)&&Xg(e)})}function Yg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function Xg(e){var t=dr(e,1);t!==null&&Ft(t,e,1,-1)}function Qf(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=wj.bind(null,ce,e),[t.memoizedState,e]}function Di(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Zg(){return kt().memoizedState}function ro(e,t,r,n){var s=Wt();ce.flags|=e,s.memoizedState=Di(1|t,r,void 0,n===void 0?null:n)}function al(e,t,r,n){var s=kt();n=n===void 0?null:n;var i=void 0;if(je!==null){var a=je.memoizedState;if(i=a.destroy,n!==null&&$d(n,a.deps)){s.memoizedState=Di(t,r,i,n);return}}ce.flags|=e,s.memoizedState=Di(1|t,r,i,n)}function Yf(e,t){return ro(8390656,8,e,t)}function Bd(e,t){return al(2048,8,e,t)}function ey(e,t){return al(4,2,e,t)}function ty(e,t){return al(4,4,e,t)}function ry(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ny(e,t,r){return r=r!=null?r.concat([e]):null,al(4,4,ry.bind(null,t,e),r)}function Ud(){}function sy(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iy(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ay(e,t,r){return jn&21?(Vt(r,t)||(r=dg(),ce.lanes|=r,_n|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function vj(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Jl.transition;Jl.transition={};try{e(!1),t()}finally{J=r,Jl.transition=n}}function oy(){return kt().memoizedState}function xj(e,t,r){var n=$r(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ly(e))uy(t,r);else if(r=Ug(e,t,r,n),r!==null){var s=Ue();Ft(r,e,n,s),cy(r,t,n)}}function wj(e,t,r){var n=$r(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ly(e))uy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,a)){var u=t.interleaved;u===null?(s.next=s,Ld(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Ug(e,t,s,n),r!==null&&(s=Ue(),Ft(r,e,n,s),cy(r,t,n))}}function ly(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function uy(e,t){oi=Ao=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function cy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wd(e,r)}}var Oo={readContext:Nt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},bj={readContext:Nt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Yf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ro(4194308,4,ry.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xj.bind(null,ce,e),[n.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Qf,useDebugValue:Ud,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Qf(!1),t=e[0];return e=vj.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ce,s=Wt();if(ie){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),ke===null)throw Error(T(349));jn&30||Kg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Yf(Qg.bind(null,n,i,e),[e]),n.flags|=2048,Di(9,Jg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Wt(),t=ke.identifierPrefix;if(ie){var r=ar,n=ir;r=(n&~(1<<32-Mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Li++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jj={readContext:Nt,useCallback:sy,useContext:Nt,useEffect:Bd,useImperativeHandle:ny,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:iy,useReducer:Ql,useRef:Zg,useState:function(){return Ql(Ii)},useDebugValue:Ud,useDeferredValue:function(e){var t=kt();return ay(t,je.memoizedState,e)},useTransition:function(){var e=Ql(Ii)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:qg,useId:oy,unstable_isNewReconciler:!1},_j={readContext:Nt,useCallback:sy,useContext:Nt,useEffect:Bd,useImperativeHandle:ny,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:iy,useReducer:Yl,useRef:Zg,useState:function(){return Yl(Ii)},useDebugValue:Ud,useDeferredValue:function(e){var t=kt();return je===null?t.memoizedState=e:ay(t,je.memoizedState,e)},useTransition:function(){var e=Yl(Ii)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:qg,useId:oy,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ac(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:de({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ol={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ue(),s=$r(e),i=or(n,s);i.payload=t,r!=null&&(i.callback=r),t=Mr(e,i,s),t!==null&&(Ft(t,e,s,n),eo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ue(),s=$r(e),i=or(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Mr(e,i,s),t!==null&&(Ft(t,e,s,n),eo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ue(),n=$r(e),s=or(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mr(e,s,n),t!==null&&(Ft(t,e,n,r),eo(t,e,n))}};function Xf(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ci(r,n)||!Ci(s,i):!0}function dy(e,t,r){var n=!1,s=Br,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(s=Xe(t)?wn:Fe.current,n=t.contextTypes,i=(n=n!=null)?fs(e,s):Br),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function oc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Id(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Nt(i):(i=Xe(t)?wn:Fe.current,s.context=fs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ac(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ol.enqueueReplaceState(s,s.state,null),Po(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t){try{var r="",n=t;do r+=Y1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Nj=typeof WeakMap=="function"?WeakMap:Map;function hy(e,t,r){r=or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Io||(Io=!0,vc=n),lc(e,t)},r}function fy(e,t,r){r=or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lc(e,t),typeof n!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function em(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Nj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Fj.bind(null,e,t,r),t.then(e,e))}function tm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=or(-1,1),t.tag=2,Mr(r,t,1))),r.lanes|=1),e)}var kj=vr.ReactCurrentOwner,Je=!1;function $e(e,t,r,n){t.child=e===null?Bg(t,null,r,n):ps(t,e.child,r,n)}function nm(e,t,r,n,s){r=r.render;var i=t.ref;return os(t,s),n=zd(e,t,r,n,i,s),r=Vd(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(ie&&r&&Cd(t),t.flags|=1,$e(e,t,n,s),t.child)}function sm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Yd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,my(e,t,i,n,s)):(e=ao(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ci,r(a,n)&&e.ref===t.ref)return hr(e,t,s)}return t.flags|=1,e=zr(i,n),e.ref=t.ref,e.return=t,t.child=e}function my(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ci(i,n)&&e.ref===t.ref)if(Je=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,hr(e,t,s)}return uc(e,t,r,n,s)}function py(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Yn,nt),nt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Yn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ee(Yn,nt),nt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ee(Yn,nt),nt|=n;return $e(e,t,s,r),t.child}function gy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uc(e,t,r,n,s){var i=Xe(r)?wn:Fe.current;return i=fs(t,i),os(t,s),r=zd(e,t,r,n,i,s),n=Vd(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(ie&&n&&Cd(t),t.flags|=1,$e(e,t,r,s),t.child)}function im(e,t,r,n,s){if(Xe(r)){var i=!0;ko(t)}else i=!1;if(os(t,s),t.stateNode===null)no(e,t),dy(t,r,n),oc(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Nt(c):(c=Xe(r)?wn:Fe.current,c=fs(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Zf(t,a,n,c),kr=!1;var h=t.memoizedState;a.state=h,Po(t,n,a,s),u=t.memoizedState,l!==n||h!==u||Ye.current||kr?(typeof d=="function"&&(ac(t,r,d,n),u=t.memoizedState),(l=kr||Xf(t,r,l,n,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Gg(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Rt(t.type,l),a.props=c,f=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Nt(u):(u=Xe(r)?wn:Fe.current,u=fs(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Zf(t,a,n,u),kr=!1,h=t.memoizedState,a.state=h,Po(t,n,a,s);var p=t.memoizedState;l!==f||h!==p||Ye.current||kr?(typeof m=="function"&&(ac(t,r,m,n),p=t.memoizedState),(c=kr||Xf(t,r,c,n,h,p,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return cc(e,t,r,n,i,s)}function cc(e,t,r,n,s,i){gy(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Gf(t,r,!1),hr(e,t,i);n=t.stateNode,kj.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ps(t,e.child,null,i),t.child=ps(t,null,l,i)):$e(e,t,l,i),t.memoizedState=n.state,s&&Gf(t,r,!0),t.child}function yy(e){var t=e.stateNode;t.pendingContext?Uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uf(e,t.context,!1),Dd(e,t.containerInfo)}function am(e,t,r,n,s){return ms(),Pd(s),t.flags|=256,$e(e,t,r,n),t.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function hc(e){return{baseLanes:e,cachePool:null,transitions:null}}function vy(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(ue,s&1),e===null)return sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=cl(a,n,0,null),e=yn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hc(r),t.memoizedState=dc,e):Gd(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Sj(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=zr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=zr(l,i):(i=yn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?hc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=dc,n}return i=e.child,e=i.sibling,n=zr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gd(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ea(e,t,r,n){return n!==null&&Pd(n),ps(t,e.child,null,r),e=Gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sj(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Xl(Error(T(422))),Ea(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=cl({mode:"visible",children:n.children},s,0,null),i=yn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ps(t,e.child,null,a),t.child.memoizedState=hc(a),t.memoizedState=dc,i);if(!(t.mode&1))return Ea(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=Xl(i,n,void 0),Ea(e,t,a,n)}if(l=(a&e.childLanes)!==0,Je||l){if(n=ke,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dr(e,s),Ft(n,e,s,-1))}return Qd(),n=Xl(Error(T(421))),Ea(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$j.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,at=Dr(s.nextSibling),ot=t,ie=!0,It=null,e!==null&&(yt[vt++]=ir,yt[vt++]=ar,yt[vt++]=bn,ir=e.id,ar=e.overflow,bn=t),t=Gd(t,n.children),t.flags|=4096,t)}function om(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ic(e.return,t,r)}function Zl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function xy(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if($e(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&om(e,r,t);else if(e.tag===19)om(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ro(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zl(t,!0,r,null,i);break;case"together":Zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=zr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ej(e,t,r){switch(t.tag){case 3:yy(t),ms();break;case 5:Wg(t);break;case 1:Xe(t.type)&&ko(t);break;case 4:Dd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ee(Co,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?vy(e,t,r):(ee(ue,ue.current&1),e=hr(e,t,r),e!==null?e.sibling:null);ee(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,py(e,t,r)}return hr(e,t,r)}var wy,fc,by,jy;wy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fc=function(){};by=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,hn(Qt.current);var i=null;switch(r){case"input":s=Iu(e,s),n=Iu(e,n),i=[];break;case"select":s=de({},s,{value:void 0}),n=de({},n,{value:void 0}),i=[];break;case"textarea":s=Fu(e,s),n=Fu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_o)}zu(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ne("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};jy=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gs(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Cj(e,t,r){var n=t.pendingProps;switch(Td(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Xe(t.type)&&No(),De(t),null;case 3:return n=t.stateNode,gs(),se(Ye),se(Fe),Fd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(bc(It),It=null))),fc(e,t),De(t),null;case 5:Md(t);var s=hn(Oi.current);if(r=t.type,e!==null&&t.stateNode!=null)by(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return De(t),null}if(e=hn(Qt.current),ka(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ht]=t,n[Ri]=i,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<Xs.length;s++)ne(Xs[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":gf(n,i),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ne("invalid",n);break;case"textarea":vf(n,i),ne("invalid",n)}zu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Na(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Na(n.textContent,l,e),s=["children",""+l]):bi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ne("scroll",n)}switch(r){case"input":ga(n),yf(n,i,!0);break;case"textarea":ga(n),xf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_o)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ht]=t,e[Ri]=n,wy(e,t,!1,!1),t.stateNode=e;e:{switch(a=Vu(r,n),r){case"dialog":ne("cancel",e),ne("close",e),s=n;break;case"iframe":case"object":case"embed":ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Xs.length;s++)ne(Xs[s],e);s=n;break;case"source":ne("error",e),s=n;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=n;break;case"details":ne("toggle",e),s=n;break;case"input":gf(e,n),s=Iu(e,n),ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=de({},n,{value:void 0}),ne("invalid",e);break;case"textarea":vf(e,n),s=Fu(e,n),ne("invalid",e);break;default:s=n}zu(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Z0(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Y0(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ji(e,u):typeof u=="number"&&ji(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bi.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ne("scroll",e):u!=null&&md(e,i,u,a))}switch(r){case"input":ga(e),yf(e,n,!1);break;case"textarea":ga(e),xf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ns(e,!!n.multiple,i,!1):n.defaultValue!=null&&ns(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_o)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)jy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=hn(Oi.current),hn(Qt.current),ka(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ht]=t,(i=n.nodeValue!==r)&&(e=ot,e!==null))switch(e.tag){case 3:Na(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ht]=t,t.stateNode=n}return De(t),null;case 13:if(se(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&at!==null&&t.mode&1&&!(t.flags&128))zg(),ms(),t.flags|=98560,i=!1;else if(i=ka(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Ht]=t}else ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else It!==null&&(bc(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?_e===0&&(_e=3):Qd())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return gs(),fc(e,t),e===null&&Ti(t.stateNode.containerInfo),De(t),null;case 10:return Od(t.type._context),De(t),null;case 17:return Xe(t.type)&&No(),De(t),null;case 19:if(se(ue),i=t.memoizedState,i===null)return De(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Gs(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ro(e),a!==null){for(t.flags|=128,Gs(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&ge()>vs&&(t.flags|=128,n=!0,Gs(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ro(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return De(t),null}else 2*ge()-i.renderingStartTime>vs&&r!==1073741824&&(t.flags|=128,n=!0,Gs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ge(),t.sibling=null,r=ue.current,ee(ue,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return Jd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Tj(e,t){switch(Td(t),t.tag){case 1:return Xe(t.type)&&No(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),se(Ye),se(Fe),Fd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Md(t),null;case 13:if(se(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ue),null;case 4:return gs(),null;case 10:return Od(t.type._context),null;case 22:case 23:return Jd(),null;case 24:return null;default:return null}}var Ca=!1,Me=!1,Pj=typeof WeakSet=="function"?WeakSet:Set,A=null;function Qn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(e,t,n)}else r.current=null}function mc(e,t,r){try{r()}catch(n){me(e,t,n)}}var lm=!1;function Rj(e,t){if(Yu=wo,e=Eg(),Ed(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===s&&(l=a),h===i&&++d===n&&(u=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xu={focusedElem:e,selectionRange:r},wo=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,w=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Rt(t.type,x),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(j){me(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return p=lm,lm=!1,p}function li(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mc(t,r,i)}s=s.next}while(s!==n)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _y(e){var t=e.alternate;t!==null&&(e.alternate=null,_y(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[Ri],delete t[tc],delete t[fj],delete t[mj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ny(e){return e.tag===5||e.tag===3||e.tag===4}function um(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_o));else if(n!==4&&(e=e.child,e!==null))for(gc(e,t,r),e=e.sibling;e!==null;)gc(e,t,r),e=e.sibling}function yc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yc(e,t,r),e=e.sibling;e!==null;)yc(e,t,r),e=e.sibling}var Te=null,Ot=!1;function wr(e,t,r){for(r=r.child;r!==null;)ky(e,t,r),r=r.sibling}function ky(e,t,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(el,r)}catch{}switch(r.tag){case 5:Me||Qn(r,t);case 6:var n=Te,s=Ot;Te=null,wr(e,t,r),Te=n,Ot=s,Te!==null&&(Ot?(e=Te,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(Ot?(e=Te,r=r.stateNode,e.nodeType===8?Hl(e.parentNode,r):e.nodeType===1&&Hl(e,r),Si(e)):Hl(Te,r.stateNode));break;case 4:n=Te,s=Ot,Te=r.stateNode.containerInfo,Ot=!0,wr(e,t,r),Te=n,Ot=s;break;case 0:case 11:case 14:case 15:if(!Me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mc(r,t,a),s=s.next}while(s!==n)}wr(e,t,r);break;case 1:if(!Me&&(Qn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){me(r,t,l)}wr(e,t,r);break;case 21:wr(e,t,r);break;case 22:r.mode&1?(Me=(n=Me)||r.memoizedState!==null,wr(e,t,r),Me=n):wr(e,t,r);break;default:wr(e,t,r)}}function cm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Pj),t.forEach(function(n){var s=zj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Et(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,Ot=!1;break e;case 3:Te=l.stateNode.containerInfo,Ot=!0;break e;case 4:Te=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Te===null)throw Error(T(160));ky(i,a,s),Te=null,Ot=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){me(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sy(t,e),t=t.sibling}function Sy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Gt(e),n&4){try{li(3,e,e.return),ll(3,e)}catch(x){me(e,e.return,x)}try{li(5,e,e.return)}catch(x){me(e,e.return,x)}}break;case 1:Et(t,e),Gt(e),n&512&&r!==null&&Qn(r,r.return);break;case 5:if(Et(t,e),Gt(e),n&512&&r!==null&&Qn(r,r.return),e.flags&32){var s=e.stateNode;try{ji(s,"")}catch(x){me(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&K0(s,i),Vu(l,a);var c=Vu(l,i);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?Z0(s,f):d==="dangerouslySetInnerHTML"?Y0(s,f):d==="children"?ji(s,f):md(s,d,f,c)}switch(l){case"input":Du(s,i);break;case"textarea":J0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ns(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ns(s,!!i.multiple,i.defaultValue,!0):ns(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ri]=i}catch(x){me(e,e.return,x)}}break;case 6:if(Et(t,e),Gt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){me(e,e.return,x)}}break;case 3:if(Et(t,e),Gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Si(t.containerInfo)}catch(x){me(e,e.return,x)}break;case 4:Et(t,e),Gt(e);break;case 13:Et(t,e),Gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qd=ge())),n&4&&cm(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Me=(c=Me)||d,Et(t,e),Me=c):Et(t,e),Gt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(f=A=d;A!==null;){switch(h=A,m=h.child,h.tag){case 0:case 11:case 14:case 15:li(4,h,h.return);break;case 1:Qn(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){me(n,r,x)}}break;case 5:Qn(h,h.return);break;case 22:if(h.memoizedState!==null){hm(f);continue}}m!==null?(m.return=h,A=m):hm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=X0("display",a))}catch(x){me(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){me(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Et(t,e),Gt(e),n&4&&cm(e);break;case 21:break;default:Et(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ny(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ji(s,""),n.flags&=-33);var i=um(e);yc(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=um(e);gc(e,l,a);break;default:throw Error(T(161))}}catch(u){me(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Aj(e,t,r){A=e,Ey(e)}function Ey(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ca;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Me;l=Ca;var c=Me;if(Ca=a,(Me=u)&&!c)for(A=s;A!==null;)a=A,u=a.child,a.tag===22&&a.memoizedState!==null?fm(s):u!==null?(u.return=a,A=u):fm(s);for(;i!==null;)A=i,Ey(i),i=i.sibling;A=s,Ca=l,Me=c}dm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):dm(e)}}function dm(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||ll(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Me)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jf(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jf(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Si(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Me||t.flags&512&&pc(t)}catch(h){me(t,t.return,h)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function hm(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function fm(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ll(4,t)}catch(u){me(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){me(t,s,u)}}var i=t.return;try{pc(t)}catch(u){me(t,i,u)}break;case 5:var a=t.return;try{pc(t)}catch(u){me(t,a,u)}}}catch(u){me(t,t.return,u)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var Oj=Math.ceil,Lo=vr.ReactCurrentDispatcher,Wd=vr.ReactCurrentOwner,jt=vr.ReactCurrentBatchConfig,K=0,ke=null,xe=null,Oe=0,nt=0,Yn=Hr(0),_e=0,Mi=null,_n=0,ul=0,Hd=0,ui=null,Ke=null,qd=0,vs=1/0,rr=null,Io=!1,vc=null,Fr=null,Ta=!1,Rr=null,Do=0,ci=0,xc=null,so=-1,io=0;function Ue(){return K&6?ge():so!==-1?so:so=ge()}function $r(e){return e.mode&1?K&2&&Oe!==0?Oe&-Oe:gj.transition!==null?(io===0&&(io=dg()),io):(e=J,e!==0||(e=window.event,e=e===void 0?16:vg(e.type)),e):1}function Ft(e,t,r,n){if(50<ci)throw ci=0,xc=null,Error(T(185));Zi(e,r,n),(!(K&2)||e!==ke)&&(e===ke&&(!(K&2)&&(ul|=r),_e===4&&Cr(e,Oe)),Ze(e,n),r===1&&K===0&&!(t.mode&1)&&(vs=ge()+500,il&&qr()))}function Ze(e,t){var r=e.callbackNode;gb(e,t);var n=xo(e,e===ke?Oe:0);if(n===0)r!==null&&jf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jf(r),t===1)e.tag===0?pj(mm.bind(null,e)):Mg(mm.bind(null,e)),dj(function(){!(K&6)&&qr()}),r=null;else{switch(hg(n)){case 1:r=xd;break;case 4:r=ug;break;case 16:r=vo;break;case 536870912:r=cg;break;default:r=vo}r=Iy(r,Cy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Cy(e,t){if(so=-1,io=0,K&6)throw Error(T(327));var r=e.callbackNode;if(ls()&&e.callbackNode!==r)return null;var n=xo(e,e===ke?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mo(e,n);else{t=n;var s=K;K|=2;var i=Py();(ke!==e||Oe!==t)&&(rr=null,vs=ge()+500,gn(e,t));do try{Dj();break}catch(l){Ty(e,l)}while(!0);Ad(),Lo.current=i,K=s,xe!==null?t=0:(ke=null,Oe=0,t=_e)}if(t!==0){if(t===2&&(s=Hu(e),s!==0&&(n=s,t=wc(e,s))),t===1)throw r=Mi,gn(e,0),Cr(e,n),Ze(e,ge()),r;if(t===6)Cr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Lj(s)&&(t=Mo(e,n),t===2&&(i=Hu(e),i!==0&&(n=i,t=wc(e,i))),t===1))throw r=Mi,gn(e,0),Cr(e,n),Ze(e,ge()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:nn(e,Ke,rr);break;case 3:if(Cr(e,n),(n&130023424)===n&&(t=qd+500-ge(),10<t)){if(xo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ue(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ec(nn.bind(null,e,Ke,rr),t);break}nn(e,Ke,rr);break;case 4:if(Cr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Mt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oj(n/1960))-n,10<n){e.timeoutHandle=ec(nn.bind(null,e,Ke,rr),n);break}nn(e,Ke,rr);break;case 5:nn(e,Ke,rr);break;default:throw Error(T(329))}}}return Ze(e,ge()),e.callbackNode===r?Cy.bind(null,e):null}function wc(e,t){var r=ui;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=Mo(e,t),e!==2&&(t=Ke,Ke=r,t!==null&&bc(t)),e}function bc(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function Lj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cr(e,t){for(t&=~Hd,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mt(t),n=1<<r;e[r]=-1,t&=~n}}function mm(e){if(K&6)throw Error(T(327));ls();var t=xo(e,0);if(!(t&1))return Ze(e,ge()),null;var r=Mo(e,t);if(e.tag!==0&&r===2){var n=Hu(e);n!==0&&(t=n,r=wc(e,n))}if(r===1)throw r=Mi,gn(e,0),Cr(e,t),Ze(e,ge()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,Ke,rr),Ze(e,ge()),null}function Kd(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(vs=ge()+500,il&&qr())}}function Nn(e){Rr!==null&&Rr.tag===0&&!(K&6)&&ls();var t=K;K|=1;var r=jt.transition,n=J;try{if(jt.transition=null,J=1,e)return e()}finally{J=n,jt.transition=r,K=t,!(K&6)&&qr()}}function Jd(){nt=Yn.current,se(Yn)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cj(r)),xe!==null)for(r=xe.return;r!==null;){var n=r;switch(Td(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&No();break;case 3:gs(),se(Ye),se(Fe),Fd();break;case 5:Md(n);break;case 4:gs();break;case 13:se(ue);break;case 19:se(ue);break;case 10:Od(n.type._context);break;case 22:case 23:Jd()}r=r.return}if(ke=e,xe=e=zr(e.current,null),Oe=nt=t,_e=0,Mi=null,Hd=ul=_n=0,Ke=ui=null,dn!==null){for(t=0;t<dn.length;t++)if(r=dn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}dn=null}return e}function Ty(e,t){do{var r=xe;try{if(Ad(),to.current=Oo,Ao){for(var n=ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ao=!1}if(jn=0,Ne=je=ce=null,oi=!1,Li=0,Wd.current=null,r===null||r.return===null){_e=1,Mi=t,xe=null;break}e:{var i=e,a=r.return,l=r,u=t;if(t=Oe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=tm(a);if(m!==null){m.flags&=-257,rm(m,a,l,i,t),m.mode&1&&em(i,c,t),t=m,u=c;var p=t.updateQueue;if(p===null){var x=new Set;x.add(u),t.updateQueue=x}else p.add(u);break e}else{if(!(t&1)){em(i,c,t),Qd();break e}u=Error(T(426))}}else if(ie&&l.mode&1){var w=tm(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),rm(w,a,l,i,t),Pd(ys(u,l));break e}}i=u=ys(u,l),_e!==4&&(_e=2),ui===null?ui=[i]:ui.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=hy(i,u,t);Kf(i,y);break e;case 1:l=u;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fr===null||!Fr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=fy(i,l,t);Kf(i,j);break e}}i=i.return}while(i!==null)}Ay(r)}catch(_){t=_,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(!0)}function Py(){var e=Lo.current;return Lo.current=Oo,e===null?Oo:e}function Qd(){(_e===0||_e===3||_e===2)&&(_e=4),ke===null||!(_n&268435455)&&!(ul&268435455)||Cr(ke,Oe)}function Mo(e,t){var r=K;K|=2;var n=Py();(ke!==e||Oe!==t)&&(rr=null,gn(e,t));do try{Ij();break}catch(s){Ty(e,s)}while(!0);if(Ad(),K=r,Lo.current=n,xe!==null)throw Error(T(261));return ke=null,Oe=0,_e}function Ij(){for(;xe!==null;)Ry(xe)}function Dj(){for(;xe!==null&&!ob();)Ry(xe)}function Ry(e){var t=Ly(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Ay(e):xe=t,Wd.current=null}function Ay(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Tj(r,t),r!==null){r.flags&=32767,xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,xe=null;return}}else if(r=Cj(r,t,nt),r!==null){xe=r;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);_e===0&&(_e=5)}function nn(e,t,r){var n=J,s=jt.transition;try{jt.transition=null,J=1,Mj(e,t,r,n)}finally{jt.transition=s,J=n}return null}function Mj(e,t,r,n){do ls();while(Rr!==null);if(K&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(yb(e,i),e===ke&&(xe=ke=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ta||(Ta=!0,Iy(vo,function(){return ls(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var a=J;J=1;var l=K;K|=4,Wd.current=null,Rj(e,r),Sy(r,e),nj(Xu),wo=!!Yu,Xu=Yu=null,e.current=r,Aj(r),lb(),K=l,J=a,jt.transition=i}else e.current=r;if(Ta&&(Ta=!1,Rr=e,Do=s),i=e.pendingLanes,i===0&&(Fr=null),db(r.stateNode),Ze(e,ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Io)throw Io=!1,e=vc,vc=null,e;return Do&1&&e.tag!==0&&ls(),i=e.pendingLanes,i&1?e===xc?ci++:(ci=0,xc=e):ci=0,qr(),null}function ls(){if(Rr!==null){var e=hg(Do),t=jt.transition,r=J;try{if(jt.transition=null,J=16>e?16:e,Rr===null)var n=!1;else{if(e=Rr,Rr=null,Do=0,K&6)throw Error(T(331));var s=K;for(K|=4,A=e.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(A=c;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:li(8,d,i)}var f=d.child;if(f!==null)f.return=d,A=f;else for(;A!==null;){d=A;var h=d.sibling,m=d.return;if(_y(d),d===c){A=null;break}if(h!==null){h.return=m,A=h;break}A=m}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:li(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,A=y;break e}A=i.return}}var v=e.current;for(A=v;A!==null;){a=A;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,A=g;else e:for(a=v;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(_){me(l,l.return,_)}if(l===a){A=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,A=j;break e}A=l.return}}if(K=s,qr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(el,e)}catch{}n=!0}return n}finally{J=r,jt.transition=t}}return!1}function pm(e,t,r){t=ys(r,t),t=hy(e,t,1),e=Mr(e,t,1),t=Ue(),e!==null&&(Zi(e,1,t),Ze(e,t))}function me(e,t,r){if(e.tag===3)pm(e,e,r);else for(;t!==null;){if(t.tag===3){pm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fr===null||!Fr.has(n))){e=ys(r,e),e=fy(t,e,1),t=Mr(t,e,1),e=Ue(),t!==null&&(Zi(t,1,e),Ze(t,e));break}}t=t.return}}function Fj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&r,ke===e&&(Oe&r)===r&&(_e===4||_e===3&&(Oe&130023424)===Oe&&500>ge()-qd?gn(e,0):Hd|=r),Ze(e,t)}function Oy(e,t){t===0&&(e.mode&1?(t=xa,xa<<=1,!(xa&130023424)&&(xa=4194304)):t=1);var r=Ue();e=dr(e,t),e!==null&&(Zi(e,t,r),Ze(e,r))}function $j(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Oy(e,r)}function zj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Oy(e,r)}var Ly;Ly=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,Ej(e,t,r);Je=!!(e.flags&131072)}else Je=!1,ie&&t.flags&1048576&&Fg(t,Eo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;no(e,t),e=t.pendingProps;var s=fs(t,Fe.current);os(t,r),s=zd(null,t,n,e,s,r);var i=Vd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(n)?(i=!0,ko(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Id(t),s.updater=ol,t.stateNode=s,s._reactInternals=t,oc(t,n,e,r),t=cc(null,t,n,!0,i,r)):(t.tag=0,ie&&i&&Cd(t),$e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(no(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Bj(n),e=Rt(n,e),s){case 0:t=uc(null,t,n,e,r);break e;case 1:t=im(null,t,n,e,r);break e;case 11:t=nm(null,t,n,e,r);break e;case 14:t=sm(null,t,n,Rt(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),uc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),im(e,t,n,s,r);case 3:e:{if(yy(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Gg(e,t),Po(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ys(Error(T(423)),t),t=am(e,t,n,r,s);break e}else if(n!==s){s=ys(Error(T(424)),t),t=am(e,t,n,r,s);break e}else for(at=Dr(t.stateNode.containerInfo.firstChild),ot=t,ie=!0,It=null,r=Bg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ms(),n===s){t=hr(e,t,r);break e}$e(e,t,n,r)}t=t.child}return t;case 5:return Wg(t),e===null&&sc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Zu(n,s)?a=null:i!==null&&Zu(n,i)&&(t.flags|=32),gy(e,t),$e(e,t,a,r),t.child;case 6:return e===null&&sc(t),null;case 13:return vy(e,t,r);case 4:return Dd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ps(t,null,n,r):$e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),nm(e,t,n,s,r);case 7:return $e(e,t,t.pendingProps,r),t.child;case 8:return $e(e,t,t.pendingProps.children,r),t.child;case 12:return $e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ee(Co,n._currentValue),n._currentValue=a,i!==null)if(Vt(i.value,a)){if(i.children===s.children&&!Ye.current){t=hr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=or(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ic(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ic(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}$e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,os(t,r),s=Nt(s),n=n(s),t.flags|=1,$e(e,t,n,r),t.child;case 14:return n=t.type,s=Rt(n,t.pendingProps),s=Rt(n.type,s),sm(e,t,n,s,r);case 15:return my(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),no(e,t),t.tag=1,Xe(n)?(e=!0,ko(t)):e=!1,os(t,r),dy(t,n,s),oc(t,n,s,r),cc(null,t,n,!0,e,r);case 19:return xy(e,t,r);case 22:return py(e,t,r)}throw Error(T(156,t.tag))};function Iy(e,t){return lg(e,t)}function Vj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,r,n){return new Vj(e,t,r,n)}function Yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bj(e){if(typeof e=="function")return Yd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gd)return 11;if(e===yd)return 14}return 2}function zr(e,t){var r=e.alternate;return r===null?(r=wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ao(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Yd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vn:return yn(r.children,s,i,t);case pd:a=8,s|=8;break;case Ru:return e=wt(12,r,t,s|2),e.elementType=Ru,e.lanes=i,e;case Au:return e=wt(13,r,t,s),e.elementType=Au,e.lanes=i,e;case Ou:return e=wt(19,r,t,s),e.elementType=Ou,e.lanes=i,e;case W0:return cl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U0:a=10;break e;case G0:a=9;break e;case gd:a=11;break e;case yd:a=14;break e;case Nr:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=wt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function yn(e,t,r,n){return e=wt(7,e,n,t),e.lanes=r,e}function cl(e,t,r,n){return e=wt(22,e,n,t),e.elementType=W0,e.lanes=r,e.stateNode={isHidden:!1},e}function eu(e,t,r){return e=wt(6,e,null,t),e.lanes=r,e}function tu(e,t,r){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xd(e,t,r,n,s,i,a,l,u){return e=new Uj(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=wt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(i),e}function Gj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Dy(e){if(!e)return Br;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Xe(r))return Dg(e,r,t)}return t}function My(e,t,r,n,s,i,a,l,u){return e=Xd(r,n,!0,e,s,i,a,l,u),e.context=Dy(null),r=e.current,n=Ue(),s=$r(r),i=or(n,s),i.callback=t??null,Mr(r,i,s),e.current.lanes=s,Zi(e,s,n),Ze(e,n),e}function dl(e,t,r,n){var s=t.current,i=Ue(),a=$r(s);return r=Dy(r),t.context===null?t.context=r:t.pendingContext=r,t=or(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mr(s,t,a),e!==null&&(Ft(e,s,a,i),eo(e,s,a)),a}function Fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zd(e,t){gm(e,t),(e=e.alternate)&&gm(e,t)}function Wj(){return null}var Fy=typeof reportError=="function"?reportError:function(e){console.error(e)};function eh(e){this._internalRoot=e}hl.prototype.render=eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));dl(e,t,null,null)};hl.prototype.unmount=eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){dl(null,e,null,null)}),t[cr]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Er.length&&t!==0&&t<Er[r].priority;r++);Er.splice(r,0,e),r===0&&yg(e)}};function th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ym(){}function Hj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Fo(a);i.call(c)}}var a=My(t,n,e,0,null,!1,!1,"",ym);return e._reactRootContainer=a,e[cr]=a.current,Ti(e.nodeType===8?e.parentNode:e),Nn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Fo(u);l.call(c)}}var u=Xd(e,0,!1,null,null,!1,!1,"",ym);return e._reactRootContainer=u,e[cr]=u.current,Ti(e.nodeType===8?e.parentNode:e),Nn(function(){dl(t,u,r,n)}),u}function ml(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=Fo(a);l.call(u)}}dl(t,a,e,s)}else a=Hj(r,t,e,s,n);return Fo(a)}fg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ys(t.pendingLanes);r!==0&&(wd(t,r|1),Ze(t,ge()),!(K&6)&&(vs=ge()+500,qr()))}break;case 13:Nn(function(){var n=dr(e,1);if(n!==null){var s=Ue();Ft(n,e,1,s)}}),Zd(e,1)}};bd=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var r=Ue();Ft(t,e,134217728,r)}Zd(e,134217728)}};mg=function(e){if(e.tag===13){var t=$r(e),r=dr(e,t);if(r!==null){var n=Ue();Ft(r,e,t,n)}Zd(e,t)}};pg=function(){return J};gg=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};Uu=function(e,t,r){switch(t){case"input":if(Du(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=sl(n);if(!s)throw Error(T(90));q0(n),Du(n,s)}}}break;case"textarea":J0(e,r);break;case"select":t=r.value,t!=null&&ns(e,!!r.multiple,t,!1)}};rg=Kd;ng=Nn;var qj={usingClientEntryPoint:!1,Events:[ta,Wn,sl,eg,tg,Kd]},Ws={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kj={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ag(e),e===null?null:e.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||Wj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{el=Pa.inject(Kj),Jt=Pa}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(t))throw Error(T(200));return Gj(e,t,null,r)};ut.createRoot=function(e,t){if(!th(e))throw Error(T(299));var r=!1,n="",s=Fy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xd(e,1,!1,null,null,r,!1,n,s),e[cr]=t.current,Ti(e.nodeType===8?e.parentNode:e),new eh(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=ag(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Nn(e)};ut.hydrate=function(e,t,r){if(!fl(t))throw Error(T(200));return ml(null,e,t,!0,r)};ut.hydrateRoot=function(e,t,r){if(!th(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Fy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=My(t,null,e,1,r??null,s,!1,i,a),e[cr]=t.current,Ti(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new hl(t)};ut.render=function(e,t,r){if(!fl(t))throw Error(T(200));return ml(null,e,t,!1,r)};ut.unmountComponentAtNode=function(e){if(!fl(e))throw Error(T(40));return e._reactRootContainer?(Nn(function(){ml(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1};ut.unstable_batchedUpdates=Kd;ut.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!fl(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return ml(e,t,r,!1,n)};ut.version="18.3.1-next-f1338f8080-20240426";function $y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($y)}catch(e){console.error(e)}}$y(),$0.exports=ut;var Jj=$0.exports,zy,vm=Jj;zy=vm.createRoot,vm.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xm="popstate";function Qj(e={}){function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return jc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Fi(s)}return Xj(t,r,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function St(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yj(){return Math.random().toString(36).substring(2,10)}function wm(e,t){return{usr:e.state,key:e.key,idx:t}}function jc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Es(t):t,state:r,key:t&&t.key||n||Yj()}}function Fi({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Es(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Xj(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let w=d(),y=w==null?null:w-c;c=w,u&&u({action:l,location:x.location,delta:y})}function h(w,y){l="PUSH";let v=jc(x.location,w,y);c=d()+1;let g=wm(v,c),j=x.createHref(v);try{a.pushState(g,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&u&&u({action:l,location:x.location,delta:1})}function m(w,y){l="REPLACE";let v=jc(x.location,w,y);c=d();let g=wm(v,c),j=x.createHref(v);a.replaceState(g,"",j),i&&u&&u({action:l,location:x.location,delta:0})}function p(w){return Zj(w)}let x={get action(){return l},get location(){return e(s,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(xm,f),u=w,()=>{s.removeEventListener(xm,f),u=null}},createHref(w){return t(s,w)},createURL:p,encodeLocation(w){let y=p(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(w){return a.go(w)}};return x}function Zj(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),oe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Fi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Vy(e,t,r="/"){return e2(e,t,r,!1)}function e2(e,t,r,n){let s=typeof t=="string"?Es(t):t,i=fr(s.pathname||"/",r);if(i==null)return null;let a=By(e);t2(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=h2(i);l=c2(a[u],c,n)}return l}function By(e,t=[],r=[],n="",s=!1){let i=(a,l,u=s,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;oe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=lr([n,d.relativePath]),h=r.concat(d);a.children&&a.children.length>0&&(oe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),By(a.children,t,h,f,u)),!(a.path==null&&!a.index)&&t.push({path:f,score:l2(f,a.index),routesMeta:h})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let c of Uy(a.path))i(a,l,!0,c)}),t}function Uy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Uy(n.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function t2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:u2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var r2=/^:[\w-]+$/,n2=3,s2=2,i2=1,a2=10,o2=-2,bm=e=>e==="*";function l2(e,t){let r=e.split("/"),n=r.length;return r.some(bm)&&(n+=o2),t&&(n+=s2),r.filter(s=>!bm(s)).reduce((s,i)=>s+(r2.test(i)?n2:i===""?i2:a2),n)}function u2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function c2(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=$o({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=$o({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:lr([i,f.pathname]),pathnameBase:y2(lr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=lr([i,f.pathnameBase]))}return a}function $o(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=d2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let p=l[h]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function d2(e,t=!1,r=!0){St(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function h2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return St(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var f2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=e=>f2.test(e);function p2(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Es(e):e,i;if(r)if(m2(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),St(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=jm(r.substring(1),"/"):i=jm(r,t)}else i=t;return{pathname:i,search:v2(n),hash:x2(s)}}function jm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ru(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rh(e){let t=g2(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function nh(e,t,r,n=!1){let s;typeof e=="string"?s=Es(e):(s={...e},oe(!s.pathname||!s.pathname.includes("?"),ru("?","pathname","search",s)),oe(!s.pathname||!s.pathname.includes("#"),ru("#","pathname","hash",s)),oe(!s.search||!s.search.includes("#"),ru("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let u=p2(s,l),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),y2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gy=["POST","PUT","PATCH","DELETE"];new Set(Gy);var b2=["GET",...Gy];new Set(b2);var Cs=b.createContext(null);Cs.displayName="DataRouter";var pl=b.createContext(null);pl.displayName="DataRouterState";b.createContext(!1);var Wy=b.createContext({isTransitioning:!1});Wy.displayName="ViewTransition";var j2=b.createContext(new Map);j2.displayName="Fetchers";var _2=b.createContext(null);_2.displayName="Await";var Bt=b.createContext(null);Bt.displayName="Navigation";var na=b.createContext(null);na.displayName="Location";var Ut=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ut.displayName="Route";var sh=b.createContext(null);sh.displayName="RouteError";function N2(e,{relative:t}={}){oe(Ts(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Bt),{hash:s,pathname:i,search:a}=sa(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:lr([r,i])),n.createHref({pathname:l,search:a,hash:s})}function Ts(){return b.useContext(na)!=null}function Kr(){return oe(Ts(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(na).location}var Hy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qy(e){b.useContext(Bt).static||b.useLayoutEffect(e)}function xr(){let{isDataRoute:e}=b.useContext(Ut);return e?F2():k2()}function k2(){oe(Ts(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Cs),{basename:t,navigator:r}=b.useContext(Bt),{matches:n}=b.useContext(Ut),{pathname:s}=Kr(),i=JSON.stringify(rh(n)),a=b.useRef(!1);return qy(()=>{a.current=!0}),b.useCallback((u,c={})=>{if(St(a.current,Hy),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=nh(u,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:lr([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}b.createContext(null);function S2(){let{matches:e}=b.useContext(Ut),t=e[e.length-1];return t?t.params:{}}function sa(e,{relative:t}={}){let{matches:r}=b.useContext(Ut),{pathname:n}=Kr(),s=JSON.stringify(rh(r));return b.useMemo(()=>nh(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function E2(e,t){return Ky(e,t)}function Ky(e,t,r,n,s){var v;oe(Ts(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Bt),{matches:a}=b.useContext(Ut),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let g=f&&f.path||"";Jy(c,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=Kr(),m;if(t){let g=typeof t=="string"?Es(t):t;oe(d==="/"||((v=g.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),m=g}else m=h;let p=m.pathname||"/",x=p;if(d!=="/"){let g=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=Vy(e,{pathname:x});St(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),St(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=A2(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},u,g.params),pathname:lr([d,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:lr([d,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),a,r,n,s);return t&&y?b.createElement(na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function C2(){let e=M2(),t=w2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}var T2=b.createElement(C2,null),P2=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ut.Provider,{value:this.props.routeContext},b.createElement(sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R2({routeContext:e,match:t,children:r}){let n=b.useContext(Cs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ut.Provider,{value:e},r)}function A2(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);oe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let c=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let m,p=!1,x=null,w=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||T2,l&&(u<0&&h===0?(Jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):u===h&&(p=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),v=()=>{let g;return m?g=x:p?g=w:f.route.Component?g=b.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,b.createElement(R2,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(P2,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:c}):v()},null)}function ih(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O2(e){let t=b.useContext(Cs);return oe(t,ih(e)),t}function L2(e){let t=b.useContext(pl);return oe(t,ih(e)),t}function I2(e){let t=b.useContext(Ut);return oe(t,ih(e)),t}function ah(e){let t=I2(e),r=t.matches[t.matches.length-1];return oe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function D2(){return ah("useRouteId")}function M2(){var n;let e=b.useContext(sh),t=L2("useRouteError"),r=ah("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function F2(){let{router:e}=O2("useNavigate"),t=ah("useNavigate"),r=b.useRef(!1);return qy(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{St(r.current,Hy),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var _m={};function Jy(e,t,r){!t&&!_m[e]&&(_m[e]=!0,St(!1,r))}b.memo($2);function $2({routes:e,future:t,state:r,unstable_onError:n}){return Ky(e,void 0,r,n,t)}function Qy({to:e,replace:t,state:r,relative:n}){oe(Ts(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Bt);St(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Ut),{pathname:a}=Kr(),l=xr(),u=nh(e,rh(i),a,n==="path"),c=JSON.stringify(u);return b.useEffect(()=>{l(JSON.parse(c),{replace:t,state:r,relative:n})},[l,c,n,t,r]),null}function Ct(e){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z2({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){oe(!Ts(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=Es(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,m=b.useMemo(()=>{let p=fr(u,a);return p==null?null:{location:{pathname:p,search:c,hash:d,state:f,key:h},navigationType:n}},[a,u,c,d,f,h,n]);return St(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(Bt.Provider,{value:l},b.createElement(na.Provider,{children:t,value:m}))}function V2({children:e,location:t}){return E2(_c(e),t)}function _c(e,t=[]){let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,_c(n.props.children,i));return}oe(n.type===Ct,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=_c(n.props.children,i)),r.push(a)}),r}var oo="get",lo="application/x-www-form-urlencoded";function gl(e){return e!=null&&typeof e.tagName=="string"}function B2(e){return gl(e)&&e.tagName.toLowerCase()==="button"}function U2(e){return gl(e)&&e.tagName.toLowerCase()==="form"}function G2(e){return gl(e)&&e.tagName.toLowerCase()==="input"}function W2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H2(e,t){return e.button===0&&(!t||t==="_self")&&!W2(e)}var Ra=null;function q2(){if(Ra===null)try{new FormData(document.createElement("form"),0),Ra=!1}catch{Ra=!0}return Ra}var K2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nu(e){return e!=null&&!K2.has(e)?(St(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lo}"`),null):e}function J2(e,t){let r,n,s,i,a;if(U2(e)){let l=e.getAttribute("action");n=l?fr(l,t):null,r=e.getAttribute("method")||oo,s=nu(e.getAttribute("enctype"))||lo,i=new FormData(e)}else if(B2(e)||G2(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?fr(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||oo,s=nu(e.getAttribute("formenctype"))||nu(l.getAttribute("enctype"))||lo,i=new FormData(l,e),!q2()){let{name:c,type:d,value:f}=e;if(d==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,f)}}else{if(gl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oo,n=null,s=lo,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q2(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&fr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Y2(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Z2(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await Y2(i,r);return a.links?a.links():[]}return[]}));return n_(n.flat(1).filter(X2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Nm(e,t,r,n,s,i){let a=(u,c)=>r[c]?u.route.id!==r[c].route.id:!0,l=(u,c)=>{var d;return r[c].pathname!==u.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,c)=>a(u,c)||l(u,c)):i==="data"?t.filter((u,c)=>{var f;let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function e_(e,t,{includeHydrateFallback:r}={}){return t_(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function t_(e){return[...new Set(e)]}function r_(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function n_(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(r_(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Yy(){let e=b.useContext(Cs);return oh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function s_(){let e=b.useContext(pl);return oh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lh=b.createContext(void 0);lh.displayName="FrameworkContext";function Xy(){let e=b.useContext(lh);return oh(e,"You must render this element inside a <HydratedRouter> element"),e}function i_(e,t){let r=b.useContext(lh),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=y=>{y.forEach(v=>{a(v.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{s(!0)},p=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Hs(l,m),onBlur:Hs(u,p),onMouseEnter:Hs(c,m),onMouseLeave:Hs(d,p),onTouchStart:Hs(f,m)}]:[!1,h,{}]}function Hs(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function a_({page:e,...t}){let{router:r}=Yy(),n=b.useMemo(()=>Vy(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(l_,{page:e,matches:n,...t}):null}function o_(e){let{manifest:t,routeModules:r}=Xy(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return Z2(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function l_({page:e,matches:t,...r}){let n=Kr(),{manifest:s,routeModules:i}=Xy(),{basename:a}=Yy(),{loaderData:l,matches:u}=s_(),c=b.useMemo(()=>Nm(e,t,u,s,n,"data"),[e,t,u,s,n]),d=b.useMemo(()=>Nm(e,t,u,s,n,"assets"),[e,t,u,s,n]),f=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,x=!1;if(t.forEach(y=>{var g;let v=s.routes[y.route.id];!v||!v.hasLoader||(!c.some(j=>j.route.id===y.route.id)&&y.route.id in l&&((g=i[y.route.id])!=null&&g.shouldRevalidate)||v.hasClientLoader?x=!0:p.add(y.route.id))}),p.size===0)return[];let w=Q2(e,a,"data");return x&&p.size>0&&w.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[a,l,n,s,c,t,e,i]),h=b.useMemo(()=>e_(d,s),[d,s]),m=o_(d);return b.createElement(b.Fragment,null,f.map(p=>b.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>b.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:x})=>b.createElement("link",{key:p,nonce:r.nonce,...x})))}function u_(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Zy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zy&&(window.__reactRouterVersion="7.9.6")}catch{}function c_({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=Qj({window:r,v5Compat:!0}));let s=n.current,[i,a]=b.useState({action:s.action,location:s.location}),l=b.useCallback(u=>{b.startTransition(()=>a(u))},[a]);return b.useLayoutEffect(()=>s.listen(l),[s,l]),b.createElement(z2,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f,...h},m){let{basename:p}=b.useContext(Bt),x=typeof c=="string"&&ev.test(c),w,y=!1;if(typeof c=="string"&&x&&(w=c,Zy))try{let E=new URL(window.location.href),R=c.startsWith("//")?new URL(E.protocol+c):new URL(c),I=fr(R.pathname,p);R.origin===E.origin&&I!=null?c=I+R.search+R.hash:y=!0}catch{St(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=N2(c,{relative:s}),[g,j,_]=i_(n,h),N=m_(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:f});function k(E){t&&t(E),E.defaultPrevented||N(E)}let S=b.createElement("a",{...h,..._,href:w||v,onClick:y||i?t:k,ref:u_(m,j),target:u,"data-discover":!x&&r==="render"?"true":void 0});return g&&!x?b.createElement(b.Fragment,null,S,b.createElement(a_,{page:v})):S});q.displayName="Link";var d_=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:u,...c},d){let f=sa(a,{relative:c.relative}),h=Kr(),m=b.useContext(pl),{navigator:p,basename:x}=b.useContext(Bt),w=m!=null&&x_(f)&&l===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,v=h.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(v=v.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase()),g&&x&&(g=fr(g,x)||g);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=v===y||!s&&v.startsWith(y)&&v.charAt(j)==="/",N=g!=null&&(g===y||!s&&g.startsWith(y)&&g.charAt(y.length)==="/"),k={isActive:_,isPending:N,isTransitioning:w},S=_?t:void 0,E;typeof n=="function"?E=n(k):E=[n,_?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(k):i;return b.createElement(q,{...c,"aria-current":S,className:E,ref:d,style:R,to:a,viewTransition:l},typeof u=="function"?u(k):u)});d_.displayName="NavLink";var h_=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=oo,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:f,...h},m)=>{let p=y_(),x=v_(l,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&ev.test(l),v=g=>{if(u&&u(g),g.defaultPrevented)return;g.preventDefault();let j=g.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||a;p(j||g.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:f})};return b.createElement("form",{ref:m,method:w,action:x,onSubmit:n?u:v,...h,"data-discover":!y&&e==="render"?"true":void 0})});h_.displayName="Form";function f_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tv(e){let t=b.useContext(Cs);return oe(t,f_(e)),t}function m_(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=xr(),u=Kr(),c=sa(e,{relative:i});return b.useCallback(d=>{if(H2(d,t)){d.preventDefault();let f=r!==void 0?r:Fi(u)===Fi(c);l(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[u,l,c,r,n,t,e,s,i,a])}var p_=0,g_=()=>`__${String(++p_)}__`;function y_(){let{router:e}=tv("useSubmit"),{basename:t}=b.useContext(Bt),r=D2();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:l,formData:u,body:c}=J2(n,t);if(s.navigate===!1){let d=s.fetcherKey||g_();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function v_(e,{relative:t}={}){let{basename:r}=b.useContext(Bt),n=b.useContext(Ut);oe(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...sa(e||".",{relative:t})},a=Kr();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:lr([r,i.pathname])),Fi(i)}function x_(e,{relative:t}={}){let r=b.useContext(Wy);oe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=tv("useViewTransitionState"),s=sa(e,{relative:t});if(!r.isTransitioning)return!1;let i=fr(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=fr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $o(s.pathname,a)!=null||$o(s.pathname,i)!=null}var Nc=function(e,t){return Nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Nc(e,t)};function rv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zo=function(){return zo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zo.apply(this,arguments)};function Ps(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nv(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function sv(e,t){return function(r,n){t(r,n,e)}}function iv(e,t,r,n,s,i){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,u=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var x in n)p[x]=x==="access"?{}:n[x];for(var x in n.access)p.access[x]=n.access[x];p.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(y||null))};var w=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[u],p);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=a(w.get))&&(d.get=f),(f=a(w.set))&&(d.set=f),(f=a(w.init))&&s.unshift(f)}else(f=a(w))&&(l==="field"?s.unshift(f):d[u]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function av(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function ov(e){return typeof e=="symbol"?e:"".concat(e)}function lv(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function uv(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function O(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})}function cv(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var yl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function dv(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yl(t,e,r)}function Vo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function uh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function hv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(uh(arguments[t]));return e}function fv(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function mv(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function xs(e){return this instanceof xs?(this.v=e,this):new xs(e)}function pv(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(m){return function(p){return Promise.resolve(p).then(m,f)}}function l(m,p){n[m]&&(s[m]=function(x){return new Promise(function(w,y){i.push([m,x,w,y])>1||u(m,x)})},p&&(s[m]=p(s[m])))}function u(m,p){try{c(n[m](p))}catch(x){h(i[0][3],x)}}function c(m){m.value instanceof xs?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){u("next",m)}function f(m){u("throw",m)}function h(m,p){m(p),i.shift(),i.length&&u(i[0][0],i[0][1])}}function gv(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:xs(e[s](a)),done:!1}:i?i(a):a}:i}}function yv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Vo=="function"?Vo(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,u){a=e[i](a),s(l,u,a.done,a.value)})}}function s(i,a,l,u){Promise.resolve(u).then(function(c){i({value:c,done:l})},a)}}function vv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var w_=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},kc=function(e){return kc=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},kc(e)};function xv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=kc(e),n=0;n<r.length;n++)r[n]!=="default"&&yl(t,e,r[n]);return w_(t,e),t}function wv(e){return e&&e.__esModule?e:{default:e}}function bv(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function jv(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function _v(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Nv(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var b_=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function kv(e){function t(i){e.error=e.hasError?new b_(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Sv(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const j_={__extends:rv,__assign:zo,__rest:Ps,__decorate:nv,__param:sv,__esDecorate:iv,__runInitializers:av,__propKey:ov,__setFunctionName:lv,__metadata:uv,__awaiter:O,__generator:cv,__createBinding:yl,__exportStar:dv,__values:Vo,__read:uh,__spread:hv,__spreadArrays:fv,__spreadArray:mv,__await:xs,__asyncGenerator:pv,__asyncDelegator:gv,__asyncValues:yv,__makeTemplateObject:vv,__importStar:xv,__importDefault:wv,__classPrivateFieldGet:bv,__classPrivateFieldSet:jv,__classPrivateFieldIn:_v,__addDisposableResource:Nv,__disposeResources:kv,__rewriteRelativeImportExtension:Sv},__=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Nv,get __assign(){return zo},__asyncDelegator:gv,__asyncGenerator:pv,__asyncValues:yv,__await:xs,__awaiter:O,__classPrivateFieldGet:bv,__classPrivateFieldIn:_v,__classPrivateFieldSet:jv,__createBinding:yl,__decorate:nv,__disposeResources:kv,__esDecorate:iv,__exportStar:dv,__extends:rv,__generator:cv,__importDefault:wv,__importStar:xv,__makeTemplateObject:vv,__metadata:uv,__param:sv,__propKey:ov,__read:uh,__rest:Ps,__rewriteRelativeImportExtension:Sv,__runInitializers:av,__setFunctionName:lv,__spread:hv,__spreadArray:mv,__spreadArrays:fv,__values:Vo,default:j_},Symbol.toStringTag,{value:"Module"})),N_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ch extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class k_ extends ch{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class km extends ch{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sm extends ch{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sc||(Sc={}));class S_{constructor(t,{headers:r={},customFetch:n,region:s=Sc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=N_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return O(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:u,body:c,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let x;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(h["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(h["Content-Type"]="application/json",x=JSON.stringify(c)):x=c;let w=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const y=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:x,signal:w}).catch(_=>{throw new k_(_)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new km(y);if(!y.ok)throw new Sm(y);let g=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return g==="application/json"?j=yield y.json():g==="application/octet-stream"||g==="application/pdf"?j=yield y.blob():g==="text/event-stream"?j=y:g==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Sm||l instanceof km?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ve={};const Rs=_1(__);var Aa={},Oa={},La={},Ia={},Da={},Ma={},Em;function Ev(){if(Em)return Ma;Em=1,Object.defineProperty(Ma,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ma.default=e,Ma}var Cm;function Cv(){if(Cm)return Da;Cm=1,Object.defineProperty(Da,"__esModule",{value:!0});const t=Rs.__importDefault(Ev());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,h;let m=null,p=null,x=null,w=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const _=await u.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?p=_:p=JSON.parse(_))}const g=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,x=null,w=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const g=await u.text();try{m=JSON.parse(g),Array.isArray(m)&&u.status===404&&(p=[],m=null,w=200,y="OK")}catch{u.status===404&&g===""?(w=204,y="No Content"):m={message:g}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,w=200,y="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:p,count:x,status:w,statusText:y}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f,h,m,p;let x="";const w=u==null?void 0:u.cause;if(w){const y=(c=w==null?void 0:w.message)!==null&&c!==void 0?c:"",v=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";x=`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,x+=`

Caused by: ${(h=w==null?void 0:w.name)!==null&&h!==void 0?h:"Error"}: ${y}`,v&&(x+=` (${v})`),w!=null&&w.stack&&(x+=`
${w.stack}`)}else x=(m=u==null?void 0:u.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"FetchError"}: ${u==null?void 0:u.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Da.default=r,Da}var Tm;function Tv(){if(Tm)return Ia;Tm=1,Object.defineProperty(Ia,"__esModule",{value:!0});const t=Rs.__importDefault(Cv());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ia.default=r,Ia}var Pm;function dh(){if(Pm)return La;Pm=1,Object.defineProperty(La,"__esModule",{value:!0});const t=Rs.__importDefault(Tv()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return La.default=n,La}var Rm;function Pv(){if(Rm)return Oa;Rm=1,Object.defineProperty(Oa,"__esModule",{value:!0});const t=Rs.__importDefault(dh());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},u=a?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Oa.default=r,Oa}var Am;function E_(){if(Am)return Aa;Am=1,Object.defineProperty(Aa,"__esModule",{value:!0});const e=Rs,t=e.__importDefault(Pv()),r=e.__importDefault(dh());class n{constructor(i,{headers:a={},schema:l,fetch:u}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:u=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||u?(f=l?"HEAD":"GET",Object.entries(a).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{h.searchParams.append(x,w)})):(f="POST",m=a);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Aa.default=n,Aa}Object.defineProperty(Ve,"__esModule",{value:!0});var Rv=Ve.PostgrestError=Vv=Ve.PostgrestBuilder=$v=Ve.PostgrestTransformBuilder=Mv=Ve.PostgrestFilterBuilder=Iv=Ve.PostgrestQueryBuilder=Ov=Ve.PostgrestClient=void 0;const As=Rs,Av=As.__importDefault(E_());var Ov=Ve.PostgrestClient=Av.default;const Lv=As.__importDefault(Pv());var Iv=Ve.PostgrestQueryBuilder=Lv.default;const Dv=As.__importDefault(dh());var Mv=Ve.PostgrestFilterBuilder=Dv.default;const Fv=As.__importDefault(Tv());var $v=Ve.PostgrestTransformBuilder=Fv.default;const zv=As.__importDefault(Cv());var Vv=Ve.PostgrestBuilder=zv.default;const Bv=As.__importDefault(Ev());Rv=Ve.PostgrestError=Bv.default;var Uv=Ve.default={PostgrestClient:Av.default,PostgrestQueryBuilder:Lv.default,PostgrestFilterBuilder:Dv.default,PostgrestTransformBuilder:Fv.default,PostgrestBuilder:zv.default,PostgrestError:Bv.default};const C_=j1({__proto__:null,get PostgrestBuilder(){return Vv},get PostgrestClient(){return Ov},get PostgrestError(){return Rv},get PostgrestFilterBuilder(){return Mv},get PostgrestQueryBuilder(){return Iv},get PostgrestTransformBuilder(){return $v},default:Uv},[Ve]),{PostgrestClient:T_,PostgrestQueryBuilder:$R,PostgrestFilterBuilder:zR,PostgrestTransformBuilder:VR,PostgrestBuilder:BR,PostgrestError:UR}=Uv||C_;class P_{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const R_="2.84.0",A_=`realtime-js/${R_}`,Gv="1.0.0",O_="2.0.0",Om=Gv,Ec=1e4,L_=1e3,I_=100;var on;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(on||(on={}));var be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(be||(be={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var Cc;(function(e){e.websocket="websocket"})(Cc||(Cc={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class D_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",u=(n=t.join_ref)!==null&&n!==void 0?n:"",c=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+c.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,u.length),m.setUint8(p++,l.length),m.setUint8(p++,a.length),m.setUint8(p++,c.length),m.setUint8(p++,this.BINARY_ENCODING),Array.from(u,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(l,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(c,w=>m.setUint8(p++,w.charCodeAt(0)));var x=new Uint8Array(h.byteLength+d.byteLength);return x.set(new Uint8Array(h),0),x.set(new Uint8Array(d),h.byteLength),x.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",u=(n=t.join_ref)!==null&&n!==void 0?n:"",c=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+c.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(p),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,u.length),x.setUint8(w++,l.length),x.setUint8(w++,a.length),x.setUint8(w++,c.length),x.setUint8(w++,this.JSON_ENCODING),Array.from(u,v=>x.setUint8(w++,v.charCodeAt(0))),Array.from(l,v=>x.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>x.setUint8(w++,v.charCodeAt(0))),Array.from(c,v=>x.setUint8(w++,v.charCodeAt(0)));var y=new Uint8Array(p.byteLength+h.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(h),p.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,u]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(t.slice(u,u+s));u=u+s;const d=n.decode(t.slice(u,u+i));u=u+i;const f=n.decode(t.slice(u,u+a));u=u+a;const h=t.slice(u,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,p={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(p.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Wv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const Lm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=M_(a,e,t,s),i),{}):{}},M_=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Hv(i,a):Tc(a)},Hv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return V_(t,r)}switch(e){case X.bool:return F_(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return $_(t);case X.json:case X.jsonb:return z_(t);case X.timestamp:return B_(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Tc(t);default:return Tc(t)}},Tc=e=>e,F_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},z_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V_=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Hv(t,l))}return e},B_=e=>typeof e=="string"?e.replace(" ","T"):e,qv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class su{constructor(t,r,n={},s=Ec){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Im;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Im||(Im={}));class di{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=di.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=di.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[c]=p),x.length>0&&(u[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dm||(Dm={}));var hi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hi||(hi={}));var nr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class hh{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new su(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new Wv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new di(this),this.broadcastEndpointURL=qv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[hi.PRESENCE]&&this.bindings[hi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(nr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(nr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(nr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<w;v++){const g=x[v],{filter:{event:j,schema:_,table:N,filter:k}}=g,S=m&&m[v];if(S&&S.event===j&&S.schema===_&&S.table===N&&S.filter===k)y.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),this.state=be.errored,t==null||t(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(nr.SUBSCRIBED);return}}).receive("error",m=>{this.state=be.errored,t==null||t(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===be.joined&&t===hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=be.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new su(this,Lt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new su(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>I_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Lt;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,x,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,x,w,y,v,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:x,table:w,commit_timestamp:y,type:v,errors:g}=p;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hh.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Lm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Lm(t.columns,t.old_record)),r}}const iu=()=>{},Fa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U_=[1e3,2e3,5e3,1e4],G_=1e4,W_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class H_{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ec,this.transport=null,this.heartbeatIntervalMs=Fa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iu,this.ref=0,this.reconnectTimer=null,this.vsn=Om,this.logger=iu,this.conn=null,this.sendBuffer=[],this.serializer=new D_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Cc.websocket}`,this.httpEndpoint=qv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return ln.Connecting;case on.open:return ln.Open;case on.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new hh(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(L_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===on.open||this.conn.readyState===on.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([W_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:A_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Lt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Wv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,u,c,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ec,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Fa.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:iu,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:Om,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>U_[p-1]||G_,this.vsn){case Gv:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,x)=>x(JSON.stringify(p)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(p,x)=>x(JSON.parse(p));break;case O_:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class fh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class q_ extends fh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pc extends fh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const mh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),K_=()=>Response,Rc=e=>{if(Array.isArray(e))return e.map(r=>Rc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Rc(n)}),t},J_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},au=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Q_=(e,t,r)=>O(void 0,void 0,void 0,function*(){const n=yield K_();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new q_(au(s),i,a))}).catch(s=>{t(new Pc(au(s),s))}):t(new Pc(au(e),e))}),Y_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(J_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ia(e,t,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Y_(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Q_(u,l,n))})})}function $i(e,t,r,n){return O(this,void 0,void 0,function*(){return ia(e,"GET",t,r,n)})}function At(e,t,r,n,s){return O(this,void 0,void 0,function*(){return ia(e,"POST",t,n,s,r)})}function Ac(e,t,r,n,s){return O(this,void 0,void 0,function*(){return ia(e,"PUT",t,n,s,r)})}function X_(e,t,r,n){return O(this,void 0,void 0,function*(){return ia(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ph(e,t,r,n,s){return O(this,void 0,void 0,function*(){return ia(e,"DELETE",t,n,s,r)})}class Z_{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(le(t))return{data:null,error:t};throw t}})}}var Kv;class eN{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Kv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Z_(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(le(t))return{data:null,error:t};throw t}})}}Kv=Symbol.toStringTag;const tN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rN{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=mh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return O(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Mm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?Ac:At)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}upload(t,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Mm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Ac(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(le(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return O(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new fh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}update(t,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return O(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return O(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>$i(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new eN(u,this.shouldThrowOnError)}info(t){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}exists(t){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield X_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n)&&n instanceof Pc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return O(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}list(t,r,n){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tN),r),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}listV2(t,r){return O(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Jv="2.84.0",Qv={"X-Client-Info":`storage-js/${Jv}`};class nN{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qv),r),this.fetch=mh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return O(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield $i(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}getBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}createBucket(t){return O(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return O(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class sN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qv),r),this.fetch=mh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}listBuckets(t){return O(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield $i(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}}const gh={"X-Client-Info":`storage-js/${Jv}`,"Content-Type":"application/json"};class Yv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ou extends Yv{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class iN extends Yv{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Fm;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fm||(Fm={}));const yh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$m=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oN=(e,t,r)=>O(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new ou($m(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new ou(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new ou(l,s,a))}}else t(new iN($m(e),e))}),lN=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(aN(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function uN(e,t,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,lN(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>oN(u,l,n))})})}function it(e,t,r,n,s){return O(this,void 0,void 0,function*(){return uN(e,"POST",t,n,s,r)})}class cN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),r),this.fetch=yh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return O(this,void 0,void 0,function*(){try{return{data:(yield it(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getIndex(t,r){return O(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listIndexes(t){return O(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return O(this,void 0,void 0,function*(){try{return{data:(yield it(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}class dN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),r),this.fetch=yh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return O(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield it(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getVectors(t){return O(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listVectors(t){return O(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield it(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}queryVectors(t){return O(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteVectors(t){return O(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield it(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}class hN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),r),this.fetch=yh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return O(this,void 0,void 0,function*(){try{return{data:(yield it(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(t){return O(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(){return O(this,arguments,void 0,function*(t={}){try{return{data:yield it(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return O(this,void 0,void 0,function*(){try{return{data:(yield it(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}class fN extends hN{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new mN(this.url,this.headers,t,this.fetch)}}class mN extends cN{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pN extends dN{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gN extends nN{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new rN(this.url,this.headers,t,this.fetch)}get vectors(){return new fN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sN(this.url+"/iceberg",this.headers,this.fetch)}}const yN="2.84.0";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const vN={"X-Client-Info":`supabase-js-${Zs}/${yN}`},xN={headers:vN},wN={schema:"public"},bN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jN={},_N=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NN=()=>Headers,kN=(e,t,r)=>{const n=_N(r),s=NN();return async(i,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))}};function SN(e){return e.endsWith("/")?e:e+"/"}function EN(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:u,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function CN(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Xv="2.84.0",Fn=30*1e3,Oc=3,lu=Oc*Fn,TN="http://localhost:9999",PN="supabase.auth.token",RN={"X-Client-Info":`gotrue-js/${Xv}`},Lc="X-Supabase-Api-Version",Zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ON=10*60*1e3;class zi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LN extends zi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function IN(e){return D(e)&&e.name==="AuthApiError"}class un extends zi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Jr extends zi{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class rt extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DN(e){return D(e)&&e.name==="AuthSessionMissingError"}class Pn extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $a extends Jr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class za extends Jr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MN(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class zm extends Jr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ic extends Jr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uu(e){return D(e)&&e.name==="AuthRetryableFetchError"}class Vm extends Jr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Dc extends Jr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bm=` 	
\r=`.split(""),FN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bm.length;t+=1)e[Bm[t].charCodeAt(0)]=-2;for(let t=0;t<Bo.length;t+=1)e[Bo[t].charCodeAt(0)]=t;return e})();function Um(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bo[n]),t.queuedBits-=6}}function ex(e,t,r){const n=FN[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{VN(a,n,r)};for(let a=0;a<e.length;a+=1)ex(e.charCodeAt(a),s,i);return t.join("")}function $N(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zN(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$N(n,t)}}function VN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function us(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ex(e.charCodeAt(s),r,n);return new Uint8Array(t)}function BN(e){const t=[];return zN(e,r=>t.push(r)),new Uint8Array(t)}function fn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Um(s,r,n)),Um(null,r,n),t.join("")}function UN(e){return Math.round(Date.now()/1e3)+e}function GN(){return Symbol("auth-callback")}const Ce=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},tx=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function WN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const rx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),HN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$n=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},br=async(e,t)=>{await e.removeItem(t)};class vl{constructor(){this.promise=new vl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vl.promiseConstructor=Promise;function cu(e){const t=e.split(".");if(t.length!==3)throw new Dc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!AN.test(t[n]))throw new Dc("JWT not in base64url format");return{header:JSON.parse(Gm(t[0])),payload:JSON.parse(Gm(t[1])),signature:us(t[2]),raw:{header:t[0],payload:t[1]}}}async function qN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function KN(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function JN(e){return("0"+e.toString(16)).substr(-2)}function QN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,JN).join("")}async function YN(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function XN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await YN(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(e,t,r=!1){const n=QN();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $n(e,`${t}-code-verifier`,s);const i=await XN(n);return[i,n===i?"plain":"s256"]}const ZN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ek(e){const t=e.headers.get(Lc);if(!t||!t.match(ZN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function An(e){if(!nk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function du(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sk(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Wm(e){return JSON.parse(JSON.stringify(e))}const sn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ik=[502,503,504];async function Hm(e){var t;if(!HN(e))throw new Ic(sn(e),0);if(ik.includes(e.status))throw new Ic(sn(e),e.status);let r;try{r=await e.json()}catch(i){throw new un(sn(i),i)}let n;const s=ek(e);if(s&&s.getTime()>=Zv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vm(sn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Vm(sn(r),e.status,r.weak_password.reasons);throw new LN(sn(r),e.status||500,n)}const ak=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Lc]||(i[Lc]=Zv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await ok(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function ok(e,t,r,n,s,i){const a=ak(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Ic(sn(u),0)}if(l.ok||await Hm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Hm(u)}}function Tt(e){var t;let r=null;ck(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UN(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qm(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lk(e){return{data:e,error:null}}function uk(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Ps(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function Km(e){return e}function ck(e){return e.access_token&&e.refresh_token&&e.expires_in}const hu=["global","local","others"];class dk{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=rx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=hu[0]){if(hu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hu.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tr})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ps(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:uk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tr})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Km});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){An(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tr})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){An(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Tr})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){An(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tr})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){An(t.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(t){An(t.userId),An(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Km});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(D(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}}function Jm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const On={debug:!!(globalThis&&tx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hk extends nx{}async function fk(e,t,r){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),On.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{On.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw On.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(On.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pk(e){return parseInt(e,16)}function gk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function yk(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=sx(e.address),p=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${m}

${x}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),u&&(y+=`
Request ID: ${u}`),c){let v=`
Resources:`;for(const g of c){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);v+=`
- ${g}`}y+=v}return`${w}
${y}`}class ye extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Uo extends ye{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function vk({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ix(a)){if(i.rp.id!==a)return new ye({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function xk({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ix(n)){if(r.rpId!==n)return new ye({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bk=new wk;function jk(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ps(e,["challenge","user","excludeCredentials"]),i=us(t).buffer,a=Object.assign(Object.assign({},r),{id:us(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:us(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function _k(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ps(e,["challenge","allowCredentials"]),s=us(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:us(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Nk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:fn(new Uint8Array(e.response.attestationObject)),clientDataJSON:fn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fn(new Uint8Array(s.authenticatorData)),clientDataJSON:fn(new Uint8Array(s.clientDataJSON)),signature:fn(new Uint8Array(s.signature)),userHandle:s.userHandle?fn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ix(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qm(){var e,t;return!!(Ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Sk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",t)}:{data:null,error:new Uo("Empty credential response",t)}}catch(t){return{data:null,error:vk({error:t,options:e})}}}async function Ek(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",t)}:{data:null,error:new Uo("Empty credential response",t)}}catch(t){return{data:null,error:xk({error:t,options:e})}}}const Ck={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Tk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Go(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Go(l,a):n[i]=Go(a)}else n[i]=a}return n}function Pk(e,t){return Go(Ck,e,t||{})}function Rk(e,t){return Go(Tk,e,t||{})}class Ak{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const u=s??bk.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=Pk(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Sk({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Rk(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Ek(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new un("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new zi("rpId is required for WebAuthn authentication")};try{if(!Qm())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new un("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new zi("rpId is required for WebAuthn registration")};try{if(!Qm())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new un("Unexpected error in register",a)}}}}mk();const Ok={url:TN,storageKey:PN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ym(e,t,r){return await r()}const Ln={};class Vi{get jwks(){var t,r;return(r=(t=Ln[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ln[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ok),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Vi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ce()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=rx(i.fetch),this.lock=i.lock||Ym,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ce()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fk:this.lock=Ym,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ak(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:tx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Xv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ce()&&(r=WN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ce()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),MN(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?this._returnResult({error:r}):this._returnResult({error:new un("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tt}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Rn(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Tt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tt})}else throw new $a("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qm})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qm})}else throw new $a("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Pn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,u,c,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:x,wallet:w,statement:y,options:v}=t;let g;if(Ce())if(typeof w=="object")g=w;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")g=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=w}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),_=await g.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=sx(_[0]);let k=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const E=await g.request({method:"eth_chainId"});k=pk(E)}const S={domain:j.host,address:N,statement:y,uri:j.href,version:"1",chainId:k,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=yk(S),p=await g.request({method:"personal_sign",params:[gk(m),N]})}try{const{data:x,error:w}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tt});if(w)throw w;if(!x||!x.session||!x.user){const y=new Pn;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(D(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,i,a,l,u,c,d,f,h,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:w,wallet:y,statement:v,options:g}=t;let j;if(Ce())if(typeof y=="object")j=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)p=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:y}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:fn(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tt});if(y)throw y;if(!w||!w.session||!w.user){const v=new Pn;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(D(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Zr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tt});if(await br(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Pn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tt}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new Pn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Rn(this.storage,this.storageKey));const{error:f}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new $a("You must provide either an email or phone number.")}catch(l){if(D(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Rn(this.storage,this.storageKey));const c=await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:lk});return!((i=c.data)===null||i===void 0)&&i.url&&Ce()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(D(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(D(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new $a("You must provide either an email or phone number and a type")}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<lu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Zr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=du()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=sk(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tr})})}catch(r){if(D(r))return DN(r)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new rt;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Rn(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Tr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(D(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=cu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(D(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new rt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ce())throw new za("No browser detected.");if(t.error||t.error_description||t.error_code)throw new za(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new za("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zm("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!a||!c)throw new za("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;u&&(h=parseInt(u));const m=h-d;m*1e3<=Fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(D(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(IN(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=GN(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Rn(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ce()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(D(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:u,access_token:c,nonce:d}=t,f=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tt}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Pn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await KN(async s=>(s>0&&await qN(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&uu(i)&&Date.now()+a-n<Fn})}catch(n){if(this._debug(r,"error",n),D(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ce()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await $n(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:du()}else if(s&&!s.user&&!s.user){const a=await Zr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await br(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,s)):s.user=du()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${lu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),uu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const a={data:null,error:i};return uu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $n(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Wm(s);await $n(this.storage,this.storageKey,i)}else{const s=Wm(r);await $n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fn}ms, refresh threshold is ${Oc} ticks`),s<=Oc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Rn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Nk(t.webauthn.credential_response):kk(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jk(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_k(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=cu(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await z(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new rt})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new rt});const a=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new rt});const a=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new rt})})}catch(t){if(D(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new rt})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+ON>s)return n;const{data:i,error:a}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=cu(n);r!=null&&r.allowExpired||tk(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=rk(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,BN(`${l}.${u}`)))throw new Dc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}}Vi.nextInstanceID={};const Lk=Vi;class Ik extends Lk{constructor(t){super(t)}}class Dk{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=CN(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:wN,realtime:jN,auth:Object.assign(Object.assign({},bN),{storageKey:u}),global:xN},d=EN(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=kN(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new T_(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new S_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:u,debug:c,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ik({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:u,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new H_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mk=(e,t,r)=>new Dk(e,t,r);function Fk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Fk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $k="https://ilkxyleradtuepebjyww.supabase.co",zk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlsa3h5bGVyYWR0dWVwZWJqeXd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4MDIyMDYsImV4cCI6MjA4MzM3ODIwNn0.FXrECEg2B_lHWxGSv1jIOn46gYYUHGbJNcyoqYIajOU",Z=Mk($k,zk,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ax=b.createContext(void 0);function Vk({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{Z.auth.getSession().then(({data:{session:h}})=>{s(h),r((h==null?void 0:h.user)??null),a(!1)});const{data:{subscription:f}}=Z.auth.onAuthStateChange((h,m)=>{(async()=>(s(m),r((m==null?void 0:m.user)??null)))()});return()=>f.unsubscribe()},[]);const d={user:t,session:n,loading:i,signUp:async(f,h)=>{const{error:m}=await Z.auth.signUp({email:f,password:h});return{error:m}},signIn:async(f,h)=>{const{error:m}=await Z.auth.signInWithPassword({email:f,password:h});return{error:m}},signOut:async()=>{const{error:f}=await Z.auth.signOut();return{error:f}}};return o.jsx(ax.Provider,{value:d,children:e})}function Zt(){const e=b.useContext(ax);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const vh=b.createContext({});function aa(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const xh=typeof window<"u",wh=xh?b.useLayoutEffect:b.useEffect,xl=b.createContext(null);function bh(e,t){e.indexOf(t)===-1&&e.push(t)}function wl(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const mr=(e,t,r)=>r>t?t:r<e?e:r;let jh=()=>{};const pr={},ox=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lx(e){return typeof e=="object"&&e!==null}const ux=e=>/^0[^.\s]+$/u.test(e);function _h(e){let t;return()=>(t===void 0&&(t=e()),t)}const _t=e=>e,Bk=(e,t)=>r=>t(e(r)),oa=(...e)=>e.reduce(Bk),ws=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Nh{constructor(){this.subscriptions=[]}add(t){return bh(this.subscriptions,t),()=>wl(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $t=e=>e*1e3,bt=e=>e/1e3;function cx(e,t){return t?e*(1e3/t):0}const Uk=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},dx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Gk=1e-7,Wk=12;function Hk(e,t,r,n,s){let i,a,l=0;do a=t+(r-t)/2,i=dx(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>Gk&&++l<Wk);return a}function la(e,t,r,n){if(e===t&&r===n)return _t;const s=i=>Hk(i,0,1,e,r);return i=>i===0||i===1?i:dx(s(i),t,n)}const hx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fx=e=>t=>1-e(1-t),mx=la(.33,1.53,.69,.99),kh=fx(mx),px=hx(kh),gx=e=>(e*=2)<1?.5*kh(e):.5*(2-Math.pow(2,-10*(e-1))),Sh=e=>1-Math.sin(Math.acos(e)),yx=fx(Sh),vx=hx(Sh),qk=la(.42,0,1,1),Kk=la(0,0,.58,1),xx=la(.42,0,.58,1),wx=e=>Array.isArray(e)&&typeof e[0]!="number";function bx(e,t){return wx(e)?e[Uk(0,e.length,t)]:e}const jx=e=>Array.isArray(e)&&typeof e[0]=="number",Jk={linear:_t,easeIn:qk,easeInOut:xx,easeOut:Kk,circIn:Sh,circInOut:vx,circOut:yx,backIn:kh,backInOut:px,backOut:mx,anticipate:gx},Qk=e=>typeof e=="string",Xm=e=>{if(jx(e)){jh(e.length===4);const[t,r,n,s]=e;return la(t,r,n,s)}else if(Qk(e))return Jk[e];return e},Va=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Yk(e,t){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(c.schedule(d),e()),d(l)}const c={schedule:(d,f=!1,h=!1)=>{const p=h&&s?r:n;return f&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),r.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const Xk=40;function _x(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Va.reduce((g,j)=>(g[j]=Yk(i),g),{}),{setup:l,read:u,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,x=()=>{const g=pr.useManualTiming?s.timestamp:performance.now();r=!1,pr.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(g-s.timestamp,Xk),1)),s.timestamp=g,s.isProcessing=!0,l.process(s),u.process(s),c.process(s),d.process(s),f.process(s),h.process(s),m.process(s),p.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(x))},w=()=>{r=!0,n=!0,s.isProcessing||e(x)};return{schedule:Va.reduce((g,j)=>{const _=a[j];return g[j]=(N,k=!1,S=!1)=>(r||w(),_.schedule(N,k,S)),g},{}),cancel:g=>{for(let j=0;j<Va.length;j++)a[Va[j]].cancel(g)},state:s,steps:a}}const{schedule:te,cancel:gr,state:Pe,steps:fu}=_x(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0);let uo;function Zk(){uo=void 0}const Qe={now:()=>(uo===void 0&&Qe.set(Pe.isProcessing||pr.useManualTiming?Pe.timestamp:performance.now()),uo),set:e=>{uo=e,queueMicrotask(Zk)}},Nx=e=>t=>typeof t=="string"&&t.startsWith(e),Eh=Nx("--"),eS=Nx("var(--"),Ch=e=>eS(e)?tS.test(e.split("/*")[0].trim()):!1,tS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Os={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bi={...Os,transform:e=>mr(0,1,e)},Ba={...Os,default:1},fi=e=>Math.round(e*1e5)/1e5,Th=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rS(e){return e==null}const nS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ph=(e,t)=>r=>!!(typeof r=="string"&&nS.test(r)&&r.startsWith(e)||t&&!rS(r)&&Object.prototype.hasOwnProperty.call(r,t)),kx=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,l]=n.match(Th);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},sS=e=>mr(0,255,e),mu={...Os,transform:e=>Math.round(sS(e))},mn={test:Ph("rgb","red"),parse:kx("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+mu.transform(e)+", "+mu.transform(t)+", "+mu.transform(r)+", "+fi(Bi.transform(n))+")"};function iS(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Mc={test:Ph("#"),parse:iS,transform:mn.transform},ua=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_r=ua("deg"),Yt=ua("%"),V=ua("px"),aS=ua("vh"),oS=ua("vw"),Zm={...Yt,parse:e=>Yt.parse(e)/100,transform:e=>Yt.transform(e*100)},Xn={test:Ph("hsl","hue"),parse:kx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Yt.transform(fi(t))+", "+Yt.transform(fi(r))+", "+fi(Bi.transform(n))+")"},ve={test:e=>mn.test(e)||Mc.test(e)||Xn.test(e),parse:e=>mn.test(e)?mn.parse(e):Xn.test(e)?Xn.parse(e):Mc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?mn.transform(e):Xn.transform(e),getAnimatableNone:e=>{const t=ve.parse(e);return t.alpha=0,ve.transform(t)}},lS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uS(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Th))==null?void 0:t.length)||0)+(((r=e.match(lS))==null?void 0:r.length)||0)>0}const Sx="number",Ex="color",cS="var",dS="var(",ep="${}",hS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ui(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(hS,u=>(ve.test(u)?(n.color.push(i),s.push(Ex),r.push(ve.parse(u))):u.startsWith(dS)?(n.var.push(i),s.push(cS),r.push(u)):(n.number.push(i),s.push(Sx),r.push(parseFloat(u))),++i,ep)).split(ep);return{values:r,split:l,indexes:n,types:s}}function Cx(e){return Ui(e).values}function Tx(e){const{split:t,types:r}=Ui(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const l=r[a];l===Sx?i+=fi(s[a]):l===Ex?i+=ve.transform(s[a]):i+=s[a]}return i}}const fS=e=>typeof e=="number"?0:ve.test(e)?ve.getAnimatableNone(e):e;function mS(e){const t=Cx(e);return Tx(e)(t.map(fS))}const Ur={test:uS,parse:Cx,createTransformer:Tx,getAnimatableNone:mS};function pu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function pS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;s=pu(u,l,e+1/3),i=pu(u,l,e),a=pu(u,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function Wo(e,t){return r=>r>0?t:e}const ae=(e,t,r)=>e+(t-e)*r,gu=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},gS=[Mc,mn,Xn],yS=e=>gS.find(t=>t.test(e));function tp(e){const t=yS(e);if(!t)return!1;let r=t.parse(e);return t===Xn&&(r=pS(r)),r}const rp=(e,t)=>{const r=tp(e),n=tp(t);if(!r||!n)return Wo(e,t);const s={...r};return i=>(s.red=gu(r.red,n.red,i),s.green=gu(r.green,n.green,i),s.blue=gu(r.blue,n.blue,i),s.alpha=ae(r.alpha,n.alpha,i),mn.transform(s))},Fc=new Set(["none","hidden"]);function vS(e,t){return Fc.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function xS(e,t){return r=>ae(e,t,r)}function Rh(e){return typeof e=="number"?xS:typeof e=="string"?Ch(e)?Wo:ve.test(e)?rp:jS:Array.isArray(e)?Px:typeof e=="object"?ve.test(e)?rp:wS:Wo}function Px(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>Rh(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function wS(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Rh(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function bS(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][n[i]],l=e.values[a]??0;r[s]=l,n[i]++}return r}const jS=(e,t)=>{const r=Ur.createTransformer(t),n=Ui(e),s=Ui(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Fc.has(e)&&!s.values.length||Fc.has(t)&&!n.values.length?vS(e,t):oa(Px(bS(n,s),s.values),r):Wo(e,t)};function Rx(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ae(e,t,r):Rh(e)(e,t)}const _S=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>te.update(t,r),stop:()=>gr(t),now:()=>Pe.isProcessing?Pe.timestamp:Qe.now()}},Ax=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Ho=2e4;function Ah(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ho;)t+=r,n=e.next(t);return t>=Ho?1/0:t}function Ox(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Ah(n),Ho);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:bt(s)}}const NS=5;function Lx(e,t,r){const n=Math.max(t-NS,0);return cx(r-e(n),t-n)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yu=.001;function kS({duration:e=fe.duration,bounce:t=fe.bounce,velocity:r=fe.velocity,mass:n=fe.mass}){let s,i,a=1-t;a=mr(fe.minDamping,fe.maxDamping,a),e=mr(fe.minDuration,fe.maxDuration,bt(e)),a<1?(s=c=>{const d=c*a,f=d*e,h=d-r,m=$c(c,a),p=Math.exp(-f);return yu-h/m*p},i=c=>{const f=c*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(c,2)*e,p=Math.exp(-f),x=$c(Math.pow(c,2),a);return(-s(c)+yu>0?-1:1)*((h-m)*p)/x}):(s=c=>{const d=Math.exp(-c*e),f=(c-r)*e+1;return-yu+d*f},i=c=>{const d=Math.exp(-c*e),f=(r-c)*(e*e);return d*f});const l=5/e,u=ES(s,i,l);if(e=$t(e),isNaN(u))return{stiffness:fe.stiffness,damping:fe.damping,duration:e};{const c=Math.pow(u,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:e}}}const SS=12;function ES(e,t,r){let n=r;for(let s=1;s<SS;s++)n=n-e(n)/t(n);return n}function $c(e,t){return e*Math.sqrt(1-t*t)}const CS=["duration","bounce"],TS=["stiffness","damping","mass"];function np(e,t){return t.some(r=>e[r]!==void 0)}function PS(e){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...e};if(!np(e,TS)&&np(e,CS))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*mr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:fe.mass,stiffness:s,damping:i}}else{const r=kS(e);t={...t,...r,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function Gi(e=fe.visualDuration,t=fe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=PS({...r,velocity:-bt(r.velocity||0)}),p=h||0,x=c/(2*Math.sqrt(u*d)),w=a-i,y=bt(Math.sqrt(u/d)),v=Math.abs(w)<5;n||(n=v?fe.restSpeed.granular:fe.restSpeed.default),s||(s=v?fe.restDelta.granular:fe.restDelta.default);let g;if(x<1){const _=$c(y,x);g=N=>{const k=Math.exp(-x*y*N);return a-k*((p+x*y*w)/_*Math.sin(_*N)+w*Math.cos(_*N))}}else if(x===1)g=_=>a-Math.exp(-y*_)*(w+(p+y*w)*_);else{const _=y*Math.sqrt(x*x-1);g=N=>{const k=Math.exp(-x*y*N),S=Math.min(_*N,300);return a-k*((p+x*y*w)*Math.sinh(S)+_*w*Math.cosh(S))/_}}const j={calculatedDuration:m&&f||null,next:_=>{const N=g(_);if(m)l.done=_>=f;else{let k=_===0?p:0;x<1&&(k=_===0?$t(p):Lx(g,_,N));const S=Math.abs(k)<=n,E=Math.abs(a-N)<=s;l.done=S&&E}return l.value=l.done?a:N,l},toString:()=>{const _=Math.min(Ah(j),Ho),N=Ax(k=>j.next(_*k).value,_,30);return _+"ms "+N},toTransition:()=>{}};return j}Gi.applyToOptions=e=>{const t=Ox(e,100,Gi);return e.ease=t.ease,e.duration=$t(t.duration),e.type="keyframes",e};function zc({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=S=>l!==void 0&&S<l||u!==void 0&&S>u,p=S=>l===void 0?u:u===void 0||Math.abs(l-S)<Math.abs(u-S)?l:u;let x=r*t;const w=f+x,y=a===void 0?w:a(w);y!==w&&(x=y-f);const v=S=>-x*Math.exp(-S/n),g=S=>y+v(S),j=S=>{const E=v(S),R=g(S);h.done=Math.abs(E)<=c,h.value=h.done?y:R};let _,N;const k=S=>{m(h.value)&&(_=S,N=Gi({keyframes:[h.value,p(h.value)],velocity:Lx(g,S,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:S=>{let E=!1;return!N&&_===void 0&&(E=!0,j(S),k(S)),_!==void 0&&S>=_?N.next(S-_):(!E&&j(S),h)}}}function RS(e,t,r){const n=[],s=r||pr.mix||Rx,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||_t:t;l=oa(u,l)}n.push(l)}return n}function Ix(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(jh(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=RS(t,n,s),u=l.length,c=d=>{if(a&&d<e[0])return t[0];let f=0;if(u>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=ws(e[f],e[f+1],d);return l[f](h)};return r?d=>c(mr(e[0],e[i-1],d)):c}function Dx(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=ws(0,t,n);e.push(ae(r,1,s))}}function Mx(e){const t=[0];return Dx(t,e.length-1),t}function AS(e,t){return e.map(r=>r*t)}function OS(e,t){return e.map(()=>t||xx).splice(0,e.length-1)}function mi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=wx(n)?n.map(Xm):Xm(n),i={done:!1,value:t[0]},a=AS(r&&r.length===t.length?r:Mx(t),e),l=Ix(a,t,{ease:Array.isArray(s)?s:OS(t,s)});return{calculatedDuration:e,next:u=>(i.value=l(u),i.done=u>=e,i)}}const LS=e=>e!==null;function Oh(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(LS),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const IS={decay:zc,inertia:zc,tween:mi,keyframes:mi,spring:Gi};function Fx(e){typeof e.type=="string"&&(e.type=IS[e.type])}class Lh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const DS=e=>e/100;class bl extends Lh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Qe.now()&&this.tick(Qe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Fx(t);const{type:r=mi,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const u=r||mi;u!==mi&&typeof l[0]!="number"&&(this.mixKeyframes=oa(DS,Rx(l[0],l[1])),l=[0,100]);const c=u({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Ah(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,j=n;if(f){const S=Math.min(this.currentTime,s)/l;let E=Math.floor(S),R=S%1;!R&&S>=1&&(R=1),R===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/l)):h==="mirror"&&(j=a)),g=mr(0,1,R)*l}const _=v?{done:!1,value:d[0]}:j.next(g);i&&(_.value=i(_.value));let{done:N}=_;!v&&u!==null&&(N=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&p!==zc&&(_.value=Oh(d,this.options,w,this.speed)),x&&x(_.value),k&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return bt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bt(t)}get time(){return bt(this.currentTime)}set time(t){var r;t=$t(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Qe.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=bt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=_S,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function MS(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const pn=e=>e*180/Math.PI,Vc=e=>{const t=pn(Math.atan2(e[1],e[0]));return Bc(t)},FS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Vc,rotateZ:Vc,skewX:e=>pn(Math.atan(e[1])),skewY:e=>pn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bc=e=>(e=e%360,e<0&&(e+=360),e),sp=Vc,ip=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ap=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$S={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ip,scaleY:ap,scale:e=>(ip(e)+ap(e))/2,rotateX:e=>Bc(pn(Math.atan2(e[6],e[5]))),rotateY:e=>Bc(pn(Math.atan2(-e[2],e[0]))),rotateZ:sp,rotate:sp,skewX:e=>pn(Math.atan(e[4])),skewY:e=>pn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Uc(e){return e.includes("scale")?1:0}function Gc(e,t){if(!e||e==="none")return Uc(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=$S,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=FS,s=l}if(!s)return Uc(t);const i=n[t],a=s[1].split(",").map(VS);return typeof i=="function"?i(a):a[i]}const zS=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Gc(r,t)};function VS(e){return parseFloat(e.trim())}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Is=new Set(Ls),op=e=>e===Os||e===V,BS=new Set(["x","y","z"]),US=Ls.filter(e=>!BS.has(e));function GS(e){const t=[];return US.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const vn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gc(t,"x"),y:(e,{transform:t})=>Gc(t,"y")};vn.translateX=vn.x;vn.translateY=vn.y;const xn=new Set;let Wc=!1,Hc=!1,qc=!1;function $x(){if(Hc){const e=Array.from(xn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=GS(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var l;(l=n.getValue(i))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Hc=!1,Wc=!1,xn.forEach(e=>e.complete(qc)),xn.clear()}function zx(){xn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hc=!0)})}function WS(){qc=!0,zx(),$x(),qc=!1}class Ih{constructor(t,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(xn.add(this),Wc||(Wc=!0,te.read(zx),te.resolveKeyframes($x))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}MS(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),xn.delete(this)}cancel(){this.state==="scheduled"&&(xn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HS=e=>e.startsWith("--");function qS(e,t,r){HS(t)?e.style.setProperty(t,r):e.style[t]=r}const KS=_h(()=>window.ScrollTimeline!==void 0),JS={};function QS(e,t){const r=_h(e);return()=>JS[t]??r()}const Vx=QS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ei=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,lp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ei([0,.65,.55,1]),circOut:ei([.55,0,1,.45]),backIn:ei([.31,.01,.66,-.59]),backOut:ei([.33,1.53,.69,.99])};function Bx(e,t){if(e)return typeof e=="function"?Vx()?Ax(e,t):"ease-out":jx(e)?ei(e):Array.isArray(e)?e.map(r=>Bx(r,t)||lp.easeOut):lp[e]}function YS(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:u}={},c=void 0){const d={[t]:r};u&&(d.offset=u);const f=Bx(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function Dh(e){return typeof e=="function"&&"applyToOptions"in e}function XS({type:e,...t}){return Dh(e)&&Vx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ZS extends Lh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,jh(typeof t.type!="string");const c=XS(t);this.animation=YS(r,n,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Oh(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):qS(r,n,d),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return bt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bt(t)}get time(){return bt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$t(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KS()?(this.animation.timeline=t,_t):r(this)}}const Ux={anticipate:gx,backInOut:px,circInOut:vx};function eE(e){return e in Ux}function tE(e){typeof e.ease=="string"&&eE(e.ease)&&(e.ease=Ux[e.ease])}const up=10;class rE extends ZS{constructor(t){tE(t),Fx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new bl({...a,autoplay:!1}),u=$t(this.finishedTime??this.time);r.setWithVelocity(l.sample(u-up).value,l.sample(u).value,up),l.stop()}}const cp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ur.test(e)||e==="0")&&!e.startsWith("url("));function nE(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sE(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=cp(s,t),l=cp(i,t);return!a||!l?!1:nE(e)||(r==="spring"||Dh(r))&&n}function Kc(e){e.duration=0,e.type="keyframes"}const iE=new Set(["opacity","clipPath","filter","transform"]),aE=_h(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oE(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return aE()&&r&&iE.has(r)&&(r!=="transform"||!c)&&!u&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const lE=40;class uE extends Lh{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:u,motionValue:c,element:d,...f}){var p;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Qe.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:u,motionValue:c,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||Ih;this.keyframeResolver=new m(l,(x,w,y)=>this.onKeyframesResolved(x,w,h,!y),u,c,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:u,isHandoff:c,onUpdate:d}=n;this.resolvedAt=Qe.now(),sE(t,i,a,l)||((pr.instantAnimations||!u)&&(d==null||d(Oh(t,n,r))),t[0]=t[t.length-1],Kc(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!c&&oE(h)?new rE({...h,element:h.motionValue.owner.current}):new bl(h);m.finished.then(()=>this.notifyFinished()).catch(_t),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),WS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class cE{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,s)=>{n&&n(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return dp(this.animations,"duration")}get iterationDuration(){return dp(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function dp(e,t){let r=0;for(let n=0;n<e.length;n++){const s=e[n][t];s!==null&&s>r&&(r=s)}return r}class dE extends cE{then(t,r){return this.finished.finally(t).then(()=>{})}}const hE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fE(e){const t=hE.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Gx(e,t,r=1){const[n,s]=fE(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return ox(a)?parseFloat(a):a}return Ch(s)?Gx(s,t,r+1):s}function Mh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Wx=new Set(["width","height","top","left","right","bottom",...Ls]),mE={test:e=>e==="auto",parse:e=>e},Hx=e=>t=>t.test(e),qx=[Os,V,Yt,_r,oS,aS,mE],hp=e=>qx.find(Hx(e));function pE(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ux(e):!0}const gE=new Set(["brightness","contrast","saturate","opacity"]);function yE(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Th)||[];if(!n)return e;const s=r.replace(n,"");let i=gE.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const vE=/\b([a-z-]*)\(.*?\)/gu,Jc={...Ur,getAnimatableNone:e=>{const t=e.match(vE);return t?t.map(yE).join(" "):e}},fp={...Os,transform:Math.round},xE={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:Ba,scaleX:Ba,scaleY:Ba,scaleZ:Ba,skew:_r,skewX:_r,skewY:_r,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:Bi,originX:Zm,originY:Zm,originZ:V},Fh={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,backgroundPositionX:V,backgroundPositionY:V,...xE,zIndex:fp,fillOpacity:Bi,strokeOpacity:Bi,numOctaves:fp},wE={...Fh,color:ve,backgroundColor:ve,outlineColor:ve,fill:ve,stroke:ve,borderColor:ve,borderTopColor:ve,borderRightColor:ve,borderBottomColor:ve,borderLeftColor:ve,filter:Jc,WebkitFilter:Jc},Kx=e=>wE[e];function Jx(e,t){let r=Kx(e);return r!==Jc&&(r=Ur),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const bE=new Set(["auto","none","0"]);function jE(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!bE.has(i)&&Ui(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Jx(r,s)}class _E extends Ih{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let c=t[u];if(typeof c=="string"&&(c=c.trim(),Ch(c))){const d=Gx(c,r.current);d!==void 0&&(t[u]=d),u===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Wx.has(n)||t.length!==2)return;const[s,i]=t,a=hp(s),l=hp(i);if(a!==l)if(op(a)&&op(l))for(let u=0;u<t.length;u++){const c=t[u];typeof c=="string"&&(t[u]=parseFloat(c))}else vn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||pE(t[s]))&&n.push(s);n.length&&jE(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=vn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function $h(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Qx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Yx(e){return lx(e)&&"offsetHeight"in e}const mp=30,NE=e=>!isNaN(parseFloat(e)),pi={current:void 0};class kE{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Qe.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Qe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Nh);const n=this.events[t].add(r);return t==="change"?()=>{n(),te.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return pi.current&&pi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Qe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mp)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,mp);return cx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kn(e,t){return new kE(e,t)}const{schedule:zh}=_x(queueMicrotask,!1),Pt={x:!1,y:!1};function Xx(){return Pt.x||Pt.y}function SE(e){return e==="x"||e==="y"?Pt[e]?null:(Pt[e]=!0,()=>{Pt[e]=!1}):Pt.x||Pt.y?null:(Pt.x=Pt.y=!0,()=>{Pt.x=Pt.y=!1})}function Zx(e,t){const r=$h(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function pp(e){return!(e.pointerType==="touch"||Xx())}function EE(e,t,r={}){const[n,s,i]=Zx(e,r),a=l=>{if(!pp(l))return;const{target:u}=l,c=t(u,l);if(typeof c!="function"||!u)return;const d=f=>{pp(f)&&(c(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const ew=(e,t)=>t?e===t?!0:ew(e,t.parentElement):!1,Vh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TE(e){return CE.has(e.tagName)||e.tabIndex!==-1}const co=new WeakSet;function gp(e){return t=>{t.key==="Enter"&&e(t)}}function vu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PE=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=gp(()=>{if(co.has(r))return;vu(r,"down");const s=gp(()=>{vu(r,"up")}),i=()=>vu(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function yp(e){return Vh(e)&&!Xx()}function RE(e,t,r={}){const[n,s,i]=Zx(e,r),a=l=>{const u=l.currentTarget;if(!yp(l))return;co.add(u);const c=t(u,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),co.has(u)&&co.delete(u),yp(m)&&typeof c=="function"&&c(m,{success:p})},f=m=>{d(m,u===window||u===document||r.useGlobalTarget||ew(u,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),Yx(l)&&(l.addEventListener("focus",c=>PE(c,s)),!TE(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Bh(e){return lx(e)&&"ownerSVGElement"in e}function tw(e){return Bh(e)&&e.tagName==="svg"}function AE(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],i=e[2+r],a=e[3+r],l=Ix(s,i,a);return t?l(n):l}const we=e=>!!(e&&e.getVelocity);function OE(e,t,r){const n=e.get();let s=null,i=n,a;const l=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{s&&(s.stop(),s=null)},c=()=>{u(),s=new bl({keyframes:[xp(e.get()),xp(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:a})};if(e.attach((d,f)=>{i=d,a=h=>f(vp(h,l)),te.postRender(c)},u),we(t)){const d=t.on("change",h=>e.set(vp(h,l))),f=e.on("destroy",d);return()=>{d(),f()}}return u}function vp(e,t){return t?e+t:e}function xp(e){return typeof e=="number"?e:parseFloat(e)}const LE=[...qx,ve,Ur],IE=e=>LE.find(Hx(e)),ca=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function wp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function DE(...e){return t=>{let r=!1;const n=e.map(s=>{const i=wp(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():wp(e[s],null)}}}}function ME(...e){return b.useCallback(DE(...e),e)}class FE extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=Yx(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $E({children:e,isPresent:t,anchorX:r,root:n}){const s=b.useId(),i=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(ca),u=ME(i,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:h,right:m}=a.current;if(t||!i.current||!c||!d)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const w=n??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[t]),o.jsx(FE,{isPresent:t,childRef:i,sizeRef:a,children:b.cloneElement(e,{ref:u})})}const zE=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:u})=>{const c=aa(VE),d=b.useId();let f=!0,h=b.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:m=>{c.set(m,!0);for(const p of c.values())if(!p)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return i&&f&&(h={...h}),b.useMemo(()=>{c.forEach((m,p)=>c.set(p,!1))},[r]),b.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx($E,{isPresent:r,anchorX:l,root:u,children:e})),o.jsx(xl.Provider,{value:h,children:e})};function VE(){return new Map}function rw(e=!0){const t=b.useContext(xl);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const Ua=e=>e.key||"";function bp(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const Qc=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:u})=>{const[c,d]=rw(a),f=b.useMemo(()=>bp(e),[e]),h=a&&!c?[]:f.map(Ua),m=b.useRef(!0),p=b.useRef(f),x=aa(()=>new Map),[w,y]=b.useState(f),[v,g]=b.useState(f);wh(()=>{m.current=!1,p.current=f;for(let N=0;N<v.length;N++){const k=Ua(v[N]);h.includes(k)?x.delete(k):x.get(k)!==!0&&x.set(k,!1)}},[v,h.length,h.join("-")]);const j=[];if(f!==w){let N=[...f];for(let k=0;k<v.length;k++){const S=v[k],E=Ua(S);h.includes(E)||(N.splice(k,0,S),j.push(S))}return i==="wait"&&j.length&&(N=j),g(bp(N)),y(f),null}const{forceRender:_}=b.useContext(vh);return o.jsx(o.Fragment,{children:v.map(N=>{const k=Ua(N),S=a&&!c?!1:f===v||h.includes(k),E=()=>{if(x.has(k))x.set(k,!0);else return;let R=!0;x.forEach(I=>{I||(R=!1)}),R&&(_==null||_(),g(p.current),a&&(d==null||d()),n&&n())};return o.jsx(zE,{isPresent:S,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:S?void 0:E,anchorX:l,children:N},k)})})},nw=b.createContext({strict:!1}),jp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bs={};for(const e in jp)bs[e]={isEnabled:t=>jp[e].some(r=>!!t[r])};function BE(e){for(const t in e)bs[t]={...bs[t],...e[t]}}const UE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||UE.has(e)}let sw=e=>!qo(e);function GE(e){typeof e=="function"&&(sw=t=>t.startsWith("on")?!qo(t):e(t))}try{GE(require("@emotion/is-prop-valid").default)}catch{}function WE(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(sw(s)||r===!0&&qo(s)||!t&&!qo(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const jl=b.createContext({});function _l(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wi(e){return typeof e=="string"||Array.isArray(e)}const Uh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gh=["initial",...Uh];function Nl(e){return _l(e.animate)||Gh.some(t=>Wi(e[t]))}function iw(e){return!!(Nl(e)||e.variants)}function HE(e,t){if(Nl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wi(r)?r:void 0,animate:Wi(n)?n:void 0}}return e.inherit!==!1?t:{}}function qE(e){const{initial:t,animate:r}=HE(e,b.useContext(jl));return b.useMemo(()=>({initial:t,animate:r}),[_p(t),_p(r)])}function _p(e){return Array.isArray(e)?e.join(" "):e}const Hi={};function KE(e){for(const t in e)Hi[t]=e[t],Eh(t)&&(Hi[t].isCSSVariable=!0)}function aw(e,{layout:t,layoutId:r}){return Is.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Hi[e]||e==="opacity")}const JE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QE=Ls.length;function YE(e,t,r){let n="",s=!0;for(let i=0;i<QE;i++){const a=Ls[i],l=e[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const c=Qx(l,Fh[a]);if(!u){s=!1;const d=JE[a]||a;n+=`${d}(${c}) `}r&&(t[a]=c)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Wh(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const u in t){const c=t[u];if(Is.has(u)){a=!0;continue}else if(Eh(u)){s[u]=c;continue}else{const d=Qx(c,Fh[u]);u.startsWith("origin")?(l=!0,i[u]=d):n[u]=d}}if(t.transform||(a||r?n.transform=YE(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:c="50%",originZ:d=0}=i;n.transformOrigin=`${u} ${c} ${d}`}}const Hh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ow(e,t,r){for(const n in t)!we(t[n])&&!aw(n,r)&&(e[n]=t[n])}function XE({transformTemplate:e},t){return b.useMemo(()=>{const r=Hh();return Wh(r,t,e),Object.assign({},r.vars,r.style)},[t])}function ZE(e,t){const r=e.style||{},n={};return ow(n,r,e),Object.assign(n,XE(e,t)),n}function eC(e,t){const r={},n=ZE(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const tC={offset:"stroke-dashoffset",array:"stroke-dasharray"},rC={offset:"strokeDashoffset",array:"strokeDasharray"};function nC(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?tC:rC;e[i.offset]=V.transform(-n);const a=V.transform(t),l=V.transform(r);e[i.array]=`${a} ${l}`}function lw(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},u,c,d){if(Wh(e,l,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&nC(f,s,i,a,!1)}const uw=()=>({...Hh(),attrs:{}}),cw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sC(e,t,r,n){const s=b.useMemo(()=>{const i=uw();return lw(i,t,cw(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ow(i,e.style,e),s.style={...i,...s.style}}return s}const iC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qh(e){return typeof e!="string"||e.includes("-")?!1:!!(iC.indexOf(e)>-1||/[A-Z]/u.test(e))}function aC(e,t,r,{latestValues:n},s,i=!1){const l=(qh(e)?sC:eC)(t,n,s,e),u=WE(t,typeof e=="string",i),c=e!==b.Fragment?{...u,...l,ref:r}:{},{children:d}=t,f=b.useMemo(()=>we(d)?d.get():d,[d]);return b.createElement(e,{...c,children:f})}function Np(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Kh(e,t,r,n){if(typeof t=="function"){const[s,i]=Np(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Np(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function ho(e){return we(e)?e.get():e}function oC({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:lC(r,n,s,e),renderState:t()}}function lC(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=ho(i[h]);let{initial:a,animate:l}=e;const u=Nl(e),c=iw(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!_l(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=Kh(e,h[m]);if(p){const{transitionEnd:x,transition:w,...y}=p;for(const v in y){let g=y[v];if(Array.isArray(g)){const j=d?g.length-1:0;g=g[j]}g!==null&&(s[v]=g)}for(const v in x)s[v]=x[v]}}}return s}const dw=e=>(t,r)=>{const n=b.useContext(jl),s=b.useContext(xl),i=()=>oC(e,t,n,s);return r?i():aa(i)};function Jh(e,t,r){var i;const{style:n}=e,s={};for(const a in n)(we(n[a])||t.style&&we(t.style[a])||aw(a,e)||((i=r==null?void 0:r.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const uC=dw({scrapeMotionValuesFromProps:Jh,createRenderState:Hh});function hw(e,t,r){const n=Jh(e,t,r);for(const s in e)if(we(e[s])||we(t[s])){const i=Ls.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const cC=dw({scrapeMotionValuesFromProps:hw,createRenderState:uw}),dC=Symbol.for("motionComponentSymbol");function Zn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hC(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Zn(r)&&(r.current=n))},[t])}const Qh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fC="framerAppearId",fw="data-"+Qh(fC),mw=b.createContext({});function mC(e,t,r,n,s){var x,w;const{visualElement:i}=b.useContext(jl),a=b.useContext(nw),l=b.useContext(xl),u=b.useContext(ca).reducedMotion,c=b.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const d=c.current,f=b.useContext(mw);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&pC(c.current,r,s,f);const h=b.useRef(!1);b.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[fw],p=b.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return wh(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function pC(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:pw(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Zn(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:u,layoutRoot:c})}function pw(e){if(e)return e.options.allowProjection!==!1?e.projection:pw(e.parent)}function xu(e,{forwardMotionProps:t=!1}={},r,n){r&&BE(r);const s=qh(e)?cC:uC;function i(l,u){let c;const d={...b.useContext(ca),...l,layoutId:gC(l)},{isStatic:f}=d,h=qE(l),m=s(l,f);if(!f&&xh){yC();const p=vC(d);c=p.MeasureLayout,h.visualElement=mC(e,m,d,n,p.ProjectionNode)}return o.jsxs(jl.Provider,{value:h,children:[c&&h.visualElement?o.jsx(c,{visualElement:h.visualElement,...d}):null,aC(e,l,hC(m,h.visualElement,u),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=b.forwardRef(i);return a[dC]=e,a}function gC({layoutId:e}){const t=b.useContext(vh).id;return t&&e!==void 0?t+"-"+e:e}function yC(e,t){b.useContext(nw).strict}function vC(e){const{drag:t,layout:r}=bs;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function xC(e,t){if(typeof Proxy>"u")return xu;const r=new Map,n=(i,a)=>xu(i,a,e,t),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,xu(a,void 0,e,t)),r.get(a))})}function gw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function wC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function wu(e){return e===void 0||e===1}function Yc({scale:e,scaleX:t,scaleY:r}){return!wu(e)||!wu(t)||!wu(r)}function an(e){return Yc(e)||yw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yw(e){return kp(e.x)||kp(e.y)}function kp(e){return e&&e!=="0%"}function Ko(e,t,r){const n=e-r,s=t*n;return r+s}function Sp(e,t,r,n,s){return s!==void 0&&(e=Ko(e,s,n)),Ko(e,r,n)+t}function Xc(e,t=0,r=1,n,s){e.min=Sp(e.min,t,r,n,s),e.max=Sp(e.max,t,r,n,s)}function vw(e,{x:t,y:r}){Xc(e.x,t.translate,t.scale,t.originPoint),Xc(e.y,r.translate,r.scale,r.originPoint)}const Ep=.999999999999,Cp=1.0000000000001;function jC(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=r[l],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ts(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vw(e,a)),n&&an(i.latestValues)&&ts(e,i.latestValues))}t.x<Cp&&t.x>Ep&&(t.x=1),t.y<Cp&&t.y>Ep&&(t.y=1)}function es(e,t){e.min=e.min+t,e.max=e.max+t}function Tp(e,t,r,n,s=.5){const i=ae(e.min,e.max,s);Xc(e,t,r,i,n)}function ts(e,t){Tp(e.x,t.x,t.scaleX,t.scale,t.originX),Tp(e.y,t.y,t.scaleY,t.scale,t.originY)}function xw(e,t){return gw(bC(e.getBoundingClientRect(),t))}function _C(e,t,r){const n=xw(e,r),{scroll:s}=t;return s&&(es(n.x,s.offset.x),es(n.y,s.offset.y)),n}const Pp=()=>({translate:0,scale:1,origin:0,originPoint:0}),rs=()=>({x:Pp(),y:Pp()}),Rp=()=>({min:0,max:0}),he=()=>({x:Rp(),y:Rp()}),Zc={current:null},ww={current:!1};function NC(){if(ww.current=!0,!!xh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zc.current=e.matches;e.addEventListener("change",t),t()}else Zc.current=!1}const qi=new WeakMap;function kC(e,t,r){for(const n in t){const s=t[n],i=r[n];if(we(s))e.addValue(n,s);else if(we(i))e.addValue(n,kn(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,kn(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Ap=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bw{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ih,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Qe.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,te.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Nl(r),this.isVariantNode=iw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];u[h]!==void 0&&we(m)&&m.set(u[h])}}mount(t){var r;this.current=t,qi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),ww.current||NC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zc.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Is.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&te.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bs){const r=bs[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Ap.length;n++){const s=Ap[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=kC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=kn(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(ox(n)||ux(n))?n=parseFloat(n):!IE(n)&&Ur.test(r)&&(n=Jx(t,r)),this.setBaseTarget(t,we(n)?n.get():n)),we(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Kh(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!we(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Nh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){zh.render(this.render)}}class jw extends bw{constructor(){super(...arguments),this.KeyframeResolver=_E}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;we(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function _w(e,{style:t,vars:r},n,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function SC(e){return window.getComputedStyle(e)}class Nw extends jw{constructor(){super(...arguments),this.type="html",this.renderInstance=_w}readValueFromInstance(t,r){var n;if(Is.has(r))return(n=this.projection)!=null&&n.isProjecting?Uc(r):zS(t,r);{const s=SC(t),i=(Eh(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return xw(t,r)}build(t,r,n){Wh(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Jh(t,r,n)}}const kw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EC(e,t,r,n){_w(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(kw.has(s)?s:Qh(s),t.attrs[s])}class Sw extends jw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=he}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Is.has(r)){const n=Kx(r);return n&&n.default||0}return r=kw.has(r)?r:Qh(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return hw(t,r,n)}build(t,r,n){lw(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){EC(t,r,n,s)}mount(t){this.isSVGTag=cw(t.tagName),super.mount(t)}}const CC=(e,t)=>qh(e)?new Sw(t):new Nw(t,{allowProjection:e!==b.Fragment});function cs(e,t,r){const n=e.getProps();return Kh(n,t,r!==void 0?r:n.custom,e)}const ed=e=>Array.isArray(e);function TC(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,kn(r))}function PC(e){return ed(e)?e[e.length-1]||0:e}function RC(e,t){const r=cs(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const l=PC(i[a]);TC(e,a,l)}}function AC(e){return!!(we(e)&&e.add)}function td(e,t){const r=e.getValue("willChange");if(AC(r))return r.add(t);if(!r&&pr.WillChange){const n=new pr.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Ew(e){return e.props[fw]}const OC=e=>e!==null;function LC(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(OC),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const IC={type:"spring",stiffness:500,damping:25,restSpeed:10},DC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),MC={type:"keyframes",duration:.8},FC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$C=(e,{keyframes:t})=>t.length>2?MC:Is.has(e)?e.startsWith("scale")?DC(t[1]):IC:FC;function zC({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:u,elapsed:c,...d}){return!!Object.keys(d).length}const Yh=(e,t,r,n={},s,i)=>a=>{const l=Mh(n,e)||{},u=l.delay||n.delay||0;let{elapsed:c=0}=n;c=c-$t(u);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};zC(l)||Object.assign(d,$C(e,d)),d.duration&&(d.duration=$t(d.duration)),d.repeatDelay&&(d.repeatDelay=$t(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Kc(d),d.delay===0&&(f=!0)),(pr.instantAnimations||pr.skipAnimations)&&(f=!0,Kc(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=LC(d.keyframes,l);if(h!==void 0){te.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new bl(d):new uE(d)};function VC({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Xh(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(i=n);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||c&&VC(c,d))continue;const m={delay:r,...Mh(i||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=Ew(e);if(y){const v=window.MotionHandoffAnimation(y,d,te);v!==null&&(m.startTime=v,x=!0)}}td(e,d),f.start(Yh(d,f,h,e.shouldReduceMotion&&Wx.has(d)?{type:!1}:m,e,x));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{te.update(()=>{a&&RC(e,a)})}),u}function Cw(e,t,r,n=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:l-i*n}function rd(e,t,r={}){var u;const n=cs(e,t,r.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Xh(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return BC(e,t,c,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(r.delay)])}function BC(e,t,r=0,n=0,s=0,i=1,a){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(rd(u,t,{...a,delay:r+(typeof n=="function"?0:n)+Cw(e.variantChildren,u,n,s,i)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function UC(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>rd(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=rd(e,t,r);else{const s=typeof t=="function"?cs(e,t,r.custom):t;n=Promise.all(Xh(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Tw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const GC=Gh.length;function Pw(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Pw(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<GC;r++){const n=Gh[r],s=e.props[n];(Wi(s)||s===!1)&&(t[n]=s)}return t}const WC=[...Uh].reverse(),HC=Uh.length;function qC(e){return t=>Promise.all(t.map(({animation:r,options:n})=>UC(e,r,n)))}function KC(e){let t=qC(e),r=Op(),n=!0;const s=u=>(c,d)=>{var h;const f=cs(e,d,u==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...x}=f;c={...c,...x,...p}}return c};function i(u){t=u(e)}function a(u){const{props:c}=e,d=Pw(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let w=0;w<HC;w++){const y=WC[w],v=r[y],g=c[y]!==void 0?c[y]:d[y],j=Wi(g),_=y===u?v.isActive:null;_===!1&&(p=w);let N=g===d[y]&&g!==c[y]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),v.protectedKeys={...m},!v.isActive&&_===null||!g&&!v.prevProp||_l(g)||typeof g=="boolean")continue;const k=JC(v.prevProp,g);let S=k||y===u&&v.isActive&&!N&&j||w>p&&j,E=!1;const R=Array.isArray(g)?g:[g];let I=R.reduce(s(y),{});_===!1&&(I={});const{prevResolvedValues:Q={}}=v,Y={...Q,...I},He=H=>{S=!0,h.has(H)&&(E=!0,h.delete(H)),v.needsAnimating[H]=!0;const P=e.getValue(H);P&&(P.liveStyle=!1)};for(const H in Y){const P=I[H],M=Q[H];if(m.hasOwnProperty(H))continue;let F=!1;ed(P)&&ed(M)?F=!Tw(P,M):F=P!==M,F?P!=null?He(H):h.add(H):P!==void 0&&h.has(H)?He(H):v.protectedKeys[H]=!0}v.prevProp=g,v.prevResolvedValues=I,v.isActive&&(m={...m,...I}),n&&e.blockInitialAnimation&&(S=!1);const et=N&&k;S&&(!et||E)&&f.push(...R.map(H=>{const P={type:y};if(typeof H=="string"&&n&&!et&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,F=cs(M,H);if(M.enteringChildren&&F){const{delayChildren:$}=F.transition||{};P.delay=Cw(M.enteringChildren,e,$)}}return{animation:H,options:P}}))}if(h.size){const w={};if(typeof c.initial!="boolean"){const y=cs(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(w.transition=y.transition)}h.forEach(y=>{const v=e.getBaseTarget(y),g=e.getValue(y);g&&(g.liveStyle=!0),w[y]=v??null}),f.push({animation:w})}let x=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(u,c){var f;if(r[u].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(u,c)}),r[u].isActive=c;const d=a(u);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Op()}}}function JC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Tw(t,e):!1}function en(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Op(){return{animate:en(!0),whileInView:en(),whileHover:en(),whileTap:en(),whileDrag:en(),whileFocus:en(),exit:en()}}class Qr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class QC extends Qr{constructor(t){super(t),t.animationState||(t.animationState=KC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_l(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let YC=0;class XC extends Qr{constructor(){super(...arguments),this.id=YC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ZC={animation:{Feature:QC},exit:{Feature:XC}};function Ki(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function da(e){return{point:{x:e.pageX,y:e.pageY}}}const eT=e=>t=>Vh(t)&&e(t,da(t));function gi(e,t,r,n){return Ki(e,t,eT(r),n)}const Rw=1e-4,tT=1-Rw,rT=1+Rw,Aw=.01,nT=0-Aw,sT=0+Aw;function Be(e){return e.max-e.min}function iT(e,t,r){return Math.abs(e-t)<=r}function Lp(e,t,r,n=.5){e.origin=n,e.originPoint=ae(t.min,t.max,e.origin),e.scale=Be(r)/Be(t),e.translate=ae(r.min,r.max,e.origin)-e.originPoint,(e.scale>=tT&&e.scale<=rT||isNaN(e.scale))&&(e.scale=1),(e.translate>=nT&&e.translate<=sT||isNaN(e.translate))&&(e.translate=0)}function yi(e,t,r,n){Lp(e.x,t.x,r.x,n?n.originX:void 0),Lp(e.y,t.y,r.y,n?n.originY:void 0)}function Ip(e,t,r){e.min=r.min+t.min,e.max=e.min+Be(t)}function aT(e,t,r){Ip(e.x,t.x,r.x),Ip(e.y,t.y,r.y)}function Dp(e,t,r){e.min=t.min-r.min,e.max=e.min+Be(t)}function vi(e,t,r){Dp(e.x,t.x,r.x),Dp(e.y,t.y,r.y)}function gt(e){return[e("x"),e("y")]}const Ow=({current:e})=>e?e.ownerDocument.defaultView:null,Mp=(e,t)=>Math.abs(e-t);function oT(e,t){const r=Mp(e.x,t.x),n=Mp(e.y,t.y);return Math.sqrt(r**2+n**2)}class Lw{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ju(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=oT(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:x}=h,{timestamp:w}=Pe;this.history.push({...x,timestamp:w});const{onStart:y,onMove:v}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=bu(m,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ju(h.type==="pointercancel"?this.lastMoveEventInfo:bu(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),x&&x(h,y)},!Vh(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const l=da(t),u=bu(l,this.transformPagePoint),{point:c}=u,{timestamp:d}=Pe;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,ju(u,this.history)),this.removeListeners=oa(gi(this.contextWindow,"pointermove",this.handlePointerMove),gi(this.contextWindow,"pointerup",this.handlePointerUp),gi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gr(this.updatePoint)}}function bu(e,t){return t?{point:t(e.point)}:e}function Fp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ju({point:e},t){return{point:e,delta:Fp(e,Iw(t)),offset:Fp(e,lT(t)),velocity:uT(t,.1)}}function lT(e){return e[0]}function Iw(e){return e[e.length-1]}function uT(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Iw(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>$t(t)));)r--;if(!n)return{x:0,y:0};const i=bt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function cT(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ae(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ae(r,e,n.max):Math.min(e,r)),e}function $p(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function dT(e,{top:t,left:r,bottom:n,right:s}){return{x:$p(e.x,r,s),y:$p(e.y,t,n)}}function zp(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function hT(e,t){return{x:zp(e.x,t.x),y:zp(e.y,t.y)}}function fT(e,t){let r=.5;const n=Be(e),s=Be(t);return s>n?r=ws(t.min,t.max-n,e.min):n>s&&(r=ws(e.min,e.max-s,t.min)),mr(0,1,r)}function mT(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const nd=.35;function pT(e=nd){return e===!1?e=0:e===!0&&(e=nd),{x:Vp(e,"left","right"),y:Vp(e,"top","bottom")}}function Vp(e,t,r){return{min:Bp(e,t),max:Bp(e,r)}}function Bp(e,t){return typeof e=="number"?e:e[t]||0}const gT=new WeakMap;class yT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(da(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SE(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gt(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Yt.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const j=g.layout.layoutBox[y];j&&(v=Be(j)*(parseFloat(v)/100))}}this.originPoint[y]=v}),x&&te.postRender(()=>x(f,h)),td(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=vT(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),w&&w(f,h)},u=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>gt(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Lw(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Ow(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&te.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ga(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=cT(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Zn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=dT(n.layoutBox,t):this.constraints=!1,this.elastic=pT(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&gt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=mT(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Zn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_C(n,s.root,this.visualElement.getTransformPagePoint());let a=hT(s.layout.layoutBox,i);if(r){const l=r(wC(a));this.hasMutatedConstraints=!!l,l&&(a=gw(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},c=gt(d=>{if(!Ga(d,r,this.currentDirection))return;let f=u&&u[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return td(this.visualElement,t),n.start(Yh(t,n,0,r,this.visualElement,!1))}stopAnimation(){gt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){gt(r=>{const{drag:n}=this.getProps();if(!Ga(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];i.set(t[r]-ae(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Zn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};gt(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();s[a]=fT({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gt(a=>{if(!Ga(a,t,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(ae(u,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;gT.set(this.visualElement,this);const t=this.visualElement.current,r=gi(t,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Zn(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),te.read(n);const a=Ki(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(gt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=nd,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Ga(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function vT(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class xT extends Qr{constructor(t){super(t),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new yT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}}const Up=e=>(t,r)=>{e&&te.postRender(()=>e(t,r))};class wT extends Qr{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(t){this.session=new Lw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Up(t),onStart:Up(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&te.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=gi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;const r=Gp(e,t.target.x),n=Gp(e,t.target.y);return`${r}% ${n}%`}},bT={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Ur.parse(e);if(s.length>5)return n;const i=Ur.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=u;const c=ae(l,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),i(s)}};let _u=!1;class jT extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;KE(_T),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),_u&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,_u=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||te.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;_u=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Dw(e){const[t,r]=rw(),n=b.useContext(vh);return o.jsx(jT,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(mw),isPresent:t,safeToRemove:r})}const _T={borderRadius:{...qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qs,borderTopRightRadius:qs,borderBottomLeftRadius:qs,borderBottomRightRadius:qs,boxShadow:bT};function Mw(e,t,r){const n=we(e)?e:kn(e);return n.start(Yh("",n,t,r)),n.animation}const NT=(e,t)=>e.depth-t.depth;class kT{constructor(){this.children=[],this.isDirty=!1}add(t){bh(this.children,t),this.isDirty=!0}remove(t){wl(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NT),this.isDirty=!1,this.children.forEach(t)}}function ST(e,t){const r=Qe.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(gr(n),e(i-t))};return te.setup(n,!0),()=>gr(n)}const Fw=["TopLeft","TopRight","BottomLeft","BottomRight"],ET=Fw.length,Wp=e=>typeof e=="string"?parseFloat(e):e,Hp=e=>typeof e=="number"||V.test(e);function CT(e,t,r,n,s,i){s?(e.opacity=ae(0,r.opacity??1,TT(n)),e.opacityExit=ae(t.opacity??1,0,PT(n))):i&&(e.opacity=ae(t.opacity??1,r.opacity??1,n));for(let a=0;a<ET;a++){const l=`border${Fw[a]}Radius`;let u=qp(t,l),c=qp(r,l);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Hp(u)===Hp(c)?(e[l]=Math.max(ae(Wp(u),Wp(c),n),0),(Yt.test(c)||Yt.test(u))&&(e[l]+="%")):e[l]=c}(t.rotate||r.rotate)&&(e.rotate=ae(t.rotate||0,r.rotate||0,n))}function qp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TT=$w(0,.5,yx),PT=$w(.5,.95,_t);function $w(e,t,r){return n=>n<e?0:n>t?1:r(ws(e,t,n))}function Kp(e,t){e.min=t.min,e.max=t.max}function ft(e,t){Kp(e.x,t.x),Kp(e.y,t.y)}function Jp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qp(e,t,r,n,s){return e-=t,e=Ko(e,1/r,n),s!==void 0&&(e=Ko(e,1/s,n)),e}function RT(e,t=0,r=1,n=.5,s,i=e,a=e){if(Yt.test(t)&&(t=parseFloat(t),t=ae(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=ae(i.min,i.max,n);e===i&&(l-=t),e.min=Qp(e.min,t,r,l,s),e.max=Qp(e.max,t,r,l,s)}function Yp(e,t,[r,n,s],i,a){RT(e,t[r],t[n],t[s],t.scale,i,a)}const AT=["x","scaleX","originX"],OT=["y","scaleY","originY"];function Xp(e,t,r,n){Yp(e.x,t,AT,r?r.x:void 0,n?n.x:void 0),Yp(e.y,t,OT,r?r.y:void 0,n?n.y:void 0)}function Zp(e){return e.translate===0&&e.scale===1}function zw(e){return Zp(e.x)&&Zp(e.y)}function e0(e,t){return e.min===t.min&&e.max===t.max}function LT(e,t){return e0(e.x,t.x)&&e0(e.y,t.y)}function t0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Vw(e,t){return t0(e.x,t.x)&&t0(e.y,t.y)}function r0(e){return Be(e.x)/Be(e.y)}function n0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class IT{constructor(){this.members=[]}add(t){bh(this.members,t),t.scheduleRender()}remove(t){if(wl(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DT(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const Nu=["","X","Y","Z"],MT=1e3;let FT=0;function ku(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Bw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Ew(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",te,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Bw(n)}function Uw({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=FT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VT),this.nodes.forEach(WT),this.nodes.forEach(HT),this.nodes.forEach(BT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new kT)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Nh),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Bh(a)&&!tw(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;te.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=ST(h,250),fo.hasAnimatedSinceResize&&(fo.hasAnimatedSinceResize=!1,this.nodes.forEach(a0)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||YT,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=c.getProps(),y=!this.targetLayout||!Vw(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Mh(p,"layout"),onPlay:x,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,v)}else f||a0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qT),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GT),this.nodes.forEach($T),this.nodes.forEach(zT)):this.nodes.forEach(i0),this.clearAllSnapshots();const l=Qe.now();Pe.delta=mr(0,1e3/60,l-Pe.timestamp),Pe.timestamp=l,Pe.isProcessing=!0,fu.update.process(Pe),fu.preRender.process(Pe),fu.render.process(Pe),Pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UT),this.sharedNodes.forEach(KT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Be(this.snapshot.measuredBox.x)&&!Be(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!zw(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(l||an(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),XT(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return he();const l=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(ZT))){const{scroll:d}=this.root;d&&(es(l.x,d.offset.x),es(l.y,d.offset.y))}return l}removeElementScroll(a){var u;const l=he();if(ft(l,a),(u=this.scroll)!=null&&u.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ft(l,a),es(l.x,f.offset.x),es(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const u=he();ft(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ts(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),an(d.latestValues)&&ts(u,d.latestValues)}return an(this.latestValues)&&ts(u,this.latestValues),u}removeTransform(a){const l=he();ft(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!an(c.latestValues))continue;Yc(c.latestValues)&&c.updateSnapshot();const d=he(),f=c.measurePageBox();ft(d,f),Xp(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return an(this.latestValues)&&Xp(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Pe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),vi(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),vw(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),vi(this.relativeTargetOrigin,this.target,m.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Yc(this.parent.latestValues)||yw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pe.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;ft(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;jC(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=he());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jp(this.prevProjectionDelta.x,this.projectionDelta.x),Jp(this.prevProjectionDelta.y,this.projectionDelta.y)),yi(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!n0(this.projectionDelta.x,this.prevProjectionDelta.x)||!n0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rs(),this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs()}setAnimationOrigin(a,l=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},f=rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=he(),m=u?u.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,w=this.getStack(),y=!w||w.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(QT));this.animationProgress=0;let g;this.mixTargetDelta=j=>{const _=j/1e3;o0(f.x,a.x,_),o0(f.y,a.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JT(this.relativeTarget,this.relativeTargetOrigin,h,_),g&&LT(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=he()),ft(g,this.relativeTarget)),x&&(this.animationValues=d,CT(d,c,this.latestValues,_,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,u,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{fo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kn(0)),this.currentAnimation=Mw(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:c,latestValues:d}=a;if(!(!l||!u||!c)){if(this!==a&&this.layout&&c&&Gw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||he();const f=Be(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+f;const h=Be(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+h}ft(l,u),ts(l,d),yi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IT),this.sharedNodes.get(a).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const c={};u.z&&ku("z",a,c,this.animationValues);for(let d=0;d<Nu.length;d++)ku(`rotate${Nu[d]}`,a,c,this.animationValues),ku(`skew${Nu[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ho(l==null?void 0:l.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ho(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!an(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=DT(this.projectionDeltaWithTransform,this.treeScale,d);u&&(f=u(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Hi){if(d[p]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:y}=Hi[p],v=f==="none"?d[p]:x(d[p],c);if(w){const g=w.length;for(let j=0;j<g;j++)a[w[j]]=v}else y?this.options.visualElement.renderState.vars[p]=v:a[p]=v}this.options.layoutId&&(a.pointerEvents=c===this?ho(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(s0),this.root.sharedNodes.clear()}}}function $T(e){e.updateLayout()}function zT(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?gt(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Be(h);h.min=n[f].min,h.max=h.min+m}):Gw(i,t.layoutBox,n)&&gt(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Be(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=rs();yi(l,n,t.layoutBox);const u=rs();a?yi(u,e.applyTransform(s,!0),t.measuredBox):yi(u,n,t.layoutBox);const c=!zw(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=he();vi(p,t.layoutBox,h.layoutBox);const x=he();vi(x,n,m.layoutBox),Vw(p,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function VT(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function BT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UT(e){e.clearSnapshot()}function s0(e){e.clearMeasurements()}function i0(e){e.isLayoutDirty=!1}function GT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function a0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WT(e){e.resolveTargetDelta()}function HT(e){e.calcProjection()}function qT(e){e.resetSkewAndRotation()}function KT(e){e.removeLeadSnapshot()}function o0(e,t,r){e.translate=ae(t.translate,0,r),e.scale=ae(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function l0(e,t,r,n){e.min=ae(t.min,r.min,n),e.max=ae(t.max,r.max,n)}function JT(e,t,r,n){l0(e.x,t.x,r.x,n),l0(e.y,t.y,r.y,n)}function QT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const YT={duration:.45,ease:[.4,0,.1,1]},u0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),c0=u0("applewebkit/")&&!u0("chrome/")?Math.round:_t;function d0(e){e.min=c0(e.min),e.max=c0(e.max)}function XT(e){d0(e.x),d0(e.y)}function Gw(e,t,r){return e==="position"||e==="preserve-aspect"&&!iT(r0(t),r0(r),.2)}function ZT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const eP=Uw({attachResizeListener:(e,t)=>Ki(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Su={current:void 0},Ww=Uw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Su.current){const e=new eP({});e.mount(window),e.setOptions({layoutScroll:!0}),Su.current=e}return Su.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tP={pan:{Feature:wT},drag:{Feature:xT,ProjectionNode:Ww,MeasureLayout:Dw}};function h0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&te.postRender(()=>i(t,da(t)))}class rP extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=EE(t,(r,n)=>(h0(this.node,n,"Start"),s=>h0(this.node,s,"End"))))}unmount(){}}class nP extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oa(Ki(this.node.current,"focus",()=>this.onFocus()),Ki(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f0(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&te.postRender(()=>i(t,da(t)))}class sP extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=RE(t,(r,n)=>(f0(this.node,n,"Start"),(s,{success:i})=>f0(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sd=new WeakMap,Eu=new WeakMap,iP=e=>{const t=sd.get(e.target);t&&t(e)},aP=e=>{e.forEach(iP)};function oP({root:e,...t}){const r=e||document;Eu.has(r)||Eu.set(r,{});const n=Eu.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(aP,{root:e,...t})),n[s]}function lP(e,t,r){const n=oP(t);return sd.set(e,r),n.observe(e),()=>{sd.delete(e),n.unobserve(e)}}const uP={some:0,all:1};class cP extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:uP[s]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(u)};return lP(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(dP(t,r))&&this.startObserver()}unmount(){}}function dP({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const hP={inView:{Feature:cP},tap:{Feature:sP},focus:{Feature:nP},hover:{Feature:rP}},fP={layout:{ProjectionNode:Ww,MeasureLayout:Dw}},mP={...ZC,...hP,...tP,...fP},C=xC(mP,CC);function Ji(e){const t=aa(()=>kn(e)),{isStatic:r}=b.useContext(ca);if(r){const[,n]=b.useState(e);b.useEffect(()=>t.on("change",n),[])}return t}function Hw(e,t){const r=Ji(t()),n=()=>r.set(t());return n(),wh(()=>{const s=()=>te.preRender(n,!1,!0),i=e.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),gr(n)}}),r}function pP(e){pi.current=[],e();const t=Hw(pi.current,e);return pi.current=void 0,t}function Jo(e,t,r,n){if(typeof e=="function")return pP(e);const s=typeof t=="function"?t:AE(t,r,n);return Array.isArray(e)?m0(e,s):m0([e],([i])=>s(i))}function m0(e,t){const r=aa(()=>[]);return Hw(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function p0(e,t={}){const{isStatic:r}=b.useContext(ca),n=()=>we(e)?e.get():e;if(r)return Jo(n);const s=Ji(n());return b.useInsertionEffect(()=>OE(s,e,t),[s,JSON.stringify(t)]),s}function Zh(e){return typeof e=="object"&&!Array.isArray(e)}function qw(e,t,r,n){return typeof e=="string"&&Zh(t)?$h(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function gP(e,t,r){return e*(t+1)}function g0(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:t.startsWith("<")?Math.max(0,r+parseFloat(t.slice(1))):n.get(t)??e}function yP(e,t,r){for(let n=0;n<e.length;n++){const s=e[n];s.at>t&&s.at<r&&(wl(e,s),n--)}}function vP(e,t,r,n,s,i){yP(e,s,i);for(let a=0;a<t.length;a++)e.push({value:t[a],at:ae(s,i,n[a]),easing:bx(r,a)})}function xP(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function wP(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const bP="easeInOut";function jP(e,{defaultTransition:t={},...r}={},n,s){const i=t.duration||.3,a=new Map,l=new Map,u={},c=new Map;let d=0,f=0,h=0;for(let m=0;m<e.length;m++){const p=e[m];if(typeof p=="string"){c.set(p,f);continue}else if(!Array.isArray(p)){c.set(p.name,g0(f,p.at,d,c));continue}let[x,w,y={}]=p;y.at!==void 0&&(f=g0(f,y.at,d,c));let v=0;const g=(j,_,N,k=0,S=0)=>{const E=_P(j),{delay:R=0,times:I=Mx(E),type:Q="keyframes",repeat:Y,repeatType:He,repeatDelay:et=0,...qe}=_;let{ease:H=t.ease||"easeOut",duration:P}=_;const M=typeof R=="function"?R(k,S):R,F=E.length,$=Dh(Q)?Q:s==null?void 0:s[Q||"keyframes"];if(F<=2&&$){let tt=100;if(F===2&&SP(E)){const Ds=E[1]-E[0];tt=Math.abs(Ds)}const ht={...qe};P!==void 0&&(ht.duration=$t(P));const er=Ox(ht,tt,$);H=er.ease,P=er.duration}P??(P=i);const G=f+M;I.length===1&&I[0]===0&&(I[1]=1);const re=I.length-E.length;if(re>0&&Dx(I,re),E.length===1&&E.unshift(null),Y){P=gP(P,Y);const tt=[...E],ht=[...I];H=Array.isArray(H)?[...H]:[H];const er=[...H];for(let Ds=0;Ds<Y;Ds++){E.push(...tt);for(let Ms=0;Ms<tt.length;Ms++)I.push(ht[Ms]+(Ds+1)),H.push(Ms===0?"linear":bx(er,Ms-1))}xP(I,Y)}const Se=G+P;vP(N,E,H,I,G,Se),v=Math.max(M+P,v),h=Math.max(Se,h)};if(we(x)){const j=y0(x,l);g(w,y,v0("default",j))}else{const j=qw(x,w,n,u),_=j.length;for(let N=0;N<_;N++){w=w,y=y;const k=j[N],S=y0(k,l);for(const E in w)g(w[E],NP(y,E),v0(E,S),N,_)}}d=f,f+=v}return l.forEach((m,p)=>{for(const x in m){const w=m[x];w.sort(wP);const y=[],v=[],g=[];for(let _=0;_<w.length;_++){const{at:N,value:k,easing:S}=w[_];y.push(k),v.push(ws(0,h,N)),g.push(S||"easeOut")}v[0]!==0&&(v.unshift(0),y.unshift(y[0]),g.unshift(bP)),v[v.length-1]!==1&&(v.push(1),y.push(null)),a.has(p)||a.set(p,{keyframes:{},transition:{}});const j=a.get(p);j.keyframes[x]=y,j.transition[x]={...t,duration:h,ease:g,times:v,...r}}}),a}function y0(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function v0(e,t){return t[e]||(t[e]=[]),t[e]}function _P(e){return Array.isArray(e)?e:[e]}function NP(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const kP=e=>typeof e=="number",SP=e=>e.every(kP);function EP(e,t){return e in t}class CP extends bw{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(EP(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return he()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function TP(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Bh(e)&&!tw(e)?new Sw(t):new Nw(t);r.mount(e),qi.set(e,r)}function PP(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new CP(t);r.mount(e),qi.set(e,r)}function RP(e,t){return we(e)||typeof e=="number"||typeof e=="string"&&!Zh(t)}function Kw(e,t,r,n){const s=[];if(RP(e,t))s.push(Mw(e,Zh(t)&&t.default||t,r&&(r.default||r)));else{const i=qw(e,t,n),a=i.length;for(let l=0;l<a;l++){const u=i[l],c=u instanceof Element?TP:PP;qi.has(u)||c(u);const d=qi.get(u),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(l,a)),s.push(...Xh(d,{...t,transition:f},{}))}}return s}function AP(e,t,r){const n=[];return jP(e,t,r,{spring:Gi}).forEach(({keyframes:i,transition:a},l)=>{n.push(...Kw(l,i,a))}),n}function OP(e){return Array.isArray(e)&&e.some(Array.isArray)}function LP(e){function t(r,n,s){let i=[],a;if(OP(r))i=AP(r,n,e);else{const{onComplete:u,...c}=s||{};typeof u=="function"&&(a=u),i=Kw(r,n,c,e)}const l=new dE(i);return a&&l.finished.then(a),l}return t}const IP=LP(),DP={some:0,all:1};function MP(e,t,{root:r,margin:n,amount:s="some"}={}){const i=$h(e),a=new WeakMap,l=c=>{c.forEach(d=>{const f=a.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const h=t(d.target,d);typeof h=="function"?a.set(d.target,h):u.unobserve(d.target)}else typeof f=="function"&&(f(d),a.delete(d.target))})},u=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof s=="number"?s:DP[s]});return i.forEach(c=>u.observe(c)),()=>u.disconnect()}function FP(e,{root:t,margin:r,amount:n,once:s=!1,initial:i=!1}={}){const[a,l]=b.useState(i);return b.useEffect(()=>{if(!e.current||s&&a)return;const u=()=>(l(!0),s?void 0:()=>l(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return MP(e.current,u,c)},[t,e,r,s,n]),a}var id=new Map,Wa=new WeakMap,x0=0,$P;function zP(e){return e?(Wa.has(e)||(x0+=1,Wa.set(e,x0.toString())),Wa.get(e)):"0"}function VP(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?zP(e.root):e[t]}`).toString()}function BP(e){const t=VP(e);let r=id.get(t);if(!r){const n=new Map;let s;const i=new IntersectionObserver(a=>{a.forEach(l=>{var u;const c=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=c),(u=n.get(l.target))==null||u.forEach(d=>{d(c,l)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},id.set(t,r)}return r}function UP(e,t,r={},n=$P){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const u=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:s,observer:i,elements:a}=BP(r),l=a.get(e)||[];return a.has(e)||a.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(a.delete(e),i.unobserve(e)),a.size===0&&(i.disconnect(),id.delete(s))}}function ti({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:s,triggerOnce:i,skip:a,initialInView:l,fallbackInView:u,onChange:c}={}){var d;const[f,h]=b.useState(null),m=b.useRef(c),p=b.useRef(l),[x,w]=b.useState({inView:!!l,entry:void 0});m.current=c,b.useEffect(()=>{if(p.current===void 0&&(p.current=l),a||!f)return;let j;return j=UP(f,(_,N)=>{const k=p.current;p.current=_,!(k===void 0&&!_)&&(w({inView:_,entry:N}),m.current&&m.current(_,N),N.isIntersecting&&i&&j&&(j(),j=void 0))},{root:s,rootMargin:n,threshold:e,trackVisibility:r,delay:t},u),()=>{j&&j()}},[Array.isArray(e)?e.toString():e,f,s,n,i,a,r,u,t]);const y=(d=x.entry)==null?void 0:d.target,v=b.useRef(void 0);!f&&y&&!i&&!a&&v.current!==y&&(v.current=y,w({inView:!!l,entry:void 0}),p.current=l);const g=[h,x.inView,x.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}const Jw={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}},exit:{opacity:0,y:20}},GP={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95}},xi={initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}}},xt={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},WP={rest:{scale:1,transition:{type:"spring",stiffness:300,damping:20}},hover:{scale:1.02,y:-4,transition:{type:"spring",stiffness:400,damping:15}},tap:{scale:.98}},HP={rest:{scale:1},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.98}};function Qw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Qw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qi(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Qw(e))&&(n&&(n+=" "),n+=t);return n}function U({children:e,variant:t="primary",size:r="md",fullWidth:n=!1,loading:s=!1,disabled:i,className:a="",...l}){const u="font-semibold rounded-lg inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",c={primary:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-premium-md hover:shadow-premium-lg font-semibold",secondary:"bg-neutral-100 hover:bg-neutral-200 text-neutral-900 border border-neutral-300 shadow-premium-sm",outline:"border-2 border-amber-500/50 hover:border-amber-500 text-amber-500 hover:text-amber-400 hover:bg-amber-500/10 shadow-premium-sm",danger:"bg-red-600 hover:bg-red-700 text-white shadow-premium-md"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},f=n?"w-full":"";return o.jsxs(C.button,{className:Qi(u,c[t],d[r],f,a),disabled:i||s,variants:HP,initial:"rest",whileHover:"hover",whileTap:"tap",...l,children:[s?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(C.div,{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),o.jsx("span",{children:"Chargement..."})]}):e,o.jsx(C.div,{className:"absolute inset-0 bg-white opacity-0 hover:opacity-10",initial:{opacity:0},whileHover:{opacity:.1},transition:{duration:.2}})]})}function Re({children:e,variant:t="default",hover:r=!0,className:n="",onClick:s}){const i="rounded-xl overflow-hidden",a={default:"bg-white border border-neutral-200 shadow-premium-sm",premium:"bg-gradient-to-br from-white to-neutral-50 border border-amber-200 shadow-premium-md relative before:absolute before:inset-0 before:rounded-xl before:p-[1px] before:bg-gradient-amber before:-z-10",glassmorphism:"bg-white/70 backdrop-blur-md border border-white/20 shadow-premium-lg"},l=r?C.div:"div",u=r?{variants:WP,initial:"rest",whileHover:"hover",whileTap:"tap"}:{};return o.jsx(l,{className:Qi(i,a[t],n,s&&"cursor-pointer"),onClick:s,...u,children:e})}function ze({children:e,className:t=""}){return o.jsx("div",{className:Qi("p-6",t),children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...c},d)=>b.createElement("svg",{ref:d,...qP,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${KP(e)}`,l].join(" "),...c},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=L("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=L("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=L("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=L("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=L("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=L("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=L("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=L("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=L("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=L("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=L("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=L("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=L("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=L("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=L("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=L("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=L("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=L("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=L("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=L("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=L("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=L("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=L("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=L("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=L("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=L("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=L("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=L("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=L("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=L("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=L("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=L("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=L("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=L("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=L("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=L("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=L("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=L("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function _4(){const e={product:[{label:"Fonctionnalits",href:"/signup"},{label:"Templates",href:"/signup"},{label:"Configuration NFC",href:"/signup"},{label:"Exemples",href:"/#examples"}],resources:[{label:"Guide de dmarrage",href:"/signup"},{label:"Documentation",href:"/signup"},{label:"Support",href:"/signup"},{label:"FAQ",href:"/#faq"}],company:[{label:" propos",href:"/#about"},{label:"Contact",href:"/#contact"},{label:"Blog",href:"/#blog"}],legal:[{label:"Confidentialit",href:"/#privacy"},{label:"Conditions",href:"/#terms"},{label:"Mentions lgales",href:"/#legal"}]};return o.jsx("footer",{className:"bg-neutral-100 border-t border-neutral-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8 mb-8",children:[o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx(q,{to:"/",className:"inline-block mb-4",children:o.jsx(C.h2,{className:"text-2xl font-bold bg-gradient-amber bg-clip-text text-transparent",whileHover:{scale:1.05},children:"Obsi"})}),o.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:"Votre carte de visite numrique professionnelle avec QR code et NFC."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("a",{href:"mailto:contact@obsi.fr",className:"flex items-center gap-2 text-neutral-600 hover:text-amber-600 transition-colors text-sm",children:[o.jsx(kl,{className:"w-4 h-4"}),"contact@obsi.fr"]}),o.jsxs("a",{href:"tel:+33123456789",className:"flex items-center gap-2 text-neutral-600 hover:text-amber-600 transition-colors text-sm",children:[o.jsx(Sl,{className:"w-4 h-4"}),"+33 1 23 45 67 89"]}),o.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 text-sm",children:[o.jsx(af,{className:"w-4 h-4"}),"Paris, France"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-neutral-900 font-semibold mb-4",children:"Produit"}),o.jsx("ul",{className:"space-y-2",children:e.product.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-neutral-600 hover:text-amber-600 transition-colors text-sm",children:t.label})},`product-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-neutral-900 font-semibold mb-4",children:"Ressources"}),o.jsx("ul",{className:"space-y-2",children:e.resources.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-neutral-600 hover:text-amber-600 transition-colors text-sm",children:t.label})},`resources-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-neutral-900 font-semibold mb-4",children:"Entreprise"}),o.jsx("ul",{className:"space-y-2",children:e.company.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-neutral-600 hover:text-amber-600 transition-colors text-sm",children:t.label})},`company-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-neutral-900 font-semibold mb-4",children:"Lgal"}),o.jsx("ul",{className:"space-y-2",children:e.legal.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-neutral-600 hover:text-amber-600 transition-colors text-sm",children:t.label})},`legal-${r}`))})]})]}),o.jsxs("div",{className:"pt-8 border-t border-neutral-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-neutral-500 text-sm text-center md:text-left",children:" 2025 Obsi. Tous droits rservs."}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{to:"/#",className:"text-neutral-500 hover:text-amber-600 transition-colors text-sm",children:"Politique de confidentialit"}),o.jsx("span",{className:"text-neutral-400",children:""}),o.jsx(q,{to:"/#",className:"text-neutral-500 hover:text-amber-600 transition-colors text-sm",children:"Conditions d'utilisation"})]})]})]})})}const In=[{id:"1",name:"Sophie Durand",title:"CEO & Founder",company:"TechVision Solutions",email:"sophie@techvision.fr",phone:"+33 6 12 34 56 78",website:"techvision.fr",type:"professional",gradient:"from-navy-800 via-navy-700 to-navy-800",icon:ef,iconBg:"from-gold-500 to-gold-600"},{id:"2",name:"Alex Martin",title:"tudiant en Marketing Digital",company:"ESSEC Business School",email:"alex.martin@essec.edu",phone:"+33 7 23 45 67 89",website:"alexmartin.fr",type:"student",gradient:"from-blue-900 via-blue-800 to-blue-900",icon:nf,iconBg:"from-blue-500 to-blue-600"},{id:"3",name:"Jean Dubois",title:"Dput  Circonscription 5",company:"Assemble Nationale",email:"contact@jeandubois.fr",phone:"+33 1 40 63 60 00",website:"jeandubois.fr",type:"political",gradient:"from-red-900 via-red-800 to-red-900",icon:sf,iconBg:"from-red-500 to-red-600"}];function N4(){const[e,t]=b.useState(0),[r,n]=b.useState(!1),s=b.useRef(null),i=Ji(0),a=Ji(0),l={damping:25,stiffness:200},u=p0(i,l),c=p0(a,l);b.useEffect(()=>{const h=()=>{n(window.innerWidth<768)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),b.useEffect(()=>{const h=setInterval(()=>{t(m=>(m+1)%In.length)},6e3);return()=>clearInterval(h)},[]);const d=h=>{if(r||!s.current)return;const m=s.current.getBoundingClientRect(),p=m.left+m.width/2,x=m.top+m.height/2,w=(h.clientX-p)/m.width,y=(h.clientY-x)/m.height;i.set(w*20),a.set(y*20)},f=()=>{r||(i.set(0),a.set(0))};return o.jsxs("div",{ref:s,className:"relative w-full h-full flex items-center justify-center",onMouseMove:d,onMouseLeave:f,children:[o.jsxs("div",{className:"relative w-full max-w-md aspect-[1.6/1]",style:{perspective:"1200px"},children:[In.map((h,m)=>{const p=(m-e+In.length)%In.length,x=p===0,w=Jo(u,[-20,20],[5,-5]),y=Jo(c,[-20,20],[-5,5]);return o.jsx(C.div,{className:"absolute inset-0",style:{transformStyle:"preserve-3d",zIndex:In.length-p},initial:{rotateY:0,rotateX:0,y:-100,opacity:0,scale:.8},animate:{rotateY:p*8,rotateX:p*-2,y:p*12,x:p*8,scale:1-p*.08,opacity:1-p*.3},transition:{duration:.7,ease:[.34,1.56,.64,1]},children:o.jsx(C.div,{className:"w-full h-full rounded-2xl shadow-premium-xl overflow-hidden",style:{rotateY:x&&!r?w:0,rotateX:x&&!r?y:0,transformStyle:"preserve-3d"},whileHover:x&&!r?{scale:1.02}:{},transition:{type:"spring",stiffness:300},children:o.jsxs("div",{className:`relative w-full h-full bg-gradient-to-br ${h.gradient} border border-gold-500/30`,children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(200, 155, 60, 0.1) 10px, rgba(200, 155, 60, 0.1) 11px)"}}),!r&&o.jsx(C.div,{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,repeatDelay:5,ease:"linear"}}),o.jsxs("div",{className:"relative h-full flex flex-col justify-between p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(C.div,{className:`bg-gradient-to-br ${h.iconBg} p-2.5 rounded-xl shadow-lg`,whileHover:{scale:1.1,rotate:5},children:o.jsx(h.icon,{className:"w-5 h-5 text-white"})}),o.jsx(C.div,{className:"bg-gold-400/90 backdrop-blur-sm p-2 rounded-lg",animate:{boxShadow:["0 0 0 0 rgba(200, 155, 60, 0.4)","0 0 0 8px rgba(200, 155, 60, 0)","0 0 0 0 rgba(200, 155, 60, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:o.jsx(yr,{className:"w-4 h-4 text-navy-900"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(C.h3,{className:"text-2xl font-bold text-white mb-1 tracking-tight",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:h.name}),o.jsx(C.p,{className:"text-gold-300 text-sm font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:h.title}),o.jsx(C.p,{className:"text-warmGray-400 text-xs mt-1",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:h.company})]}),o.jsxs(C.div,{className:"space-y-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[o.jsxs("div",{className:"flex items-center gap-2 text-warmGray-300 text-xs",children:[o.jsx(kl,{className:"w-3.5 h-3.5 text-gold-400"}),o.jsx("span",{children:h.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-warmGray-300 text-xs",children:[o.jsx(Sl,{className:"w-3.5 h-3.5 text-gold-400"}),o.jsx("span",{children:h.phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-warmGray-300 text-xs",children:[o.jsx(rf,{className:"w-3.5 h-3.5 text-gold-400"}),o.jsx("span",{children:h.website})]})]}),o.jsx(C.div,{className:"flex justify-end",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:o.jsxs("div",{className:"inline-flex items-center gap-2 bg-gold-400/10 backdrop-blur-sm border border-gold-400/30 rounded-full px-3 py-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-gold-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-gold-300 text-xs font-medium",children:"Premium"})]})})]})]})]})})},h.id)}),o.jsx(C.div,{className:"absolute -inset-4 bg-gold-400/20 rounded-3xl blur-3xl -z-10",animate:{opacity:[.3,.6,.3],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),o.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:In.map((h,m)=>o.jsx(C.button,{className:`w-2 h-2 rounded-full transition-all ${m===e?"bg-gold-400 w-8":"bg-warmGray-600 hover:bg-warmGray-500"}`,onClick:()=>t(m),whileHover:{scale:1.2},whileTap:{scale:.9}},h.id))}),!r&&o.jsx("div",{className:"absolute -z-10 inset-0 pointer-events-none",children:[...Array(20)].map((h,m)=>o.jsx(C.div,{className:"absolute w-1 h-1 bg-gold-400/40 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*3,ease:"easeInOut"}},m))})]})}function k4(){const[e,t]=ti({triggerOnce:!0,threshold:.2}),[r,n]=ti({triggerOnce:!0,threshold:.1}),[s,i]=ti({triggerOnce:!0,threshold:.1}),[a,l]=ti({triggerOnce:!0,threshold:.1});return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx(C.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-premium-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx(C.h1,{className:"text-2xl font-bold bg-gradient-amber bg-clip-text text-transparent",whileHover:{scale:1.05},children:"Obsi"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(q,{to:"/login",children:o.jsx(U,{variant:"outline",children:"Se connecter"})}),o.jsx(q,{to:"/signup",children:o.jsx(U,{variant:"secondary",children:"Commencer"})})]})]})})}),o.jsxs("main",{children:[o.jsxs("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20 overflow-hidden",children:[o.jsx(C.div,{className:"absolute inset-0 opacity-30",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.05) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.05) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),o.jsxs("div",{className:"relative z-10 grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{className:"text-center lg:text-left order-2 lg:order-1",children:[o.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"inline-flex items-center gap-2 bg-amber-50 border border-amber-200 rounded-full px-4 py-2 mb-6",children:[o.jsx(_s,{className:"w-4 h-4 text-amber-600"}),o.jsx("span",{className:"text-amber-700 text-sm font-medium",children:"Pour professionnels, tudiants et politiciens"})]}),o.jsxs(C.h1,{variants:Jw,initial:"initial",animate:"animate",className:"text-4xl md:text-5xl lg:text-6xl font-bold text-neutral-900 mb-6 tracking-tighter",children:["Votre identit professionnelle,",o.jsx(C.span,{className:"block bg-gradient-amber bg-clip-text text-transparent",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:"redfinie pour l'excellence"})]}),o.jsx(C.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-lg md:text-xl text-neutral-600 mb-8 leading-relaxed",children:"Carte de visite numrique avec QR code et NFC. Templates adapts  votre secteur, profil modifiable  tout moment. Partagez, suivez vos statistiques, dveloppez votre rseau."}),o.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start items-center mb-12",children:[o.jsx(q,{to:"/signup",children:o.jsx(U,{size:"lg",variant:"secondary",className:"px-8 w-full sm:w-auto",children:"Crer ma carte premium"})}),o.jsx(q,{to:"/login",children:o.jsx(U,{size:"lg",variant:"outline",className:"px-8 w-full sm:w-auto",children:"Voir une dmo"})})]}),o.jsx(C.div,{ref:e,initial:{opacity:0},animate:t?{opacity:1}:{},transition:{delay:.9,duration:.6},className:"grid grid-cols-3 gap-6 max-w-md mx-auto lg:mx-0",children:[{value:"1,247+",label:"Professionnels"},{value:"98%",label:"Satisfaction"},{value:"<2s",label:"Chargement"}].map((u,c)=>o.jsxs(C.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{delay:1+c*.1,duration:.5},className:"text-center lg:text-left",children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-amber bg-clip-text text-transparent mb-1",children:u.value}),o.jsx("div",{className:"text-xs md:text-sm text-neutral-500",children:u.label})]},u.label))})]}),o.jsx(C.div,{className:"order-1 lg:order-2 flex items-center justify-center",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},transition:{delay:.4,duration:.8,type:"spring"},children:o.jsx("div",{className:"w-full max-w-lg h-[400px] md:h-[500px]",children:o.jsx(N4,{})})})]})]}),o.jsxs("section",{ref:r,className:"py-20 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-neutral-50 via-white to-neutral-50"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs(C.div,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 mb-4 tracking-tight",children:"Fonctionnalits premium"}),o.jsx("p",{className:"text-xl text-neutral-600",children:"Tout ce dont vous avez besoin pour impressionner"})]}),o.jsx(C.div,{variants:xi,initial:"initial",animate:n?"animate":"initial",className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:u4,title:"QR Code premium",desc:"QR codes haute rsolution avec design personnalisable et tlchargement instantan",color:"from-amber-500 to-amber-600",iconColor:"text-black"},{icon:El,title:"Partage intelligent",desc:"Partagez par lien, QR, NFC ou vCard avec suivi des interactions en temps rel",color:"from-amber-400 to-amber-500",iconColor:"text-black"},{icon:Qo,title:"Analytics avancs",desc:"Tableau de bord complet avec statistiques dtailles et insights actionnables",color:"from-amber-500 to-amber-600",iconColor:"text-black"},{icon:Xt,title:"Exprience mobile",desc:"Interface optimise mobile-first avec support PWA pour accs offline",color:"from-amber-600 to-amber-700",iconColor:"text-black"}].map((u,c)=>o.jsx(C.div,{variants:xt,children:o.jsx(Re,{variant:"glassmorphism",className:"h-full bg-white border-neutral-200 backdrop-blur-xl shadow-premium-sm",children:o.jsxs("div",{className:"p-6",children:[o.jsx(C.div,{className:`w-14 h-14 bg-gradient-to-br ${u.color} rounded-xl flex items-center justify-center mb-4`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:o.jsx(u.icon,{className:`w-7 h-7 ${u.iconColor}`})}),o.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-2",children:u.title}),o.jsx("p",{className:"text-neutral-600 text-sm leading-relaxed",children:u.desc})]})})},u.title))})]})]}),o.jsxs("section",{ref:s,className:"py-20 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-neutral-50"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs(C.div,{initial:{opacity:0,y:20},animate:i?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 mb-4 tracking-tight",children:"Conu pour vos besoins"}),o.jsx("p",{className:"text-xl text-neutral-600",children:"Des templates adapts  votre secteur d'activit"})]}),o.jsx(C.div,{variants:xi,initial:"initial",animate:i?"animate":"initial",className:"grid md:grid-cols-3 gap-8",children:[{icon:ef,title:"Professionnels & Entreprises",desc:"Dirigeants, commerciaux, consultants. Crez une image professionnelle qui inspire confiance avec un profil sobre et efficace.",color:"from-blue-500 to-blue-600",features:["Coordonnes compltes","Logo entreprise","Collecte de leads","Analytics dtaills"]},{icon:nf,title:"tudiants & Jeunes diplms",desc:"Formation, stages, alternance. Dmarquez-vous avec un profil moderne et dynamique qui met en valeur vos comptences.",color:"from-green-500 to-green-600",features:["Portfolio en ligne","Comptences","Recherche stage","CV tlchargeable"]},{icon:sf,title:"Politiciens & lus",desc:"Candidats, lus, responsables politiques. Un profil institutionnel qui inspire confiance et proximit avec vos lecteurs.",color:"from-red-500 to-red-600",features:["Programme dtaill","Mandats","Contact quipe","Actualits"]}].map((u,c)=>o.jsx(C.div,{variants:xt,children:o.jsx(Re,{variant:"glassmorphism",className:"h-full bg-white border-neutral-200 backdrop-blur-xl hover:border-amber-300 transition-colors shadow-premium-sm",children:o.jsxs("div",{className:"p-8",children:[o.jsx(C.div,{className:`w-16 h-16 bg-gradient-to-br ${u.color} rounded-2xl flex items-center justify-center mb-6`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:o.jsx(u.icon,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-3",children:u.title}),o.jsx("p",{className:"text-neutral-600 leading-relaxed mb-6",children:u.desc}),o.jsx("ul",{className:"space-y-2",children:u.features.map(d=>o.jsxs("li",{className:"flex items-center text-neutral-600 text-sm",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-600 mr-2"}),d]},d))})]})})},u.title))}),o.jsx(C.div,{initial:{opacity:0,y:20},animate:i?{opacity:1,y:0}:{},transition:{delay:.6,duration:.6},className:"text-center mt-12",children:o.jsx("p",{className:"text-warmGray-300 text-lg",children:"Et bien plus encore : freelances, artistes, artisans, associations..."})})]})]}),o.jsx("section",{ref:a,className:"bg-neutral-50 py-20 border-y border-neutral-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(C.div,{initial:{opacity:0,y:20},animate:l?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 mb-4 tracking-tight",children:"Dmarrez en 3 tapes"}),o.jsx("p",{className:"text-xl text-neutral-600",children:"Configuration en moins de 2 minutes"})]}),o.jsx(C.div,{variants:xi,initial:"initial",animate:l?"animate":"initial",className:"grid md:grid-cols-3 gap-8",children:[{num:"1",title:"Crez votre profil",desc:"Remplissez vos informations professionnelles. Photo, coordonnes, liens sociaux et bien plus."},{num:"2",title:"Personnalisez votre design",desc:"Choisissez parmi nos templates premium ou crez votre propre style institutionnel."},{num:"3",title:"Partagez avec lgance",desc:"QR code, NFC, lien direct. Suivez vos statistiques et optimisez votre networking."}].map((u,c)=>o.jsxs(C.div,{variants:xt,className:"text-center",children:[o.jsx(C.div,{className:"w-20 h-20 bg-gradient-amber rounded-full flex items-center justify-center text-3xl font-bold text-black mx-auto mb-6 shadow-amber-glow",whileHover:{scale:1.1,rotate:360},transition:{type:"spring",stiffness:200},children:u.num}),o.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-3",children:u.title}),o.jsx("p",{className:"text-neutral-600 leading-relaxed",children:u.desc})]},u.num))}),o.jsxs(C.div,{initial:{opacity:0,y:20},animate:l?{opacity:1,y:0}:{},transition:{delay:.6,duration:.6},className:"text-center mt-16",children:[o.jsx(q,{to:"/signup",children:o.jsxs(U,{size:"lg",variant:"secondary",className:"px-10",children:[o.jsx(wi,{className:"w-5 h-5 mr-2"}),"Commencer maintenant"]})}),o.jsx("p",{className:"text-neutral-500 text-sm mt-4",children:"Aucune carte bancaire requise  Essai gratuit illimit"})]})]})})]}),o.jsx(_4,{})]})}const pe=b.forwardRef(({label:e,error:t,helperText:r,success:n,className:s="",...i},a)=>{const[l,u]=b.useState(!1);return o.jsxs("div",{className:"w-full",children:[e&&o.jsx(C.label,{className:Qi("block text-sm font-medium mb-1 transition-colors",l?"text-amber-600":"text-neutral-700",t&&"text-red-600"),animate:{y:l?-2:0},transition:{duration:.2},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx(C.input,{ref:a,className:Qi("w-full px-4 py-2.5 rounded-lg transition-all duration-200","border-2 focus:outline-none",t?"border-red-500 focus:border-red-600 focus:ring-2 focus:ring-red-500/20 bg-white":n?"border-green-500 focus:border-green-600 focus:ring-2 focus:ring-green-500/20 bg-white":"border-neutral-300 focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 bg-white","text-neutral-900 placeholder:text-neutral-500",s),onFocus:()=>u(!0),onBlur:()=>u(!1),animate:{scale:l?1.01:1},transition:{duration:.2},...i}),o.jsxs(Qc,{children:[t&&o.jsx(C.div,{initial:{opacity:0,scale:.8,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(Ar,{className:"w-5 h-5 text-red-500"})}),n&&!t&&o.jsx(C.div,{initial:{opacity:0,scale:.8,rotate:-10},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:15},className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(B,{className:"w-5 h-5 text-green-500"})})]})]}),o.jsxs(Qc,{mode:"wait",children:[t&&o.jsx(C.p,{initial:{opacity:0,y:-10,x:-5},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-red-600 flex items-center gap-1.5",children:o.jsx(C.span,{animate:{x:[-2,2,-2,2,0]},transition:{duration:.4},children:t})}),r&&!t&&o.jsx(C.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-neutral-600",children:r})]})]})});pe.displayName="Input";function S4(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),{signIn:u}=Zt(),c=xr();async function d(f){f.preventDefault(),i(""),l(!0);const{error:h}=await u(e,r);h?(i(h.message),l(!1)):c("/dashboard")}return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4 relative overflow-hidden",children:[o.jsx(C.div,{className:"absolute inset-0 opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.15) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),o.jsxs(C.div,{variants:GP,initial:"initial",animate:"animate",className:"max-w-md w-full relative z-10",children:[o.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-8",children:[o.jsx(q,{to:"/",className:"inline-block",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-amber bg-clip-text text-transparent mb-2",children:"Obsi"})}),o.jsx("p",{className:"text-neutral-600 text-sm",children:"Solution premium pour professionnels"})]}),o.jsx(Re,{variant:"default",className:"bg-white border-neutral-200 shadow-premium-lg",children:o.jsxs(ze,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(C.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.3},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:o.jsx(s4,{className:"w-8 h-8 text-black"})}),o.jsx(C.h1,{variants:Jw,initial:"initial",animate:"animate",transition:{delay:.4},className:"text-3xl font-bold text-neutral-900",children:"Bon retour"}),o.jsx(C.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-neutral-600 mt-2",children:"Connectez-vous  votre compte"})]}),o.jsxs(C.form,{onSubmit:d,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4",children:[o.jsx(pe,{label:"Email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"vous@exemple.com",required:!0}),o.jsx(pe,{label:"Mot de passe",type:"password",value:r,onChange:f=>n(f.target.value),placeholder:"Entrez votre mot de passe",required:!0}),s&&o.jsx(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg text-sm backdrop-blur-sm",children:s}),o.jsx(U,{type:"submit",fullWidth:!0,loading:a,variant:"secondary",children:"Se connecter"})]}),o.jsxs(C.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center text-neutral-600",children:["Pas encore de compte ?"," ",o.jsx(q,{to:"/signup",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"S'inscrire"})]})]})}),o.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-6 text-center",children:o.jsxs(q,{to:"/",className:"inline-flex items-center gap-2 text-sm text-neutral-600 hover:text-amber-600 transition-colors",children:[o.jsx(_s,{className:"w-4 h-4"}),o.jsx("span",{children:"Dcouvrir Obsi"})]})})]})]})}function E4(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[u,c]=b.useState(!1),{signUp:d}=Zt(),f=xr();async function h(m){if(m.preventDefault(),l(""),r!==s){l("Les mots de passe ne correspondent pas");return}if(r.length<6){l("Le mot de passe doit contenir au moins 6 caractres");return}c(!0);const{error:p}=await d(e,r);p?(l(p.message),c(!1)):f("/onboarding")}return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white border border-neutral-200 rounded-2xl shadow-premium-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:o.jsx(y4,{className:"w-8 h-8 text-black"})}),o.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Crer un compte"}),o.jsx("p",{className:"text-neutral-600 mt-2",children:"Commencez votre parcours profil professionnel numrique"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsx(pe,{label:"Email",type:"email",value:e,onChange:m=>t(m.target.value),placeholder:"vous@exemple.com",required:!0}),o.jsx(pe,{label:"Mot de passe",type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Au moins 6 caractres",required:!0}),o.jsx(pe,{label:"Confirmer le mot de passe",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"Confirmez votre mot de passe",required:!0}),a&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),o.jsx(U,{type:"submit",fullWidth:!0,loading:u,children:"Crer mon compte"})]}),o.jsxs("p",{className:"mt-6 text-center text-neutral-600",children:["Dj un compte ?"," ",o.jsx(q,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"Se connecter"})]})]})})}function ha(){const{user:e}=Zt(),[t,r]=b.useState(null),[n,s]=b.useState(!0),[i,a]=b.useState(null);return b.useEffect(()=>{if(!e){r(null),s(!1);return}async function c(){try{const{data:d,error:f}=await Z.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(f)throw f;r(d)}catch(d){a(d instanceof Error?d.message:"Failed to fetch profile")}finally{s(!1)}}c()},[e]),{profile:t,loading:n,error:i,updateProfile:async c=>{if(!e||!t)return{error:"No user or profile found"};try{const{error:d}=await Z.from("profiles").update(c).eq("id",t.id);if(d)throw d;return r({...t,...c}),{error:null}}catch(d){return{error:d instanceof Error?d.message:"Failed to update profile"}}},createProfile:async c=>{if(!e)return{error:"No user found"};try{const{data:d,error:f}=await Z.from("profiles").insert({user_id:e.id,username:c.username,full_name:c.full_name,title:c.title||"",email:c.email||"",phone:c.phone||"",bio:"",website:"",profile_photo_url:"",video_url:"",pdf_url:"",social_links:{},design_template:"modern",qr_customization:{},lead_collection_enabled:!1,lead_form_fields:{name:!0,email:!0,phone:!1,message:!1},is_active:!0,view_count:0,sector:c.sector||"personnalise",custom_fields:c.custom_fields||[]}).select().single();if(f)throw f;return r(d),await Z.from("subscriptions").insert({user_id:e.id,tier:"free",status:"active"}),{error:null,profile:d}}catch(d){return{error:d instanceof Error?d.message:"Failed to create profile",profile:null}}}}}const C4={landmark:sf,"building-2":ef,"graduation-cap":nf,user:v4,palette:o4,settings:r1};function T4({onSelect:e,selectedTemplate:t}){const[r,n]=b.useState([]),[s,i]=b.useState(!0);return b.useEffect(()=>{async function a(){try{const{data:l,error:u}=await Z.from("profile_templates").select("*").eq("is_active",!0).order("created_at",{ascending:!0});if(u)throw u;n(l||[])}catch(l){console.error("Error fetching templates:",l)}finally{i(!1)}}a()},[]),s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-2",children:"Choisissez votre secteur"}),o.jsx("p",{className:"text-warmGray-600",children:"Slectionnez le template qui correspond le mieux  votre activit"})]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(a=>{const l=C4[a.icon]||r1,u=(t==null?void 0:t.id)===a.id,c=a.name==="politique";return o.jsxs("button",{onClick:()=>e(a),className:`relative p-6 rounded-xl border-2 transition-all text-left ${u?"border-gold-600 bg-gold-50":"border-warmGray-200 hover:border-gold-300 bg-white hover:bg-warmGray-50"}`,children:[c&&o.jsx("div",{className:"absolute -top-3 left-4 px-3 py-1 bg-gradient-gold text-navy-900 text-xs font-semibold rounded-full",children:"Recommand"}),u&&o.jsx("div",{className:"absolute -top-3 right-4 w-8 h-8 bg-gold-600 rounded-full flex items-center justify-center",children:o.jsx(Xw,{className:"w-5 h-5 text-navy-900"})}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-lg ${u?"bg-gold-100":"bg-warmGray-100"}`,children:o.jsx(l,{className:`w-6 h-6 ${u?"text-gold-600":"text-warmGray-600"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-navy-900 mb-1",children:a.label}),o.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:a.description}),a.default_fields&&a.default_fields.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-warmGray-500",children:"Champs inclus :"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.default_fields.slice(0,3).map(d=>o.jsx("span",{className:"inline-block px-2 py-0.5 bg-warmGray-100 text-warmGray-700 rounded text-xs",children:d.label},d.id)),a.default_fields.length>3&&o.jsxs("span",{className:"inline-block px-2 py-0.5 text-warmGray-500 text-xs",children:["+",a.default_fields.length-3," autres"]})]})]})]})]})]},a.id)})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-900",children:[o.jsx("span",{className:"font-semibold",children:"Plan gratuit :"})," 3 champs personnaliss supplmentaires inclus"]})})]})}function P4({isOpen:e,onClose:t,profileUrl:r}){const[n,s]=b.useState(0);if(!e)return null;const i=[{title:"Votre carte est prte !",icon:_s,content:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-warmGray-700 leading-relaxed",children:"Flicitations ! Votre profil professionnel numrique est maintenant en ligne et accessible  tous."}),o.jsx("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm font-mono text-navy-800 break-all",children:r})}),o.jsx("p",{className:"text-warmGray-600 text-sm",children:"Vous pouvez partager ce lien par email, SMS, ou via les rseaux sociaux."})]})},{title:"Activez la magie du NFC",icon:yr,content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-warmGray-700 leading-relaxed",children:"Voulez-vous aller plus loin ? Avec un simple tag NFC  1, transformez votre profil professionnel en exprience interactive."}),o.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"Les avantages du NFC :"}),o.jsxs("ul",{className:"space-y-2 text-sm text-orange-800",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Partage instantan"})," - Un simple contact suffit"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Effet wow garanti"})," - Impressionnez vos contacts"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Plus de conversions"})," - 70% utilisent le contact immdiatement"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Professionnel"})," - Montrez que vous tes  la pointe"]})]})]})]}),o.jsx("p",{className:"text-warmGray-600 text-sm",children:"Configuration en 5 minutes seulement, guide complet fourni."})]})},{title:"Prt  commencer ?",icon:B,content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-warmGray-700 leading-relaxed",children:"Vous avez deux options pour la suite :"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-navy-800 mb-2",children:"Option 1 : Commencer avec le NFC"}),o.jsx("p",{className:"text-sm text-navy-700 mb-3",children:"Suivez notre guide complet pour acheter et programmer vos tags NFC."}),o.jsx(q,{to:"/nfc-setup",onClick:t,children:o.jsxs(U,{size:"sm",fullWidth:!0,children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Voir le guide NFC"]})})]}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-2",children:"Option 2 : Je configure plus tard"}),o.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:"Vous pouvez configurer le NFC  tout moment depuis votre tableau de bord."}),o.jsx(U,{size:"sm",fullWidth:!0,variant:"outline",onClick:t,children:"Passer cette tape"})]})]}),o.jsx("p",{className:"text-xs text-center text-warmGray-500",children:"Le guide NFC reste accessible dans votre tableau de bord"})]})}],a=i[n],l=a.icon,u=n===i.length-1,c=n===0;return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-warmGray-200 p-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:o.jsx(l,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900",children:a.title}),o.jsxs("p",{className:"text-sm text-warmGray-500",children:["tape ",n+1," sur ",i.length]})]})]}),o.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-warmGray-100 transition-colors",children:o.jsx(Yi,{className:"w-6 h-6 text-warmGray-500"})})]}),o.jsx("div",{className:"p-6",children:a.content}),o.jsx("div",{className:"sticky bottom-0 bg-warmGray-50 border-t border-warmGray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"flex gap-2",children:i.map((d,f)=>o.jsx("div",{className:`h-2 rounded-full transition-all ${f===n?"w-8 bg-blue-600":f<n?"w-2 bg-blue-400":"w-2 bg-warmGray-300"}`},f))}),o.jsxs("div",{className:"flex gap-3",children:[!c&&o.jsx(U,{variant:"outline",onClick:()=>s(n-1),children:"Prcdent"}),!u&&o.jsxs(U,{onClick:()=>s(n+1),children:["Suivant",o.jsx(ad,{className:"w-4 h-4 ml-2"})]})]})]})})]})})}function R4(){const[e,t]=b.useState("template"),[r,n]=b.useState(null),[s,i]=b.useState(""),[a,l]=b.useState(""),[u,c]=b.useState(""),[d,f]=b.useState(""),[h,m]=b.useState(""),[p,x]=b.useState(""),[w,y]=b.useState(!1),[v,g]=b.useState(!1),[j,_]=b.useState(""),{createProfile:N}=ha(),k=xr();async function S(R){R.preventDefault(),x(""),y(!0);const I=s.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");if(I.length<3){x("Le nom d'utilisateur doit contenir au moins 3 caractres"),y(!1);return}const{error:Q}=await N({username:I,full_name:a,title:u,email:h,phone:d,sector:(r==null?void 0:r.name)||"personnalise",custom_fields:(r==null?void 0:r.default_fields)||[]});Q?(Q.includes("unique")?x("Nom d'utilisateur dj pris. Veuillez en choisir un autre."):x(Q),y(!1)):(_(I),g(!0))}const E=()=>{g(!1),k("/dashboard")};return e==="template"?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:o.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(_s,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Crez votre carte numrique"}),o.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 1 sur 2"})]}),o.jsx(T4,{onSelect:n,selectedTemplate:r}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(U,{onClick:()=>t("details"),disabled:!r,size:"lg",children:"Continuer"})})]})}):o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:[o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:()=>t("template"),className:"flex items-center gap-2 text-warmGray-600 hover:text-warmGray-900 transition-colors",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Retour"]})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(_s,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Vos informations"}),o.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 2 sur 2 - Cela prend moins de 60 secondes"})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(pe,{label:"Nom complet",value:a,onChange:R=>l(R.target.value),placeholder:"Jean Dupont",required:!0}),o.jsx(pe,{label:"Nom d'utilisateur",value:s,onChange:R=>i(R.target.value),placeholder:"jeandupont",helperText:"Votre URL unique : app.com/votre-nom",required:!0})]}),o.jsx(pe,{label:"Titre / Profession",value:u,onChange:R=>c(R.target.value),placeholder:"ex: Responsable Marketing, Designer Freelance"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(pe,{label:"Tlphone",type:"tel",value:d,onChange:R=>f(R.target.value),placeholder:"+33 6 12 34 56 78"}),o.jsx(pe,{label:"Email",type:"email",value:h,onChange:R=>m(R.target.value),placeholder:"jean@exemple.com"})]}),p&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:p}),o.jsx(U,{type:"submit",fullWidth:!0,size:"lg",loading:w,children:"Crer ma carte"}),o.jsx("p",{className:"text-center text-sm text-warmGray-500",children:"Vous pourrez ajouter plus de dtails et personnaliser votre carte plus tard"})]})]}),o.jsx(P4,{isOpen:v,onClose:E,profileUrl:`${window.location.origin}/${j}`})]})}function n1(e){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0),[l,u]=b.useState(null);return b.useEffect(()=>{if(!e){a(!1);return}async function c(){try{a(!0),u(null);const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(f.getTime()-7*24*60*60*1e3),p=new Date(f.getFullYear(),f.getMonth(),1),{data:x,error:w}=await Z.from("profile_analytics").select("*").eq("profile_id",e).order("created_at",{ascending:!1});if(w)throw w;const y=x||[],v=y.filter(E=>E.event_type==="view").length,g=y.filter(E=>E.event_type==="vcard_download").length,j=y.filter(E=>E.event_type==="link_click").length,_=v>0?g/v*100:0,N={mobile:y.filter(E=>E.device_type==="mobile").length,desktop:y.filter(E=>E.device_type==="desktop").length,tablet:y.filter(E=>E.device_type==="tablet").length},k=y.slice(0,20);r({totalViews:v,totalDownloads:g,totalLinkClicks:j,conversionRate:_,deviceBreakdown:N,recentEvents:k});const S=E=>{const R=y.filter(I=>new Date(I.created_at)>=E);return{views:R.filter(I=>I.event_type==="view").length,downloads:R.filter(I=>I.event_type==="vcard_download").length,clicks:R.filter(I=>I.event_type==="link_click").length}};s({today:S(h),thisWeek:S(m),thisMonth:S(p),total:{views:v,downloads:g,clicks:j}})}catch(f){console.error("Error fetching analytics:",f),u(f.message||"Erreur lors du chargement des statistiques")}finally{a(!1)}}c();const d=setInterval(c,5*60*1e3);return()=>clearInterval(d)},[e]),{analytics:t,periods:n,loading:i,error:l}}function zt({to:e,label:t,description:r,icon:n,external:s=!1,variant:i="default"}){return i==="card"?o.jsx(C.div,{whileHover:{scale:1.02,y:-2},className:"bg-white border border-amber-200 rounded-lg p-4 hover:border-amber-400 transition-colors shadow-premium-sm",children:o.jsxs(q,{to:e,className:"flex items-start gap-3",children:[n&&o.jsx("div",{className:"text-amber-600 mt-1",children:n}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"text-neutral-900 font-semibold mb-1 flex items-center gap-2",children:[t,s?o.jsx(Xo,{className:"w-4 h-4"}):o.jsx(ad,{className:"w-4 h-4"})]}),r&&o.jsx("p",{className:"text-neutral-600 text-sm",children:r})]})]})}):o.jsxs(q,{to:e,className:"inline-flex items-center gap-2 text-amber-600 hover:text-amber-700 transition-colors text-sm font-medium",children:[n,t,s?o.jsx(Xo,{className:"w-4 h-4"}):o.jsx(ad,{className:"w-4 h-4"})]})}function A4({profileUrl:e,onComplete:t}){const[r,n]=b.useState(1),[s,i]=b.useState(new Set),a=d=>{n(r===d?null:d)},l=d=>{const f=new Set(s);f.add(d),i(f),f.size===4&&t&&t()},u=[{id:1,title:"Choisir les bons tags NFC",icon:yr,content:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-warmGray-300",children:["Pour les cartes de visite numriques, nous recommandons les tags ",o.jsx("strong",{children:"NTAG213"})," avec 144 octets de mmoire."]}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-navy-800 mb-2",children:"Formats recommands :"}),o.jsxs("ul",{className:"space-y-2 text-sm text-navy-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Stickers NFC"})," -  coller au dos de votre profil professionnel (25-30mm de diamtre)"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Cartes PVC avec NFC intgr"})," - Format carte de crdit avec puce NFC incluse"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Tags poxy"})," - Plus durables, rsistants  l'eau"]})]})]})]}),o.jsxs("div",{className:"bg-navy-700/20 rounded-lg p-4",children:[o.jsxs("p",{className:"text-sm text-warmGray-300 mb-2",children:[o.jsx("strong",{children:"O acheter :"})," Amazon, AliExpress, ou sites spcialiss comme NFCTagify, TagsNFC"]}),o.jsx("p",{className:"text-sm text-warmGray-400",children:"Prix moyen : 0,50 - 2 par tag selon la quantit"})]})]})},{id:2,title:"Tlcharger une application NFC",icon:Xt,content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-warmGray-300",children:"Pour programmer vos tags NFC, vous aurez besoin d'une application gratuite sur votre smartphone."}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-semibold text-navy-800 mb-2 flex items-center gap-2",children:[o.jsx(Xt,{className:"w-5 h-5"}),"Android"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-navy-700",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"NFC Tools"})," (recommand)"]})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:o.jsx("strong",{children:"NXP TagWriter"})})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:o.jsx("strong",{children:"Trigger"})})]})]})]}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-semibold text-navy-800 mb-2 flex items-center gap-2",children:[o.jsx(Xt,{className:"w-5 h-5"}),"iOS"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-navy-700",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"NFC Tools"})," (recommand)"]})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:o.jsx("strong",{children:"NFC TagWriter by NXP"})})]})]}),o.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"iPhone 7 ou plus rcent requis (iOS 11+)"})]})]})]})},{id:3,title:"Programmer votre tag NFC",icon:Sn,content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-warmGray-300",children:"Suivez ces tapes simples pour programmer votre tag NFC avec votre URL personnelle."}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-navy-800 mb-2",children:"Votre URL  programmer :"}),o.jsx("div",{className:"bg-white rounded-lg p-3 font-mono text-sm text-gold-600 break-all",children:e}),o.jsx(U,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>{navigator.clipboard.writeText(e),alert("URL copie dans le presse-papier !")},children:"Copier l'URL"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold text-navy-800",children:"Instructions pas  pas :"}),o.jsxs("ol",{className:"space-y-3 text-sm text-warmGray-300",children:[o.jsxs("li",{className:"flex gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),o.jsx("span",{children:"Ouvrez l'application NFC Tools sur votre smartphone"})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),o.jsx("span",{children:'Slectionnez "crire" ou "Write"'})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),o.jsx("span",{children:'Choisissez "Ajouter un enregistrement" puis "URL/URI"'})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"4"}),o.jsxs("span",{children:["Collez votre URL (assurez-vous qu'elle commence par ",o.jsx("code",{className:"bg-navy-700/30 px-1 rounded",children:"https://"}),")"]})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"5"}),o.jsx("span",{children:'Appuyez sur "crire" et placez votre tag NFC contre le dos de votre tlphone'})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"6"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Maintenez le tag immobile pendant 2-5 secondes"})," jusqu' confirmation"]})]})]})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Astuce :"}),' Pour viter les modifications accidentelles, vous pouvez "verrouiller" votre tag aprs programmation. Attention : cette action est irrversible !']})})]})},{id:4,title:"Tester et utiliser votre tag",icon:B,content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-warmGray-300",children:"Dernire tape : vrifiez que tout fonctionne parfaitement !"}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-navy-800 mb-2",children:"Comment tester :"}),o.jsxs("ol",{className:"space-y-2 text-sm text-navy-700",children:[o.jsxs("li",{className:"flex gap-2",children:[o.jsx("span",{className:"font-bold",children:"1."}),o.jsx("span",{children:"Activez le NFC sur votre smartphone (gnralement activ par dfaut)"})]}),o.jsxs("li",{className:"flex gap-2",children:[o.jsx("span",{className:"font-bold",children:"2."}),o.jsx("span",{children:"Placez votre tag NFC contre le dos de votre tlphone"})]}),o.jsxs("li",{className:"flex gap-2",children:[o.jsx("span",{className:"font-bold",children:"3."}),o.jsx("span",{children:"Une notification devrait apparatre immdiatement"})]}),o.jsxs("li",{className:"flex gap-2",children:[o.jsx("span",{className:"font-bold",children:"4."}),o.jsx("span",{children:"Appuyez sur la notification pour ouvrir votre profil"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold text-navy-800",children:"Bonnes pratiques :"}),o.jsxs("ul",{className:"space-y-2 text-sm text-warmGray-300",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 text-green-600 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Emplacement optimal :"})," Au dos de votre profil professionnel, centr"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 text-green-600 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Protection :"})," vitez de plier ou de placer prs d'aimants puissants"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 text-green-600 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Indication visuelle :"})," Ajoutez un petit logo NFC sur votre carte pour indiquer la prsence de la puce"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 text-green-600 flex-shrink-0"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Multiple tags :"})," Programmez plusieurs tags pour diffrentes occasions"]})]})]})]}),o.jsxs("a",{href:"/test-nfc",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-gold-600 hover:text-blue-700 font-medium text-sm",children:[o.jsx(Xo,{className:"w-4 h-4"}),"Tester l'affichage de votre profil"]})]})}],c=s.size===u.length;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-navy-800",children:"Guide de configuration NFC"}),c&&o.jsxs("span",{className:"flex items-center gap-2 text-green-600 text-sm font-medium",children:[o.jsx(B,{className:"w-5 h-5"}),"Configuration termine !"]})]}),o.jsx("div",{className:"space-y-3",children:u.map(d=>{const f=r===d.id,h=s.has(d.id),m=d.icon;return o.jsxs("div",{className:`border rounded-lg transition-all ${h||f?"border-warmGray-300 bg-warmGray-50":"border-warmGray-200 bg-white"}`,children:[o.jsxs("button",{onClick:()=>a(d.id),className:"w-full flex items-center justify-between p-4 text-left",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h?"bg-green-600":f?"bg-blue-600":"bg-navy-700/40"}`,children:h?o.jsx(B,{className:"w-5 h-5 text-white"}):o.jsx(m,{className:`w-5 h-5 ${f?"text-white":"text-warmGray-400"}`})}),o.jsx("div",{children:o.jsxs("h4",{className:"font-semibold text-navy-800",children:["tape ",d.id," : ",d.title]})})]}),f?o.jsx(Zw,{className:"w-5 h-5 text-warmGray-500"}):o.jsx(tf,{className:"w-5 h-5 text-warmGray-500"})]}),f&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"pt-4 border-t border-warmGray-200",children:[d.content,!h&&o.jsx(U,{size:"sm",className:"mt-4",onClick:()=>l(d.id),children:"Marquer comme termin"})]})})]},d.id)})}),o.jsx("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4 mt-6",children:o.jsxs("p",{className:"text-sm text-navy-800",children:[o.jsx("strong",{children:"Besoin d'aide ?"})," Consultez notre"," ",o.jsx("a",{href:"/nfc-setup",className:"text-gold-600 hover:underline font-medium",children:"guide complet NFC"})," ","pour plus de dtails et des tutoriels vido."]})})]})}var Cl={},s1={exports:{}},O4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",L4=O4,I4=L4;function i1(){}function a1(){}a1.resetWarningCache=i1;var D4=function(){function e(n,s,i,a,l,u){if(u!==I4){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a1,resetWarningCache:i1};return r.PropTypes=r,r};s1.exports=D4();var o1=s1.exports,l1={L:1,M:0,Q:3,H:2},u1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},M4=u1;function c1(e){this.mode=M4.MODE_8BIT_BYTE,this.data=e}c1.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var F4=c1,Ha=l1;function qt(e,t){this.totalCount=e,this.dataCount=t}qt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];qt.getRSBlocks=function(e,t){var r=qt.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=new Array,i=0;i<n;i++)for(var a=r[i*3+0],l=r[i*3+1],u=r[i*3+2],c=0;c<a;c++)s.push(new qt(l,u));return s};qt.getRsBlockTable=function(e,t){switch(t){case Ha.L:return qt.RS_BLOCK_TABLE[(e-1)*4+0];case Ha.M:return qt.RS_BLOCK_TABLE[(e-1)*4+1];case Ha.Q:return qt.RS_BLOCK_TABLE[(e-1)*4+2];case Ha.H:return qt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var $4=qt;function d1(){this.buffer=new Array,this.length=0}d1.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var z4=d1,Dt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Dt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Dt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ae=0;Ae<8;Ae++)Dt.EXP_TABLE[Ae]=1<<Ae;for(var Ae=8;Ae<256;Ae++)Dt.EXP_TABLE[Ae]=Dt.EXP_TABLE[Ae-4]^Dt.EXP_TABLE[Ae-5]^Dt.EXP_TABLE[Ae-6]^Dt.EXP_TABLE[Ae-8];for(var Ae=0;Ae<255;Ae++)Dt.LOG_TABLE[Dt.EXP_TABLE[Ae]]=Ae;var h1=Dt,tn=h1;function mo(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}mo.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=tn.gexp(tn.glog(this.get(r))+tn.glog(e.get(n)));return new mo(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=tn.glog(this.get(0))-tn.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=tn.gexp(tn.glog(e.get(n))+t);return new mo(r,0).mod(e)}};var f1=mo,mt=u1,b0=f1,V4=h1,jr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ee={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G15)>=0;)t^=Ee.G15<<Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G15);return(e<<10|t)^Ee.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G18)>=0;)t^=Ee.G18<<Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ee.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case jr.PATTERN000:return(t+r)%2==0;case jr.PATTERN001:return t%2==0;case jr.PATTERN010:return r%3==0;case jr.PATTERN011:return(t+r)%3==0;case jr.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case jr.PATTERN101:return t*r%2+t*r%3==0;case jr.PATTERN110:return(t*r%2+t*r%3)%2==0;case jr.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new b0([1],0),r=0;r<e;r++)t=t.multiply(new b0([1,V4.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case mt.MODE_NUMBER:return 10;case mt.MODE_ALPHA_NUM:return 9;case mt.MODE_8BIT_BYTE:return 8;case mt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case mt.MODE_NUMBER:return 12;case mt.MODE_ALPHA_NUM:return 11;case mt.MODE_8BIT_BYTE:return 16;case mt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case mt.MODE_NUMBER:return 14;case mt.MODE_ALPHA_NUM:return 13;case mt.MODE_8BIT_BYTE:return 16;case mt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,a=e.isDark(n,s),l=-1;l<=1;l++)if(!(n+l<0||t<=n+l))for(var u=-1;u<=1;u++)s+u<0||t<=s+u||l==0&&u==0||a==e.isDark(n+l,s+u)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var c=0;e.isDark(n,s)&&c++,e.isDark(n+1,s)&&c++,e.isDark(n,s+1)&&c++,e.isDark(n+1,s+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var d=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&d++;var f=Math.abs(100*d/t/t-50)/5;return r+=f*10,r}},B4=Ee,U4=F4,m1=$4,p1=z4,Yr=B4,G4=f1;function Kt(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var dt=Kt.prototype;dt.addData=function(e){var t=new U4(e);this.dataList.push(t),this.dataCache=null};dt.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};dt.getModuleCount=function(){return this.moduleCount};dt.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=m1.getRSBlocks(e,this.errorCorrectLevel),r=new p1,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var i=this.dataList[s];r.put(i.mode,4),r.put(i.getLength(),Yr.getLengthInBits(i.mode,e)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};dt.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Kt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};dt.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};dt.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Yr.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};dt.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*s,l=0;l<this.modules[i].length;l++){var u=l*s,c=this.modules[i][l];c&&(n.beginFill(0,100),n.moveTo(u,a),n.lineTo(u+s,a),n.lineTo(u+s,a+s),n.lineTo(u,a+s),n.endFill())}return n};dt.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};dt.setupPositionAdjustPattern=function(){for(var e=Yr.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)i==-2||i==2||a==-2||a==2||i==0&&a==0?this.modules[n+i][s+a]=!0:this.modules[n+i][s+a]=!1}};dt.setupTypeNumber=function(e){for(var t=Yr.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};dt.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Yr.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e};dt.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var l=0;l<2;l++)if(this.modules[n][a-l]==null){var u=!1;i<e.length&&(u=(e[i]>>>s&1)==1);var c=Yr.getMask(t,n,a-l);c&&(u=!u),this.modules[n][a-l]=u,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};Kt.PAD0=236;Kt.PAD1=17;Kt.createData=function(e,t,r){for(var n=m1.getRSBlocks(e,t),s=new p1,i=0;i<r.length;i++){var a=r[i];s.put(a.mode,4),s.put(a.getLength(),Yr.getLengthInBits(a.mode,e)),a.write(s)}for(var l=0,i=0;i<n.length;i++)l+=n[i].dataCount;if(s.getLengthInBits()>l*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+l*8+")");for(s.getLengthInBits()+4<=l*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=l*8||(s.put(Kt.PAD0,8),s.getLengthInBits()>=l*8));)s.put(Kt.PAD1,8);return Kt.createBytes(s,n)};Kt.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),a=new Array(t.length),l=0;l<t.length;l++){var u=t[l].dataCount,c=t[l].totalCount-u;n=Math.max(n,u),s=Math.max(s,c),i[l]=new Array(u);for(var d=0;d<i[l].length;d++)i[l][d]=255&e.buffer[d+r];r+=u;var f=Yr.getErrorCorrectPolynomial(c),h=new G4(i[l],f.getLength()-1),m=h.mod(f);a[l]=new Array(f.getLength()-1);for(var d=0;d<a[l].length;d++){var p=d+m.getLength()-a[l].length;a[l][d]=p>=0?m.get(p):0}}for(var x=0,d=0;d<t.length;d++)x+=t[d].totalCount;for(var w=new Array(x),y=0,d=0;d<n;d++)for(var l=0;l<t.length;l++)d<i[l].length&&(w[y++]=i[l][d]);for(var d=0;d<s;d++)for(var l=0;l<t.length;l++)d<a[l].length&&(w[y++]=a[l][d]);return w};var W4=Kt,of={};Object.defineProperty(of,"__esModule",{value:!0});var H4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q4=o1,pt=y1(q4),g1=b,qa=y1(g1);function y1(e){return e&&e.__esModule?e:{default:e}}function K4(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var J4={bgColor:pt.default.oneOfType([pt.default.object,pt.default.string]).isRequired,bgD:pt.default.string.isRequired,fgColor:pt.default.oneOfType([pt.default.object,pt.default.string]).isRequired,fgD:pt.default.string.isRequired,size:pt.default.number.isRequired,title:pt.default.string,viewBoxSize:pt.default.number.isRequired,xmlns:pt.default.string},lf=(0,g1.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,s=e.fgD,i=e.fgColor,a=e.size,l=e.title,u=e.viewBoxSize,c=e.xmlns,d=c===void 0?"http://www.w3.org/2000/svg":c,f=K4(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return qa.default.createElement("svg",H4({},f,{height:a,ref:t,viewBox:"0 0 "+u+" "+u,width:a,xmlns:d}),l?qa.default.createElement("title",null,l):null,qa.default.createElement("path",{d:n,fill:r}),qa.default.createElement("path",{d:s,fill:i}))});lf.displayName="QRCodeSvg";lf.propTypes=J4;of.default=lf;Object.defineProperty(Cl,"__esModule",{value:!0});Cl.QRCode=void 0;var Q4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y4=o1,tr=fa(Y4),X4=l1,Z4=fa(X4),eR=W4,tR=fa(eR),v1=b,rR=fa(v1),nR=of,sR=fa(nR);function fa(e){return e&&e.__esModule?e:{default:e}}function iR(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var aR={bgColor:tr.default.oneOfType([tr.default.object,tr.default.string]),fgColor:tr.default.oneOfType([tr.default.object,tr.default.string]),level:tr.default.string,size:tr.default.number,value:tr.default.string.isRequired},Tl=(0,v1.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,s=e.fgColor,i=s===void 0?"#000000":s,a=e.level,l=a===void 0?"L":a,u=e.size,c=u===void 0?256:u,d=e.value,f=iR(e,["bgColor","fgColor","level","size","value"]),h=new tR.default(-1,Z4.default[l]);h.addData(d),h.make();var m=h.modules;return rR.default.createElement(sR.default,Q4({},f,{bgColor:n,bgD:m.map(function(p,x){return p.map(function(w,y){return w?"":"M "+y+" "+x+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:m.map(function(p,x){return p.map(function(w,y){return w?"M "+y+" "+x+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:c,viewBoxSize:m.length}))});Cl.QRCode=Tl;Tl.displayName="QRCode";Tl.propTypes=aR;var x1=Cl.default=Tl;function w1({profile:e,className:t=""}){const[r,n]=b.useState(!1),s=`${window.location.origin}/${e.username}`;return o.jsx("div",{className:t,style:{perspective:"1000px"},children:o.jsxs(C.div,{className:"relative w-full cursor-pointer",style:{transformStyle:"preserve-3d"},onClick:()=>n(!r),animate:{rotateY:r?180:0},transition:{duration:.6,type:"spring",stiffness:100},children:[o.jsx(C.div,{className:"relative w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(96, 165, 250, 0.1) 10px, rgba(96, 165, 250, 0.1) 11px)"}}),o.jsxs("div",{className:"relative h-full flex flex-col justify-between p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(C.div,{className:"inline-block bg-blue-400 rounded-lg px-3 py-1.5",whileHover:{scale:1.05},children:o.jsx("span",{className:"text-xs sm:text-sm font-bold text-blue-900",children:"PREMIUM"})}),o.jsx(C.div,{className:"bg-blue-400 p-2 rounded-lg",animate:{boxShadow:["0 0 0 0 rgba(96, 165, 250, 0.4)","0 0 0 10px rgba(96, 165, 250, 0)","0 0 0 0 rgba(96, 165, 250, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:o.jsx(yr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-900"})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 gap-2 sm:gap-3",children:[o.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-white text-center tracking-tight",children:e.full_name||"Votre Nom"}),o.jsx(C.div,{className:"bg-white p-2 sm:p-3 rounded-xl flex-shrink-0 shadow-2xl",children:o.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-28 lg:h-28",children:o.jsx(x1,{value:s,size:112,level:"H",fgColor:"#1e3a8a",style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),o.jsx(C.p,{className:"text-blue-200 text-xs sm:text-sm font-medium text-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Scannez le code QR pour accder au profil"})]})]})]})}),o.jsx(C.div,{className:"absolute inset-0 w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden",rotateY:180},children:o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden border border-blue-500/20",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 20px, rgba(96, 165, 250, 0.1) 20px, rgba(96, 165, 250, 0.1) 21px)"}}),o.jsx("div",{className:"relative h-full flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[o.jsx("div",{className:"w-28 h-28 sm:w-36 sm:h-36 mx-auto bg-blue-400 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/50",children:o.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-blue-900",children:"LOGO"})}),o.jsx("p",{className:"text-white text-sm sm:text-base font-semibold",children:"Votre Service Premium"}),o.jsx("p",{className:"text-blue-200 text-xs sm:text-sm",children:s})]})})]})}),o.jsx(C.div,{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-900/90 backdrop-blur-sm px-4 py-2 rounded-full whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5},children:o.jsxs("p",{className:"text-blue-200 text-xs font-medium",children:[r?"Verso":"Recto","  Cliquez pour retourner"]})})]})})}function ds({value:e,duration:t=1,className:r=""}){const n=b.useRef(null),s=Ji(0),i=Jo(s,l=>Math.round(l)),a=FP(n,{once:!0,margin:"-100px"});return b.useEffect(()=>{if(a)return IP(s,e,{duration:t,ease:"easeOut"}).stop},[a,s,e,t]),o.jsx(C.span,{ref:n,className:r,children:i})}function oR(){const{profile:e,loading:t}=ha(),{analytics:r}=n1(e==null?void 0:e.id),{signOut:n}=Zt(),s=xr(),[i,a]=b.useState(!1);if(b.useEffect(()=>{!t&&!e&&s("/onboarding")},[e,t,s]),t)return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:o.jsx(C.div,{className:"h-12 w-12 border-4 border-amber-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(!e)return null;const l=`${window.location.origin}/${e.username}`,u=(d="standard")=>{const f=document.getElementById("qr-code");if(!f)return;const h=new XMLSerializer().serializeToString(f),m=document.createElement("canvas"),p=m.getContext("2d"),x=new Image,w=d==="high"?1e3:400;x.onload=()=>{if(m.width=w,m.height=w,p){p.fillStyle="white",p.fillRect(0,0,w,w);const j=w/200;p.scale(j,j),p.drawImage(x,0,0)}const y=m.toDataURL("image/png"),v=document.createElement("a"),g=d==="high"?"-high-res":"";v.download=`${e.username}-qr-code${g}.png`,v.href=y,v.click()},x.src="data:image/svg+xml;base64,"+btoa(h)},c=async()=>{if(navigator.share)try{await navigator.share({title:`Carte de ${e.full_name}`,text:"Dcouvrez ma profil professionnel numrique",url:l})}catch(d){console.error("Error sharing:",d)}else navigator.clipboard.writeText(l),alert("Lien copi dans le presse-papier !")};return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx(C.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-premium-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-amber bg-clip-text text-transparent",children:"Ma carte numrique"}),o.jsxs(U,{variant:"outline",size:"sm",onClick:()=>n(),children:[o.jsx(i4,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 p-6 bg-gradient-to-r from-amber-50 to-transparent border border-amber-200 rounded-xl",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(_s,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-neutral-900 font-semibold mb-2",children:"Dcouvrez toutes les fonctionnalits"}),o.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:"Optimisez votre prsence professionnelle avec nos outils avancs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsx(zt,{to:"/nfc-setup",label:"Configuration NFC",description:"Programmer vos tags physiques",icon:o.jsx(yr,{className:"w-4 h-4"}),variant:"card"}),o.jsx(zt,{to:"/analytics",label:"Analytics dtaills",description:"Comprendre votre audience",icon:o.jsx(Qo,{className:"w-4 h-4"}),variant:"card"}),o.jsx(zt,{to:"/edit",label:"Personnalisation",description:"Affiner votre profil",icon:o.jsx(od,{className:"w-4 h-4"}),variant:"card"})]})]})]})}),o.jsxs(C.div,{variants:xi,initial:"initial",animate:"animate",className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(C.div,{variants:xt,children:o.jsx(Re,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ze,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Aperu de votre carte"}),o.jsx(q,{to:"/edit",children:o.jsxs(U,{variant:"outline",children:[o.jsx(od,{className:"w-4 h-4 mr-2"}),"Modifier"]})})]}),o.jsx(w1,{profile:e,className:"mb-6"}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 flex gap-3",children:[o.jsx(q,{to:`/${e.username}`,className:"flex-1",children:o.jsxs(U,{variant:"outline",fullWidth:!0,children:[o.jsx(js,{className:"w-4 h-4 mr-2"}),"Aperu"]})}),o.jsxs(U,{variant:"outline",onClick:c,fullWidth:!0,children:[o.jsx(El,{className:"w-4 h-4 mr-2"}),"Partager"]})]})]})})}),o.jsx(C.div,{variants:xt,children:o.jsx(Re,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ze,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Statistiques en temps rel"}),o.jsx(q,{to:"/analytics",children:o.jsxs(U,{variant:"outline",size:"sm",children:[o.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Voir dtails"]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs(C.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(wi,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(ds,{value:(r==null?void 0:r.totalViews)||e.view_count||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Vues totales"})]}),o.jsxs(C.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(x4,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(ds,{value:(r==null?void 0:r.totalDownloads)||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Tlchargements"})]}),o.jsxs(C.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(e1,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(ds,{value:(r==null?void 0:r.totalLinkClicks)||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Clics"})]})]})]})})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(C.div,{variants:xt,children:o.jsx(Re,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ze,{children:[o.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Votre QR Code"}),o.jsx(C.div,{whileHover:{scale:1.05},className:"bg-white p-6 rounded-lg border-2 border-amber-500 flex items-center justify-center shadow-amber-glow",children:o.jsx(x1,{id:"qr-code",value:l,size:200,level:"H"})}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs(U,{fullWidth:!0,variant:"secondary",onClick:()=>u("standard"),children:[o.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Tlcharger (Standard)"]}),o.jsxs(U,{fullWidth:!0,variant:"outline",onClick:()=>u("high"),children:[o.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Tlcharger (Haute rsolution)"]}),o.jsx("p",{className:"text-xs text-center text-neutral-500 mt-2",children:"Format haute rsolution recommand pour impression professionnelle"})]})]})})}),o.jsx(C.div,{variants:xt,children:o.jsx(Re,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ze,{children:[o.jsx("h3",{className:"font-semibold text-amber-600 mb-2",children:"URL de votre profil"}),o.jsx("p",{className:"text-sm text-neutral-600 break-all mb-3",children:l}),o.jsx(U,{size:"sm",fullWidth:!0,variant:"outline",onClick:()=>{navigator.clipboard.writeText(l),alert("Lien copi !")},children:"Copier le lien"})]})})}),o.jsx(C.div,{variants:xt,children:o.jsx(Re,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ze,{children:[o.jsxs("button",{onClick:()=>a(!i),className:"w-full flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-full flex items-center justify-center shadow-amber-glow",children:o.jsx(yr,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-semibold text-neutral-900",children:"Configuration NFC"}),o.jsx("p",{className:"text-xs text-neutral-500",children:"Guide complet en 4 tapes"})]})]}),i?o.jsx(Zw,{className:"w-5 h-5 text-amber-600"}):o.jsx(tf,{className:"w-5 h-5 text-amber-600"})]}),!i&&o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Apprenez  programmer vos tags NFC avec votre URL personnalise"})]})})})]})]}),i&&o.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8",children:o.jsx(Re,{variant:"default",className:"bg-white border-neutral-200",children:o.jsx(ze,{children:o.jsx(A4,{profileUrl:l})})})})]})]})}function uf({items:e,className:t=""}){return o.jsxs("nav",{"aria-label":"Breadcrumb",className:`flex items-center space-x-2 text-sm ${t}`,children:[o.jsx(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center",children:o.jsx(q,{to:"/dashboard",className:"flex items-center text-neutral-600 hover:text-amber-600 transition-colors","aria-label":"Accueil",children:o.jsx(ZP,{className:"w-4 h-4"})})}),e.map((r,n)=>o.jsxs(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"flex items-center space-x-2",children:[o.jsx(JP,{className:"w-4 h-4 text-neutral-400","aria-hidden":"true"}),r.href?o.jsx(q,{to:r.href,className:"text-neutral-600 hover:text-amber-600 transition-colors",children:r.label}):o.jsx("span",{className:"text-neutral-900 font-medium","aria-current":"page",children:r.label})]},n))]})}const j0={free:3,premium:10,premium_plus:1/0},_0={free:1,premium:5,premium_plus:1/0};function lR(){const{user:e}=Zt(),[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{if(!e){r(null),s(!1);return}async function d(){try{const{data:f,error:h}=await Z.from("subscriptions").select("*").eq("user_id",e.id).maybeSingle();if(h)throw h;r(f)}catch(f){console.error("Failed to fetch subscription:",f)}finally{s(!1)}}d()},[e]);const i=(t==null?void 0:t.tier)||"free",a=j0[i]||j0.free,l=_0[i]||_0.free;return{subscription:t,loading:n,tier:i,maxCustomFields:a,maxSavedTemplates:l,canAddCustomField:d=>d<a,canSaveTemplate:d=>d<l}}function uR(e){if(!e)return!0;try{return new URL(e),!0}catch{return!1}}function cR(e){return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e):!0}function dR(e){return e?/^[\d\s\-\+\(\)]{8,}$/.test(e):!0}function hR(e){return e.trim().length>0}function N0(e,t,r){if(r&&!hR(t))return"Ce champ est requis";if(!t)return null;switch(e){case"url":return uR(t)?null:"URL invalide";case"email":return cR(t)?null:"Email invalide";case"phone":return dR(t)?null:"Numro de tlphone invalide";default:return null}}function k0({field:e,onChange:t}){const[r,n]=b.useState(null),[s,i]=b.useState(!1);b.useEffect(()=>{if(s){const u=N0(e.type,e.value,e.required);n(u)}},[e.value,e.type,e.required,s]);const a=u=>{i(!0),t(u)},l=()=>{i(!0);const u=N0(e.type,e.value,e.required);n(u)};return e.type==="textarea"?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:[e.label,e.required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"}),!e.isPublic&&o.jsx("span",{className:"ml-2 text-xs text-warmGray-500 bg-warmGray-100 px-2 py-0.5 rounded",children:"Priv"})]}),o.jsx("textarea",{value:e.value,onChange:u=>a(u.target.value),onBlur:l,rows:e.rows||4,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-500 focus:border-transparent ${r?"border-red-300":"border-warmGray-300"}`,placeholder:`Entrez ${e.label.toLowerCase()}`}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]}):o.jsxs("div",{children:[o.jsx(pe,{label:e.label,type:e.type==="text"?"text":e.type,value:e.value,onChange:u=>a(u.target.value),onBlur:l,required:e.required,helperText:e.isPublic?void 0:"Champ priv - visible uniquement pour vous"}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]})}function fR({fields:e,onChange:t,templateFields:r}){const{maxCustomFields:n,canAddCustomField:s}=lR(),[i,a]=b.useState(!1),[l,u]=b.useState(""),[c,d]=b.useState("text"),[f,h]=b.useState(!0),m=e.filter(g=>!r.find(j=>j.id===g.id)),p=s(m.length),x=()=>{if(!l.trim())return;const g={id:`custom_${Date.now()}`,label:l,type:c,value:"",required:!1,order:e.length,isPublic:f};t([...e,g]),u(""),d("text"),h(!0),a(!1)},w=g=>{t(e.filter(j=>j.id!==g))},y=(g,j)=>{t(e.map(_=>_.id===g?{..._,value:j}:_))},v=g=>{t(e.map(j=>j.id===g?{...j,isPublic:!j.isPublic}:j))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Champs du template"}),o.jsx("div",{className:"space-y-4",children:r.map(g=>{const j=e.find(_=>_.id===g.id)||g;return o.jsxs("div",{className:"relative",children:[o.jsx(k0,{field:j,onChange:_=>y(g.id,_)}),!g.required&&o.jsx("button",{onClick:()=>v(g.id),className:"absolute top-8 right-3 text-warmGray-400 hover:text-warmGray-600",title:j.isPublic?"Rendre priv":"Rendre public",children:j.isPublic?o.jsx(js,{className:"w-4 h-4"}):o.jsx(w0,{className:"w-4 h-4"})})]},g.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900",children:"Champs personnaliss"}),o.jsxs("p",{className:"text-sm text-warmGray-500",children:[m.length," / ",n===1/0?"":n," champs utiliss"]})]}),o.jsxs(U,{onClick:()=>a(!0),disabled:!p,size:"sm",variant:"outline",children:[o.jsx(l4,{className:"w-4 h-4 mr-2"}),"Ajouter un champ"]})]}),!p&&o.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[o.jsx(YP,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-semibold text-amber-900",children:"Limite atteinte"}),o.jsx("p",{className:"text-amber-700",children:"Passez  Premium pour ajouter jusqu' 10 champs personnaliss"})]})]}),o.jsx("div",{className:"space-y-4",children:m.map(g=>o.jsx("div",{className:"relative border border-warmGray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(k0,{field:g,onChange:j=>y(g.id,j)})}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx("button",{onClick:()=>v(g.id),className:"text-warmGray-400 hover:text-warmGray-600",title:g.isPublic?"Rendre priv":"Rendre public",children:g.isPublic?o.jsx(js,{className:"w-4 h-4"}):o.jsx(w0,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>w(g.id),className:"text-red-400 hover:text-red-600",title:"Supprimer ce champ",children:o.jsx(m4,{className:"w-4 h-4"})})]})]})},g.id))}),m.length===0&&o.jsxs("div",{className:"text-center py-8 text-warmGray-500",children:[o.jsx("p",{children:"Aucun champ personnalis pour le moment"}),o.jsx("p",{className:"text-sm mt-1",children:'Cliquez sur "Ajouter un champ" pour commencer'})]})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-warmGray-900 mb-4",children:"Ajouter un champ personnalis"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Libell du champ"}),o.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Numro de licence",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Type de champ"}),o.jsxs("select",{value:c,onChange:g=>d(g.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"text",children:"Texte court"}),o.jsx("option",{value:"textarea",children:"Texte long"}),o.jsx("option",{value:"url",children:"URL"}),o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"phone",children:"Tlphone"}),o.jsx("option",{value:"date",children:"Date"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"isPublic",checked:f,onChange:g=>h(g.target.checked),className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"isPublic",className:"text-sm text-warmGray-700",children:"Afficher ce champ sur le profil public"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(U,{onClick:()=>a(!1),variant:"outline",fullWidth:!0,children:"Annuler"}),o.jsx(U,{onClick:x,disabled:!l.trim(),fullWidth:!0,children:"Ajouter"})]})]})})]})}function mR({currentPhotoUrl:e,onPhotoUploaded:t}){const{user:r}=Zt(),[n,s]=b.useState(!1),[i,a]=b.useState(null),[l,u]=b.useState(e||null),[c,d]=b.useState(!1),[f,h]=b.useState(null),m=b.useRef(null),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>()=>{f&&f.getTracks().forEach(N=>N.stop())},[f]),b.useEffect(()=>{f&&p.current&&c&&(p.current.srcObject=f)},[f,c]);const w=async()=>{try{a(null);const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:1280}}});h(N),d(!0)}catch(N){a("Impossible d'accder  la camra. Vrifiez les permissions."),console.error("Camera error:",N)}},y=()=>{f&&(f.getTracks().forEach(N=>N.stop()),h(null)),d(!1)},v=()=>{if(!p.current||!x.current)return;const N=p.current,k=x.current,S=k.getContext("2d");if(!S)return;k.width=400,k.height=400;const E=N.videoWidth/N.videoHeight;let R=0,I=0,Q=N.videoWidth,Y=N.videoHeight;E>1?(Q=N.videoHeight,R=(N.videoWidth-Q)/2):(Y=N.videoWidth,I=(N.videoHeight-Y)/2),S.drawImage(N,R,I,Q,Y,0,0,400,400),k.toBlob(async He=>{He&&await _(He,"selfie.jpg")},"image/jpeg",.9),y()},g=async N=>{var E;const k=(E=N.target.files)==null?void 0:E[0];if(!k)return;if(a(null),!["image/jpeg","image/png","image/webp"].includes(k.type)){a("Format non support. Utilisez JPEG, PNG ou WebP.");return}if(k.size>5*1024*1024){a("Fichier trop volumineux. Maximum 5MB.");return}const S=await j(k,k.type);S&&await _(S,k.name,k.type)},j=async(N,k)=>new Promise(S=>{const E=new FileReader;E.onload=R=>{var Q;const I=new Image;I.onload=()=>{const Y=document.createElement("canvas"),He=Y.getContext("2d");if(!He){S(null);return}const et=400;Y.width=et,Y.height=et;const qe=Math.min(I.width,I.height),H=(I.width-qe)/2,P=(I.height-qe)/2;He.drawImage(I,H,P,qe,qe,0,0,et,et);const M=k==="image/webp"?"image/webp":"image/jpeg",F=k==="image/webp"?.9:.85;Y.toBlob($=>{S($)},M,F)},I.src=(Q=R.target)==null?void 0:Q.result},E.readAsDataURL(N)}),_=async(N,k,S="image/jpeg")=>{if(!r){a("Vous devez tre connect.");return}s(!0),a(null);try{let E=k.split(".").pop()||"jpg";S==="image/webp"&&E!=="webp"&&(E="webp");const R=`${r.id}/${Date.now()}.${E}`,{data:I,error:Q}=await Z.storage.from("profile-photos").upload(R,N,{contentType:S==="image/webp"?"image/webp":"image/jpeg",upsert:!1});if(Q)throw Q;const{data:Y}=Z.storage.from("profile-photos").getPublicUrl(R);u(Y.publicUrl),t(Y.publicUrl)}catch(E){a(E.message||"Erreur lors du tlchargement."),console.error("Upload error:",E)}finally{s(!1)}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700",children:"Photo de profil"}),l&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l,alt:"Aperu",className:"w-32 h-32 rounded-full object-cover border-4 border-gold-400 shadow-lg"}),o.jsx("button",{onClick:()=>{u(null),t("")},className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:o.jsx(Yi,{className:"w-4 h-4"})})]})}),!c&&o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(U,{type:"button",variant:"outline",onClick:()=>{var N;return(N=m.current)==null?void 0:N.click()},disabled:n,fullWidth:!0,children:[n?o.jsx(n4,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(g4,{className:"w-4 h-4 mr-2"}),"Importer"]}),o.jsxs(U,{type:"button",variant:"outline",onClick:w,disabled:n,fullWidth:!0,children:[o.jsx(Yw,{className:"w-4 h-4 mr-2"}),"Selfie"]})]}),c&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"}),o.jsx("div",{className:"absolute inset-0 border-2 border-gold-400 rounded-lg pointer-events-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(U,{type:"button",variant:"outline",onClick:y,fullWidth:!0,children:[o.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Annuler"]}),o.jsxs(U,{type:"button",variant:"secondary",onClick:v,fullWidth:!0,children:[o.jsx(Xw,{className:"w-4 h-4 mr-2"}),"Capturer"]})]})]}),o.jsx("canvas",{ref:x,className:"hidden"}),o.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:g,className:"hidden"}),i&&o.jsx("p",{className:"text-sm text-red-600 mt-2",children:i}),o.jsx("p",{className:"text-xs text-warmGray-500",children:"Formats accepts : JPEG, PNG, WebP. Taille max : 5MB. L'image sera automatiquement recadre en cercle."})]})}const Sr=20;function pR(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{window.URL.revokeObjectURL(n.src),t(n.duration)},n.onerror=()=>{r(new Error("Failed to load video metadata"))},n.src=URL.createObjectURL(e)})}async function gR(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.currentTime=2,n.onloadeddata=()=>{const s=document.createElement("canvas");s.width=n.videoWidth,s.height=n.videoHeight;const i=s.getContext("2d");if(!i){r(new Error("Failed to get canvas context"));return}i.drawImage(n,0,0,s.width,s.height),s.toBlob(a=>{window.URL.revokeObjectURL(n.src),a?t(a):r(new Error("Failed to generate thumbnail"))},"image/webp",.8)},n.onerror=()=>{r(new Error("Failed to load video for thumbnail"))},n.src=URL.createObjectURL(e)})}function yR(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(2)} ${r[n]}`}function b1(e){const t=Math.floor(e/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function vR(e){const[t,r]=b.useState({uploading:!1,progress:0,error:null});return{...t,uploadRecording:async i=>{r({uploading:!1,progress:0,error:null});try{const a=new File([i],`recording-${Date.now()}.webm`,{type:i.type});r(w=>({...w,uploading:!0,progress:0}));const l=await pR(a);if(l>Sr)return r({uploading:!1,progress:0,error:`La vido dpasse la dure maximale de ${Sr} secondes.`}),null;const u=Date.now(),c=`${e}/video_${u}.mp4`,d=`${e}/thumbnails/thumb_${u}.webp`,f=await gR(a),{error:h}=await Z.storage.from("profile-videos").upload(c,a,{cacheControl:"3600",upsert:!1});if(h)throw h;r({uploading:!0,progress:50,error:null});const{error:m}=await Z.storage.from("profile-videos").upload(d,f,{cacheControl:"3600",upsert:!1});if(m)throw m;const{data:p}=Z.storage.from("profile-videos").getPublicUrl(c),{data:x}=Z.storage.from("profile-videos").getPublicUrl(d);return r({uploading:!1,progress:100,error:null}),{videoUrl:p.publicUrl,thumbnailUrl:x.publicUrl,duration:Math.floor(l),fileSize:a.size}}catch(a){const l=a instanceof Error?a.message:"Upload failed";return r({uploading:!1,progress:0,error:l}),null}},deleteVideo:async(i,a)=>{try{const l=i.split("/profile-videos/")[1],u=a.split("/profile-videos/")[1];return l&&await Z.storage.from("profile-videos").remove([l]),u&&await Z.storage.from("profile-videos").remove([u]),!0}catch(l){return console.error("Error deleting video:",l),!1}}}}function xR({userId:e,currentVideoUrl:t,currentThumbnailUrl:r,currentDuration:n,currentFileSize:s,onUploadComplete:i,onDelete:a}){const l=b.useRef(null),u=b.useRef(null),c=b.useRef([]),[d,f]=b.useState(null),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[w,y]=b.useState(0),[v,g]=b.useState(null),[j,_]=b.useState(null),[N,k]=b.useState("user"),{uploading:S,progress:E,error:R,uploadRecording:I,deleteVideo:Q}=vR(e);b.useEffect(()=>()=>{v&&v.getTracks().forEach($=>$.stop())},[v]),b.useEffect(()=>{v&&l.current&&h&&(l.current.srcObject=v)},[v,h]);const Y=b.useCallback(()=>{u.current&&p&&(u.current.stop(),x(!1))},[p]);b.useEffect(()=>{let $;return p?$=setInterval(()=>{y(G=>{const re=G+1;return re>=Sr&&Y(),re})},1e3):y(0),()=>clearInterval($)},[p,Y]);const He=async()=>{t&&r&&await Q(t,r)&&(f(null),a())},et=async($=N)=>{console.log("startCamera called");try{if(_(null),v&&v.getTracks().forEach(re=>re.stop()),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Votre navigateur ne supporte pas l'accs  la camra. Veuillez utiliser un navigateur moderne.");console.log("Requesting camera access...");const G=await navigator.mediaDevices.getUserMedia({video:{facingMode:$,width:{ideal:1920},height:{ideal:1080}},audio:!0});console.log("Camera access granted"),g(G),m(!0),k($)}catch(G){console.error("Camera error:",G);let re="Impossible d'accder  la camra.";G.name==="NotAllowedError"?re="Accs  la camra refus. Veuillez autoriser l'accs dans les paramtres de votre navigateur.":G.name==="NotFoundError"?re="Aucune camra trouve sur cet appareil.":G.name==="NotReadableError"?re="La camra est dj utilise par une autre application.":G.name==="OverconstrainedError"?re="Impossible d'utiliser les paramtres demands pour la camra.":G.message&&(re=G.message),_(re),m(!0)}},qe=()=>{v&&(v.getTracks().forEach($=>$.stop()),g(null)),m(!1),x(!1),_(null)},H=async()=>{if(p)return;await et(N==="user"?"environment":"user")},P=()=>{const $=[{mimeType:"video/webm;codecs=vp9",extension:"webm"},{mimeType:"video/webm;codecs=vp8",extension:"webm"},{mimeType:"video/webm;codecs=h264",extension:"webm"},{mimeType:"video/webm",extension:"webm"},{mimeType:"video/mp4;codecs=h264",extension:"mp4"},{mimeType:"video/mp4",extension:"mp4"}];for(const G of $)if(MediaRecorder.isTypeSupported(G.mimeType))return G;return{mimeType:"",extension:"webm"}},M=()=>{if(v)try{const{mimeType:$}=P();if(!$){_("Votre navigateur ne supporte pas l'enregistrement vido. Veuillez utiliser un navigateur moderne comme Chrome, Firefox ou Safari.");return}c.current=[];const G=$?{mimeType:$}:{},re=new MediaRecorder(v,G);re.ondataavailable=Se=>{Se.data.size>0&&c.current.push(Se.data)},re.onstop=async()=>{const Se=new Blob(c.current,{type:$||"video/webm"}),tt=await I(Se);tt&&(f(tt.videoUrl),i(tt)),qe()},re.onerror=Se=>{console.error("MediaRecorder error:",Se),_("Une erreur s'est produite lors de l'enregistrement. Veuillez ressayer."),x(!1)},re.start(),u.current=re,x(!0),_(null)}catch($){console.error("Recording error:",$),_(`Erreur d'enregistrement: ${$.message||"Impossible de dmarrer l'enregistrement"}`),x(!1)}},F=t||d;return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Vido de prsentation"})}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-400 mb-4",children:[o.jsx(Ar,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{children:"Enregistrez une vido de prsentation directement depuis votre camra"}),o.jsxs("p",{children:["Dure maximale: ",Sr," secondes"]})]})]}),!F&&!h?o.jsx("div",{className:"space-y-3",children:o.jsxs(U,{type:"button",variant:"outline",onClick:()=>{console.log("Button clicked"),et()},disabled:S,fullWidth:!0,children:[o.jsx(Yw,{className:"w-4 h-4 mr-2"}),"Enregistrer une vido"]})}):h?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:[o.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!p,className:"w-full h-full object-cover"}),!p&&o.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2 px-3 py-2 bg-green-600 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),o.jsx("span",{className:"text-white text-sm font-medium",children:"Camra prte"})]}),p&&o.jsxs("div",{className:"absolute top-4 left-4 right-4 flex flex-col items-center space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-red-600 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),o.jsxs("span",{className:"text-white text-sm font-medium",children:[Math.floor(w/60),":",(w%60).toString().padStart(2,"0")," / ",Math.floor(Sr/60),":",(Sr%60).toString().padStart(2,"0")]})]}),o.jsx("div",{className:"w-full max-w-xs bg-gray-800/80 rounded-full h-2 overflow-hidden backdrop-blur-sm",children:o.jsx("div",{className:"bg-red-500 h-full transition-all duration-1000 ease-linear",style:{width:`${w/Sr*100}%`}})})]}),w>=Sr&&o.jsx("div",{className:"absolute top-4 right-4 px-3 py-2 bg-yellow-600 rounded-lg",children:o.jsx("span",{className:"text-white text-sm font-medium",children:"Limite atteinte"})}),!p&&o.jsx("button",{onClick:H,className:"absolute bottom-4 right-4 p-3 bg-gray-900/80 hover:bg-gray-800 text-white rounded-full transition-colors backdrop-blur-sm",title:N==="user"?"Basculer vers la camra arrire":"Basculer vers la camra frontale",children:o.jsx(c4,{className:"w-5 h-5"})})]}),j&&o.jsxs("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[o.jsx(Ar,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:j})]}),o.jsx("div",{className:"space-y-2",children:p?o.jsxs("button",{type:"button",onClick:Y,className:"w-full py-4 px-6 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all shadow-lg",children:[o.jsx(h4,{className:"w-6 h-6"}),o.jsx("span",{children:"Arrter l'enregistrement"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{type:"button",onClick:M,className:"w-full py-4 px-6 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg",children:[o.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"})}),o.jsx("span",{children:"Dmarrer l'enregistrement"})]}),o.jsxs(U,{type:"button",variant:"outline",onClick:qe,fullWidth:!0,children:[o.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Annuler"]})]})})]}):F?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:o.jsx("video",{src:d||t,controls:!0,className:"w-full h-full",poster:r})}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx(w4,{className:"w-4 h-4"}),o.jsx("span",{children:b1(n||0)})]}),o.jsx("span",{children:yR(s||0)})]}),o.jsxs("button",{type:"button",onClick:He,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[o.jsx(Yi,{className:"w-4 h-4"}),o.jsx("span",{children:"Supprimer"})]})]})]}):null,R&&o.jsxs("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[o.jsx(Ar,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:R})]})]}),S&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Upload en cours..."}),o.jsxs("span",{className:"text-sm text-yellow-500",children:[E,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-yellow-500 h-full transition-all duration-300 ease-out",style:{width:`${E}%`}})})]})]})}const wR=[{name:"Paris",postalCode:"75000",timezone:"Europe/Paris",country:"France"},{name:"Marseille",postalCode:"13000",timezone:"Europe/Paris",country:"France"},{name:"Lyon",postalCode:"69000",timezone:"Europe/Paris",country:"France"},{name:"Toulouse",postalCode:"31000",timezone:"Europe/Paris",country:"France"},{name:"Nice",postalCode:"06000",timezone:"Europe/Paris",country:"France"},{name:"Nantes",postalCode:"44000",timezone:"Europe/Paris",country:"France"},{name:"Strasbourg",postalCode:"67000",timezone:"Europe/Paris",country:"France"},{name:"Montpellier",postalCode:"34000",timezone:"Europe/Paris",country:"France"},{name:"Bordeaux",postalCode:"33000",timezone:"Europe/Paris",country:"France"},{name:"Lille",postalCode:"59000",timezone:"Europe/Paris",country:"France"},{name:"Rennes",postalCode:"35000",timezone:"Europe/Paris",country:"France"},{name:"Reims",postalCode:"51100",timezone:"Europe/Paris",country:"France"},{name:"Le Havre",postalCode:"76600",timezone:"Europe/Paris",country:"France"},{name:"Saint-tienne",postalCode:"42000",timezone:"Europe/Paris",country:"France"},{name:"Toulon",postalCode:"83000",timezone:"Europe/Paris",country:"France"},{name:"Grenoble",postalCode:"38000",timezone:"Europe/Paris",country:"France"},{name:"Dijon",postalCode:"21000",timezone:"Europe/Paris",country:"France"},{name:"Angers",postalCode:"49000",timezone:"Europe/Paris",country:"France"},{name:"Nmes",postalCode:"30000",timezone:"Europe/Paris",country:"France"},{name:"Villeurbanne",postalCode:"69100",timezone:"Europe/Paris",country:"France"},{name:"Le Mans",postalCode:"72000",timezone:"Europe/Paris",country:"France"},{name:"Aix-en-Provence",postalCode:"13100",timezone:"Europe/Paris",country:"France"},{name:"Clermont-Ferrand",postalCode:"63000",timezone:"Europe/Paris",country:"France"},{name:"Brest",postalCode:"29200",timezone:"Europe/Paris",country:"France"},{name:"Tours",postalCode:"37000",timezone:"Europe/Paris",country:"France"},{name:"Limoges",postalCode:"87000",timezone:"Europe/Paris",country:"France"},{name:"Amiens",postalCode:"80000",timezone:"Europe/Paris",country:"France"},{name:"Perpignan",postalCode:"66000",timezone:"Europe/Paris",country:"France"},{name:"Metz",postalCode:"57000",timezone:"Europe/Paris",country:"France"},{name:"Besanon",postalCode:"25000",timezone:"Europe/Paris",country:"France"},{name:"Boulogne-Billancourt",postalCode:"92100",timezone:"Europe/Paris",country:"France"},{name:"Orlans",postalCode:"45000",timezone:"Europe/Paris",country:"France"},{name:"Mulhouse",postalCode:"68100",timezone:"Europe/Paris",country:"France"},{name:"Rouen",postalCode:"76000",timezone:"Europe/Paris",country:"France"},{name:"Caen",postalCode:"14000",timezone:"Europe/Paris",country:"France"},{name:"Nancy",postalCode:"54000",timezone:"Europe/Paris",country:"France"},{name:"Argenteuil",postalCode:"95100",timezone:"Europe/Paris",country:"France"},{name:"Montreuil",postalCode:"93100",timezone:"Europe/Paris",country:"France"},{name:"Roubaix",postalCode:"59100",timezone:"Europe/Paris",country:"France"},{name:"Tourcoing",postalCode:"59200",timezone:"Europe/Paris",country:"France"},{name:"Nanterre",postalCode:"92000",timezone:"Europe/Paris",country:"France"},{name:"Avignon",postalCode:"84000",timezone:"Europe/Paris",country:"France"},{name:"Vitry-sur-Seine",postalCode:"94400",timezone:"Europe/Paris",country:"France"},{name:"Crteil",postalCode:"94000",timezone:"Europe/Paris",country:"France"},{name:"Dunkerque",postalCode:"59140",timezone:"Europe/Paris",country:"France"},{name:"Poitiers",postalCode:"86000",timezone:"Europe/Paris",country:"France"},{name:"Asnires-sur-Seine",postalCode:"92600",timezone:"Europe/Paris",country:"France"},{name:"Courbevoie",postalCode:"92400",timezone:"Europe/Paris",country:"France"},{name:"Versailles",postalCode:"78000",timezone:"Europe/Paris",country:"France"},{name:"Colombes",postalCode:"92700",timezone:"Europe/Paris",country:"France"},{name:"Fort-de-France",postalCode:"97200",timezone:"America/Martinique",country:"France"},{name:"Aulnay-sous-Bois",postalCode:"93600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Pierre",postalCode:"97410",timezone:"Indian/Reunion",country:"France"},{name:"Rueil-Malmaison",postalCode:"92500",timezone:"Europe/Paris",country:"France"},{name:"Pau",postalCode:"64000",timezone:"Europe/Paris",country:"France"},{name:"Aubervilliers",postalCode:"93300",timezone:"Europe/Paris",country:"France"},{name:"Le Tampon",postalCode:"97430",timezone:"Indian/Reunion",country:"France"},{name:"Champigny-sur-Marne",postalCode:"94500",timezone:"Europe/Paris",country:"France"},{name:"Antibes",postalCode:"06600",timezone:"Europe/Paris",country:"France"},{name:"La Rochelle",postalCode:"17000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Maur-des-Fosss",postalCode:"94100",timezone:"Europe/Paris",country:"France"},{name:"Calais",postalCode:"62100",timezone:"Europe/Paris",country:"France"},{name:"Cannes",postalCode:"06400",timezone:"Europe/Paris",country:"France"},{name:"Bziers",postalCode:"34500",timezone:"Europe/Paris",country:"France"},{name:"Colmar",postalCode:"68000",timezone:"Europe/Paris",country:"France"},{name:"Bourges",postalCode:"18000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Nazaire",postalCode:"44600",timezone:"Europe/Paris",country:"France"},{name:"Quimper",postalCode:"29000",timezone:"Europe/Paris",country:"France"},{name:"Valence",postalCode:"26000",timezone:"Europe/Paris",country:"France"},{name:"Mrignac",postalCode:"33700",timezone:"Europe/Paris",country:"France"},{name:"Drancy",postalCode:"93700",timezone:"Europe/Paris",country:"France"},{name:"Ajaccio",postalCode:"20000",timezone:"Europe/Paris",country:"France"},{name:"Levallois-Perret",postalCode:"92300",timezone:"Europe/Paris",country:"France"},{name:"Troyes",postalCode:"10000",timezone:"Europe/Paris",country:"France"},{name:"Neuilly-sur-Seine",postalCode:"92200",timezone:"Europe/Paris",country:"France"},{name:"Antony",postalCode:"92160",timezone:"Europe/Paris",country:"France"},{name:"Sarcelles",postalCode:"95200",timezone:"Europe/Paris",country:"France"},{name:"Cergy",postalCode:"95000",timezone:"Europe/Paris",country:"France"},{name:"Issy-les-Moulineaux",postalCode:"92130",timezone:"Europe/Paris",country:"France"},{name:"Noisy-le-Grand",postalCode:"93160",timezone:"Europe/Paris",country:"France"},{name:"vry",postalCode:"91000",timezone:"Europe/Paris",country:"France"},{name:"Vnissieux",postalCode:"69200",timezone:"Europe/Paris",country:"France"},{name:"Clichy",postalCode:"92110",timezone:"Europe/Paris",country:"France"},{name:"Lorient",postalCode:"56100",timezone:"Europe/Paris",country:"France"},{name:"Chambry",postalCode:"73000",timezone:"Europe/Paris",country:"France"},{name:"Pessac",postalCode:"33600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Andr",postalCode:"97440",timezone:"Indian/Reunion",country:"France"},{name:"Ivry-sur-Seine",postalCode:"94200",timezone:"Europe/Paris",country:"France"},{name:"Montauban",postalCode:"82000",timezone:"Europe/Paris",country:"France"},{name:"Cagnes-sur-Mer",postalCode:"06800",timezone:"Europe/Paris",country:"France"},{name:"Niort",postalCode:"79000",timezone:"Europe/Paris",country:"France"},{name:"Villejuif",postalCode:"94800",timezone:"Europe/Paris",country:"France"},{name:"Saint-Quentin",postalCode:"02100",timezone:"Europe/Paris",country:"France"},{name:"Hyres",postalCode:"83400",timezone:"Europe/Paris",country:"France"},{name:"Beauvais",postalCode:"60000",timezone:"Europe/Paris",country:"France"},{name:"Cholet",postalCode:"49300",timezone:"Europe/Paris",country:"France"}];function bR({value:e,timezone:t,country:r,onChange:n}){const[s,i]=b.useState(e||""),[a,l]=b.useState(!1),[u,c]=b.useState(-1),d=wR,f=b.useMemo(()=>{if(!s)return d.slice(0,10);const p=s.toLowerCase();return d.filter(x=>{const w=x.name.toLowerCase().includes(p),y=x.postalCode.includes(s);return w||y}).slice(0,10)},[s,d]),h=p=>{i(p.name),n(p.name,p.timezone,p.country),l(!1),c(-1)},m=p=>{if(!a&&(p.key==="ArrowDown"||p.key==="Enter")){l(!0);return}p.key==="ArrowDown"?(p.preventDefault(),c(x=>Math.min(x+1,f.length-1))):p.key==="ArrowUp"?(p.preventDefault(),c(x=>Math.max(x-1,-1))):p.key==="Enter"&&u>=0?(p.preventDefault(),h(f[u])):p.key==="Escape"&&(l(!1),c(-1))};return o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ville"}),o.jsxs("div",{className:"relative",children:[o.jsx(af,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:p=>{i(p.target.value),l(!0),c(-1)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),200),onKeyDown:m,placeholder:"Rechercher une ville...",className:"w-full pl-10 pr-10 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 transition-colors"}),o.jsx(tf,{className:`absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&f.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:f.map((p,x)=>o.jsx("button",{type:"button",onClick:()=>h(p),className:`w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors ${x===u?"bg-gray-700":""} ${x===0?"rounded-t-lg":""} ${x===f.length-1?"rounded-b-lg":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:p.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[p.postalCode,"  ",p.country]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:p.timezone})]})},`${p.name}-${p.postalCode}`))}),t&&o.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Fuseau horaire: ",o.jsx("span",{className:"text-yellow-500",children:t})]})]})}function jR(){const{profile:e,updateProfile:t}=ha(),{user:r}=Zt(),n=xr(),[s,i]=b.useState(!1),[a,l]=b.useState(""),[u,c]=b.useState([]),[d,f]=b.useState([]),[h,m]=b.useState({full_name:"",title:"",bio:"",email:"",phone:"",website:"",profile_photo_url:"",video_url:"",linkedin:"",twitter:"",instagram:"",facebook:"",tagline:"",mission_statement:"",location_city:"",location_country:"",timezone:"",show_local_time:!1,is_online:!0,theme_color:"#C89B3C",video_thumbnail_url:"",video_duration:0,video_file_size:0,total_video_storage:0});b.useEffect(()=>{var x,w,y,v;if(e){m({full_name:e.full_name||"",title:e.title||"",bio:e.bio||"",email:e.email||"",phone:e.phone||"",website:e.website||"",profile_photo_url:e.profile_photo_url||"",video_url:e.video_url||"",linkedin:((x=e.social_links)==null?void 0:x.linkedin)||"",twitter:((w=e.social_links)==null?void 0:w.twitter)||"",instagram:((y=e.social_links)==null?void 0:y.instagram)||"",facebook:((v=e.social_links)==null?void 0:v.facebook)||"",tagline:e.tagline||"",mission_statement:e.mission_statement||"",location_city:e.location_city||"",location_country:e.location_country||"",timezone:e.timezone||"Europe/Paris",show_local_time:e.show_local_time||!1,is_online:e.is_online!==void 0?e.is_online:!0,theme_color:e.theme_color||"#C89B3C",video_thumbnail_url:e.video_thumbnail_url||"",video_duration:e.video_duration||0,video_file_size:e.video_file_size||0,total_video_storage:e.total_video_storage||0}),c(e.custom_fields||[]);async function g(){try{const{data:j}=await Z.from("profile_templates").select("default_fields").eq("name",e.sector).maybeSingle();j!=null&&j.default_fields&&f(j.default_fields)}catch(j){console.error("Error fetching template fields:",j)}}e.sector&&g()}},[e]),b.useEffect(()=>{if(!s&&h&&e){const x=setTimeout(async()=>{const w={...h.linkedin&&{linkedin:h.linkedin},...h.twitter&&{twitter:h.twitter},...h.instagram&&{instagram:h.instagram},...h.facebook&&{facebook:h.facebook}};await t({full_name:h.full_name,title:h.title,bio:h.bio,email:h.email,phone:h.phone,website:h.website,profile_photo_url:h.profile_photo_url,video_url:h.video_url,social_links:w,custom_fields:u,tagline:h.tagline,mission_statement:h.mission_statement,location_city:h.location_city,location_country:h.location_country,timezone:h.timezone,show_local_time:h.show_local_time,is_online:h.is_online,theme_color:h.theme_color,video_thumbnail_url:h.video_thumbnail_url,video_duration:h.video_duration,video_file_size:h.video_file_size,total_video_storage:h.total_video_storage}),l("Enregistr"),setTimeout(()=>l(""),2e3)},1e3);return()=>clearTimeout(x)}},[h,u]);const p=(x,w)=>{m(y=>({...y,[x]:w})),l("Enregistrement...")};return e?o.jsxs("div",{className:"min-h-screen bg-warmGray-50",children:[o.jsx("nav",{className:"bg-white border-b border-warmGray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-warmGray-700 hover:text-warmGray-900",children:[o.jsx(Gr,{className:"w-5 h-5"}),"Retour au tableau de bord"]}),a&&o.jsx("span",{className:"text-sm text-green-600 font-medium",children:a})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(uf,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Modifier le profil"}],className:"mb-6"}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(zt,{to:`/${e.username}`,label:"Prvisualiser votre carte",description:"Voir comment les autres verront votre profil",icon:o.jsx(js,{className:"w-5 h-5"}),variant:"card"}),o.jsx(zt,{to:"/analytics",label:"Voir mes statistiques",description:"Suivre les performances de votre carte",icon:o.jsx(Qo,{className:"w-5 h-5"}),variant:"card"}),o.jsx(zt,{to:"/nfc-setup",label:"Configurer NFC",description:"Programmer vos tags NFC physiques",icon:o.jsx(t4,{className:"w-5 h-5"}),variant:"card"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-6",children:"diter le profil"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Informations de base"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(pe,{label:"Nom complet",value:h.full_name,onChange:x=>p("full_name",x.target.value),required:!0}),o.jsx(pe,{label:"Titre / Profession",value:h.title,onChange:x=>p("title",x.target.value),placeholder:"ex: Responsable Marketing"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Biographie"}),o.jsx("textarea",{value:h.bio,onChange:x=>p("bio",x.target.value),rows:4,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Parlez de vous..."})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Coordonnes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(pe,{label:"Email",type:"email",value:h.email,onChange:x=>p("email",x.target.value)}),o.jsx(pe,{label:"Tlphone",type:"tel",value:h.phone,onChange:x=>p("phone",x.target.value)}),o.jsx(pe,{label:"Site web",type:"url",value:h.website,onChange:x=>p("website",x.target.value),placeholder:"https://votresite.com"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Mdias"}),o.jsx("div",{className:"space-y-4",children:o.jsx(mR,{currentPhotoUrl:h.profile_photo_url,onPhotoUploaded:x=>p("profile_photo_url",x)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Prsentation tendue"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Phrase d'accroche"}),o.jsx("input",{type:"text",value:h.tagline,onChange:x=>p("tagline",x.target.value),maxLength:100,placeholder:"Une phrase courte et percutante...",className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[h.tagline.length,"/100 caractres"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Mission / Pitch"}),o.jsx("textarea",{value:h.mission_statement,onChange:x=>p("mission_statement",x.target.value),maxLength:500,rows:6,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez votre mission, vos valeurs, ce qui vous anime..."}),o.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[h.mission_statement.length,"/500 caractres"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Localisation"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(bR,{value:h.location_city,timezone:h.timezone,country:h.location_country,onChange:(x,w,y)=>{m(v=>({...v,location_city:x,timezone:w,location_country:y})),l("Enregistrement...")}}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:h.show_local_time,onChange:x=>{m(w=>({...w,show_local_time:x.target.checked})),l("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher mon heure locale sur le profil"})]})]})]}),o.jsx("div",{children:o.jsx(xR,{userId:(r==null?void 0:r.id)||"",currentVideoUrl:h.video_url,currentThumbnailUrl:h.video_thumbnail_url,currentDuration:h.video_duration,currentFileSize:h.video_file_size,onUploadComplete:x=>{m(w=>({...w,video_url:x.videoUrl,video_thumbnail_url:x.thumbnailUrl,video_duration:x.duration,video_file_size:x.fileSize,total_video_storage:w.total_video_storage+x.fileSize})),l("Enregistrement...")},onDelete:()=>{m(x=>({...x,video_url:"",video_thumbnail_url:"",video_duration:0,total_video_storage:x.total_video_storage-x.video_file_size,video_file_size:0})),l("Enregistrement...")}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Options d'affichage"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:h.is_online,onChange:x=>{m(w=>({...w,is_online:x.target.checked})),l("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher comme en ligne (badge vert sur la photo de profil)"})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Rseaux sociaux"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(pe,{label:"LinkedIn",type:"url",value:h.linkedin,onChange:x=>p("linkedin",x.target.value),placeholder:"https://linkedin.com/in/username"}),o.jsx(pe,{label:"Twitter",type:"url",value:h.twitter,onChange:x=>p("twitter",x.target.value),placeholder:"https://twitter.com/username"}),o.jsx(pe,{label:"Instagram",type:"url",value:h.instagram,onChange:x=>p("instagram",x.target.value),placeholder:"https://instagram.com/username"}),o.jsx(pe,{label:"Facebook",type:"url",value:h.facebook,onChange:x=>p("facebook",x.target.value),placeholder:"https://facebook.com/username"})]})]}),o.jsx("div",{className:"pt-6 border-t border-warmGray-200",children:o.jsx(fR,{fields:u,onChange:c,templateFields:d})})]})]}),o.jsx("div",{className:"lg:sticky lg:top-8 h-fit",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-4",children:"Aperu en direct"}),o.jsx("p",{className:"text-sm text-warmGray-500 mb-6",children:"Voici  quoi ressemble votre profil pour les visiteurs"}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-warmGray-50 rounded-lg p-6 border border-warmGray-200",children:[h.profile_photo_url?o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:h.profile_photo_url,alt:h.full_name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"})}):o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:h.full_name.charAt(0)||"?"})}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-2xl font-bold text-warmGray-900",children:h.full_name||"Votre nom"}),h.title&&o.jsx("p",{className:"text-lg text-warmGray-600",children:h.title})]}),h.bio&&o.jsx("p",{className:"text-center text-warmGray-700 mb-4 text-sm leading-relaxed",children:h.bio}),o.jsxs("div",{className:"space-y-2",children:[h.email&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Email: "}),o.jsx("span",{className:"text-warmGray-900",children:h.email})]}),h.phone&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Tlphone : "}),o.jsx("span",{className:"text-warmGray-900",children:h.phone})]}),h.website&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Site web : "}),o.jsx("span",{className:"text-blue-600",children:h.website})]})]}),(h.linkedin||h.twitter||h.instagram||h.facebook)&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-warmGray-200",children:[o.jsx("p",{className:"text-xs text-center text-warmGray-500 mb-2",children:"RSEAUX SOCIAUX"}),o.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[h.linkedin&&o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-navy-700 rounded text-xs",children:"LinkedIn"}),h.twitter&&o.jsx("span",{className:"px-2 py-1 bg-sky-100 text-sky-800 rounded text-xs",children:"Twitter"}),h.instagram&&o.jsx("span",{className:"px-2 py-1 bg-pink-100 text-pink-800 rounded text-xs",children:"Instagram"}),h.facebook&&o.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs",children:"Facebook"})]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(U,{fullWidth:!0,onClick:()=>n(`/${e.username}`),variant:"outline",children:"Voir le profil complet"})})]})})]})]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})})}function Dn({children:e,delay:t=0,className:r=""}){const[n,s]=ti({triggerOnce:!0,threshold:.1});return o.jsx(C.div,{ref:n,initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:t},className:r,children:e})}function Ka({icon:e,label:t,value:r,href:n,onClick:s,className:i=""}){const a=o.jsx("div",{className:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-yellow-500 transition-all duration-200 hover:scale-[1.02] hover:-translate-y-0.5 ${i}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(e,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:t}),o.jsx("div",{className:"text-white font-medium truncate",children:r})]})]})});return n?o.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block",children:a}):s?o.jsx("button",{type:"button",onClick:s,className:"w-full text-left",children:a}):a}const _R={instagram:{icon:e4,color:"hover:bg-pink-600",defaultLabel:"Follow on Instagram"},twitter:{icon:p4,color:"hover:bg-blue-500",defaultLabel:"Follow on Twitter"},linkedin:{icon:r4,color:"hover:bg-blue-700",defaultLabel:"Connect on LinkedIn"},email:{icon:kl,color:"hover:bg-green-600",defaultLabel:"Send Email"},phone:{icon:Sl,color:"hover:bg-blue-600",defaultLabel:"Call Me"},website:{icon:rf,color:"hover:bg-purple-600",defaultLabel:"Visit Website"}};function Tu({platform:e,url:t,label:r,variant:n="default"}){const s=_R[e],i=s.icon,a=r||s.defaultLabel;return n==="compact"?o.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center w-12 h-12 bg-gray-800 border border-gray-700 rounded-lg transition-all duration-200 hover:scale-110 ${s.color}`,children:o.jsx(i,{className:"w-5 h-5 text-white"})}):o.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center space-x-3 px-6 py-4 bg-gray-800 border border-gray-700 rounded-lg transition-all duration-200 hover:scale-[1.02] hover:-translate-y-0.5 ${s.color}`,children:[o.jsx(i,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-white font-medium",children:a})]})}function NR({videoUrl:e,thumbnailUrl:t,duration:r}){const[n,s]=b.useState(!1);return n?o.jsx("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden",children:o.jsx("video",{src:e,controls:!0,autoPlay:!0,className:"w-full h-full",onEnded:()=>s(!1)})}):o.jsxs("button",{onClick:()=>s(!0),className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden group",style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"},children:[o.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/60 transition-colors"}),o.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:"VIDEO INTRO"}),o.jsx("div",{className:"absolute bottom-4 right-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:b1(r)}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center transform group-hover:scale-110 transition-transform",children:o.jsx(t1,{className:"w-8 h-8 text-black ml-1",fill:"currentColor"})})})]})}const kR={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};function SR({isOnline:e,size:t="md"}){return o.jsx("div",{className:"absolute bottom-0 right-0 bg-gray-900 rounded-full p-1",children:o.jsx(C.div,{className:`${kR[t]} rounded-full ${e?"bg-green-500":"bg-gray-500"}`,animate:e?{scale:[1,1.2,1],opacity:[1,.8,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})})}function ER(e){const[t,r]=b.useState("");return b.useEffect(()=>{const n=()=>{try{const i=new Date,a=new Intl.DateTimeFormat("fr-FR",{timeZone:e,hour:"2-digit",minute:"2-digit",hour12:!1});r(a.format(i))}catch(i){console.error("Error formatting time:",i),r("--:--")}};n();const s=setInterval(n,6e4);return()=>clearInterval(s)},[e]),t}function CR({timezone:e,city:t}){const r=ER(e);return o.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[o.jsx(Yo,{className:"w-4 h-4"}),o.jsxs("span",{children:["Heure locale  ",t,": ",o.jsx("span",{className:"text-yellow-500 font-medium",children:r})]})]})}function TR({fullName:e,title:t,tagline:r,profilePhotoUrl:n,isOnline:s,locationCity:i,timezone:a,showLocalTime:l}){return o.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-t-2xl overflow-hidden",children:[o.jsx(C.div,{className:"absolute inset-0 opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle, rgba(200, 155, 60, 0.3) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),o.jsxs("div",{className:"relative px-8 py-12 text-center",children:[o.jsxs(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative inline-block mb-6",children:[n?o.jsx("img",{src:n,alt:e,className:"w-32 h-32 rounded-full border-4 border-yellow-500 object-cover shadow-2xl"}):o.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-full flex items-center justify-center text-gray-900 text-4xl font-bold shadow-2xl",children:e.charAt(0)}),o.jsx(SR,{isOnline:s,size:"lg"})]}),o.jsx(C.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl font-bold text-white mb-2",children:e}),t&&o.jsx(C.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-yellow-400 mb-4",children:t}),r&&o.jsx(C.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-gray-300 max-w-2xl mx-auto mb-6",children:r}),l&&i&&a&&o.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-center",children:o.jsx(CR,{timezone:a,city:i})})]})]})}function S0({onDownloadContact:e}){return o.jsx("div",{className:"flex justify-center px-6 py-6",children:o.jsxs(U,{size:"lg",onClick:e,className:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-semibold px-8",children:[o.jsx(Sn,{className:"w-5 h-5 mr-2"}),"Enregistrer dans les contacts"]})})}function PR(e){const t=["BEGIN:VCARD","VERSION:3.0",`FN:${e.full_name}`];return e.title&&t.push(`TITLE:${e.title}`),e.phone&&t.push(`TEL;TYPE=CELL:${e.phone}`),e.email&&t.push(`EMAIL:${e.email}`),e.website&&t.push(`URL:${e.website}`),e.bio&&t.push(`NOTE:${e.bio.replace(/\n/g,"\\n")}`),e.social_links&&(e.social_links.linkedin&&t.push(`X-SOCIALPROFILE;TYPE=linkedin:${e.social_links.linkedin}`),e.social_links.twitter&&t.push(`X-SOCIALPROFILE;TYPE=twitter:${e.social_links.twitter}`),e.social_links.instagram&&t.push(`X-SOCIALPROFILE;TYPE=instagram:${e.social_links.instagram}`),e.social_links.facebook&&t.push(`X-SOCIALPROFILE;TYPE=facebook:${e.social_links.facebook}`)),t.push("END:VCARD"),t.join(`\r
`)}function RR(e){const t=PR(e),r=new Blob([t],{type:"text/vcard;charset=utf-8"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=`${e.username||"contact"}.vcf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}async function Ks(e,t,r){const n=AR(),s=navigator.userAgent,i=document.referrer;await Z.from("profile_analytics").insert({profile_id:e,event_type:t,device_type:n,user_agent:s,referrer:i,ip_hash:"",country_code:"",metadata:r||{}})}function AR(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}async function OR(e){await Z.rpc("increment_view_count",{profile_id:e}).catch(()=>{Z.from("profiles").select("view_count").eq("id",e).single().then(({data:t})=>{t&&Z.from("profiles").update({view_count:(t.view_count||0)+1}).eq("id",e)})})}function LR(){const{username:e}=S2(),t=xr(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[a,l]=b.useState("web");if(b.useEffect(()=>{async function c(){if(!e){i(!1);return}try{const{data:d,error:f}=await Z.from("profiles").select("*").eq("username",e).eq("is_active",!0).maybeSingle();if(f){console.error("Error loading profile:",f),i(!1);return}d&&(n(d),Ks(d.id,"view").catch(console.warn),OR(d.id).catch(console.warn))}catch(d){console.error("Unexpected error:",d)}finally{i(!1)}}c()},[e]),s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",children:o.jsx(C.div,{className:"h-12 w-12 border-4 border-yellow-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(!r)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 px-4",children:o.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Profil introuvable"}),o.jsx("p",{className:"text-gray-300",children:"Ce profil n'existe pas ou a t dsactiv."})]})});const u=async()=>{RR(r),Ks(r.id,"vcard_download").catch(console.warn)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Retour"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 backdrop-blur-md border border-yellow-500/20 rounded-full p-1",children:[o.jsxs(C.button,{onClick:()=>l("web"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="web"?"bg-yellow-500 text-gray-900":"text-gray-300 hover:text-white"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(XP,{className:"w-4 h-4 inline mr-1.5"}),"Web"]}),o.jsxs(C.button,{onClick:()=>l("card"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="card"?"bg-yellow-500 text-gray-900":"text-gray-300 hover:text-white"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(QP,{className:"w-4 h-4 inline mr-1.5"}),"Carte"]})]})]}),o.jsx(Qc,{mode:"wait",children:a==="card"?o.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"max-w-2xl mx-auto",children:[o.jsx(w1,{profile:r}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(S0,{onDownloadContact:u})})]},"card-view"):o.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-gray-800/50 border border-gray-700 rounded-2xl overflow-hidden backdrop-blur-sm",children:[o.jsx(TR,{fullName:r.full_name,title:r.title||void 0,tagline:r.tagline||void 0,profilePhotoUrl:r.profile_photo_url||void 0,isOnline:r.is_online||!0,locationCity:r.location_city||void 0,timezone:r.timezone||void 0,showLocalTime:r.show_local_time||!1}),o.jsxs("div",{className:"px-6 py-8 space-y-8",children:[r.mission_statement&&o.jsx(Dn,{delay:.1,children:o.jsxs("div",{className:"bg-gray-900/50 border-l-4 border-yellow-500 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Ma Mission"}),o.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:r.mission_statement})]})}),r.location_city&&o.jsx(Dn,{delay:.2,children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Ka,{icon:af,label:"Localisation",value:`${r.location_city}, ${r.location_country||"France"}`}),r.email&&o.jsx(Ka,{icon:kl,label:"Email",value:r.email,href:`mailto:${r.email}`,onClick:()=>Ks(r.id,"link_click",{type:"email"}).catch(console.warn)})]})}),r.video_url&&r.video_thumbnail_url&&o.jsx(Dn,{delay:.3,children:o.jsx(NR,{videoUrl:r.video_url,thumbnailUrl:r.video_thumbnail_url,duration:r.video_duration||0})}),o.jsx(Dn,{delay:.4,children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.phone&&o.jsx(Ka,{icon:Sl,label:"Tlphone",value:r.phone,href:`tel:${r.phone}`,onClick:()=>Ks(r.id,"link_click",{type:"phone"}).catch(console.warn)}),r.website&&o.jsx(Ka,{icon:rf,label:"Site web",value:r.website,href:r.website,onClick:()=>Ks(r.id,"link_click",{type:"website"}).catch(console.warn)})]})}),r.social_links&&Object.keys(r.social_links).length>0&&o.jsxs(Dn,{delay:.5,children:[o.jsx("h3",{className:"text-center text-sm font-semibold text-yellow-500 uppercase tracking-wider mb-4",children:"Me contacter"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.social_links.linkedin&&o.jsx(Tu,{platform:"linkedin",url:r.social_links.linkedin,label:"Connect"}),r.social_links.twitter&&o.jsx(Tu,{platform:"twitter",url:r.social_links.twitter,label:"Follow"}),r.social_links.instagram&&o.jsx(Tu,{platform:"instagram",url:r.social_links.instagram,label:"Follow"})]})]}),o.jsx(Dn,{delay:.6,children:o.jsx(S0,{onDownloadContact:u})})]})]},"web-view")}),o.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-8 px-4",children:o.jsx("a",{href:"/",className:"text-sm text-gray-400 hover:text-yellow-500 transition-colors inline-block",children:"Crez votre propre profil professionnel numrique"})})]})})}function IR(){const e=xr(),{profile:t}=ha(),{analytics:r,periods:n,loading:s,error:i}=n1(t==null?void 0:t.id);if(s)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center",children:o.jsx(C.div,{className:"h-12 w-12 border-4 border-gold-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(i)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center p-4",children:o.jsx(Re,{variant:"glassmorphism",className:"max-w-md",children:o.jsxs(ze,{children:[o.jsx("p",{className:"text-red-400 text-center",children:i}),o.jsx(U,{onClick:()=>e("/dashboard"),variant:"outline",fullWidth:!0,className:"mt-4",children:"Retour au tableau de bord"})]})})});if(!r||!n)return null;const a=r.deviceBreakdown.mobile+r.deviceBreakdown.desktop+r.deviceBreakdown.tablet,l=a>0?r.deviceBreakdown.mobile/a*100:0,u=a>0?r.deviceBreakdown.desktop/a*100:0,c=a>0?r.deviceBreakdown.tablet/a*100:0,d=h=>{const m=new Date(h);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(m)},f=h=>{switch(h){case"view":return"Vue";case"vcard_download":return"Tlchargement";case"link_click":return"Clic";default:return h}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900",children:[o.jsx("nav",{className:"bg-navy-900/80 backdrop-blur-md border-b border-gold-500/20 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-warmGray-300 hover:text-white transition-colors",children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Retour"})]}),o.jsx("h1",{className:"text-xl font-bold bg-gradient-gold bg-clip-text text-transparent",children:"Statistiques dtailles"}),o.jsx("div",{className:"w-24"})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(uf,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Statistiques"}],className:"mb-6"}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(zt,{to:"/edit",label:"Optimiser votre profil",description:"Amliorer vos informations pour plus de visibilit",icon:o.jsx(od,{className:"w-5 h-5"}),variant:"card"}),o.jsx(zt,{to:"/dashboard",label:"Partager votre carte",description:"Diffuser votre profil sur vos rseaux",icon:o.jsx(El,{className:"w-5 h-5"}),variant:"card"}),o.jsx(zt,{to:`/${t==null?void 0:t.username}`,label:"Voir votre profil public",description:"Dcouvrir comment les visiteurs vous voient",icon:o.jsx(js,{className:"w-5 h-5"}),variant:"card"})]}),o.jsxs(C.div,{variants:xi,initial:"initial",animate:"animate",className:"space-y-8",children:[o.jsxs(C.div,{variants:xt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(wi,{className:"w-6 h-6 text-gold-400"}),"Vue d'ensemble"]}),o.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[o.jsx(Re,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ze,{className:"text-center p-6",children:[o.jsx(js,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(ds,{value:r.totalViews,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Vues totales"})]})}),o.jsx(Re,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ze,{className:"text-center p-6",children:[o.jsx(Sn,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(ds,{value:r.totalDownloads,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Tlchargements"})]})}),o.jsx(Re,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ze,{className:"text-center p-6",children:[o.jsx(e1,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(ds,{value:r.totalLinkClicks,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Clics sur liens"})]})}),o.jsx(Re,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ze,{className:"text-center p-6",children:[o.jsx(wi,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsxs("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:[r.conversionRate.toFixed(1),"%"]}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Taux conversion"})]})})]})]}),o.jsxs(C.div,{variants:xt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Cu,{className:"w-6 h-6 text-gold-400"}),"Par priode"]}),o.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{label:"Aujourd'hui",data:n.today,icon:Yo},{label:"Cette semaine",data:n.thisWeek,icon:Cu},{label:"Ce mois",data:n.thisMonth,icon:Cu},{label:"Total",data:n.total,icon:wi}].map(h=>o.jsx(Re,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(h.icon,{className:"w-5 h-5 text-gold-400"}),o.jsx("h3",{className:"font-semibold text-white",children:h.label})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Vues"}),o.jsx("span",{className:"text-lg font-bold text-white",children:h.data.views})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Tlchargements"}),o.jsx("span",{className:"text-lg font-bold text-white",children:h.data.downloads})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Clics"}),o.jsx("span",{className:"text-lg font-bold text-white",children:h.data.clicks})]})]})]})},h.label))})]}),o.jsxs(C.div,{variants:xt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Xt,{className:"w-6 h-6 text-gold-400"}),"Rpartition par appareil"]}),o.jsx(Re,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsx(ze,{className:"p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Mobile"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.mobile," (",l.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${l}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(a4,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Desktop"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.desktop," (",u.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${u}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(f4,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Tablette"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.tablet," (",c.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${c}%`}})})]})]})})})]}),o.jsxs(C.div,{variants:xt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Yo,{className:"w-6 h-6 text-gold-400"}),"vnements rcents"]}),o.jsx(Re,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsx(ze,{className:"p-6",children:r.recentEvents.length===0?o.jsx("p",{className:"text-center text-warmGray-400 py-8",children:"Aucun vnement enregistr"}):o.jsx("div",{className:"space-y-3",children:r.recentEvents.map(h=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-navy-700/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-gold-400 rounded-full"}),o.jsx("span",{className:"text-white font-medium",children:f(h.event_type)}),o.jsx("span",{className:"text-sm text-warmGray-400 capitalize",children:h.device_type})]}),o.jsx("span",{className:"text-sm text-warmGray-400",children:d(h.created_at)})]},h.id))})})})]})]})]})]})}function DR(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-yellow-50",children:[o.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-warmGray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(q,{to:"/dashboard",className:"flex items-center gap-2 text-warmGray-700 hover:text-warmGray-900",children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Retour au tableau de bord"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[o.jsx(yr,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Guide NFC"})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsx(uf,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Configuration NFC"}],className:"mb-6"}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(zt,{to:"/test-nfc",label:"Tester ma configuration",description:"Vrifier que votre tag NFC fonctionne correctement",icon:o.jsx(B,{className:"w-5 h-5"}),variant:"card"}),o.jsx(zt,{to:"/dashboard",label:"Voir mon QR code",description:"Alternative au NFC pour partager votre profil",icon:o.jsx(El,{className:"w-5 h-5"}),variant:"card"})]}),o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-yellow-500 rounded-full mb-6",children:o.jsx(yr,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-warmGray-900 mb-4",children:"Guide complet de configuration NFC"}),o.jsx("p",{className:"text-xl text-warmGray-600 max-w-2xl mx-auto",children:"Transformez votre profil professionnel papier en exprience numrique interactive en quelques minutes"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-4",children:"Qu'est-ce que le NFC ?"}),o.jsxs("p",{className:"text-warmGray-700 leading-relaxed mb-4",children:["La technologie ",o.jsx("strong",{children:"Near Field Communication (NFC)"})," permet  deux appareils de communiquer lorsqu'ils sont rapprochs (quelques centimtres). C'est la mme technologie utilise pour le paiement sans contact avec votre carte bancaire."]}),o.jsx("p",{className:"text-warmGray-700 leading-relaxed",children:"En intgrant un tag NFC  votre profil professionnel, vos contacts peuvent simplement toucher votre carte avec leur smartphone pour accder instantanment  votre profil numrique - sans avoir  scanner un QR code ou taper une URL."})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("section",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-yellow-600 p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-white",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(d4,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"tape 1 : Choisir vos tags NFC"}),o.jsx("p",{className:"text-orange-100",children:"Investissement recommand : 5-20"})]})]})}),o.jsxs("div",{className:"p-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-warmGray-900 mb-4",children:"Type de tag recommand : NTAG213"}),o.jsx("p",{className:"text-warmGray-700 mb-6",children:"Le chip NTAG213 avec 144 octets de mmoire est parfait pour stocker une URL. Il est compatible avec tous les smartphones Android et iPhone (7 et plus rcents)."}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-2",children:"Stickers NFC"}),o.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:"Autocollants  coller au dos de vos cartes de visite existantes"}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{className:"text-warmGray-700",children:[o.jsx("strong",{children:"Taille :"})," 25-30mm"]}),o.jsxs("p",{className:"text-warmGray-700",children:[o.jsx("strong",{children:"Prix :"})," 0,30-0,80/pice"]})]})]}),o.jsxs("div",{className:"border border-warmGray-200 rounded-lg p-4 bg-orange-50 border-orange-300",children:[o.jsx("div",{className:"inline-block px-2 py-0.5 bg-orange-600 text-white text-xs font-semibold rounded mb-2",children:"Recommand"}),o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-2",children:"Cartes PVC NFC"}),o.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:"Cartes format carte de crdit avec puce NFC intgre"}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{className:"text-warmGray-700",children:[o.jsx("strong",{children:"Taille :"})," 85x54mm"]}),o.jsxs("p",{className:"text-warmGray-700",children:[o.jsx("strong",{children:"Prix :"})," 1-3/pice"]})]})]}),o.jsxs("div",{className:"border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-2",children:"Tags poxy"}),o.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:"Tags durables, rsistants  l'eau et aux chocs"}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{className:"text-warmGray-700",children:[o.jsx("strong",{children:"Taille :"})," 25-35mm"]}),o.jsxs("p",{className:"text-warmGray-700",children:[o.jsx("strong",{children:"Prix :"})," 0,80-1,50/pice"]})]})]})]}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-navy-800 mb-2",children:"O acheter vos tags NFC ?"}),o.jsxs("ul",{className:"space-y-2 text-sm text-navy-700",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Amazon :"}),' Recherchez "NTAG213 NFC stickers" - Livraison rapide']})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4"}),o.jsxs("span",{children:[o.jsx("strong",{children:"AliExpress :"})," Prix comptitifs pour commandes groupes"]})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(B,{className:"w-4 h-4"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Sites spcialiss :"})," NFCTagify, TagsNFC, Seritag - Qualit premium"]})]})]})]})]})]}),o.jsxs("section",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-white",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(Xt,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"tape 2 : Applications NFC"}),o.jsx("p",{className:"text-blue-100",children:"Installation gratuite - 2 minutes"})]})]})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"border border-green-300 bg-warmGray-50 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(Xt,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-warmGray-900",children:"Android"}),o.jsx("p",{className:"text-sm text-warmGray-600",children:"Version 4.0+"})]})]}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{className:"bg-white rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"NFC Tools"}),o.jsx("p",{className:"text-xs text-warmGray-600",children:"Interface intuitive, la plus populaire"})]}),o.jsx("div",{className:"px-2 py-1 bg-green-600 text-white text-xs font-semibold rounded",children:"#1"})]})}),o.jsxs("li",{className:"bg-white rounded-lg p-3",children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"NXP TagWriter"}),o.jsx("p",{className:"text-xs text-warmGray-600",children:"Par le fabricant des puces NFC"})]}),o.jsxs("li",{className:"bg-white rounded-lg p-3",children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"Trigger"}),o.jsx("p",{className:"text-xs text-warmGray-600",children:"Fonctionnalits avances"})]})]})]}),o.jsxs("div",{className:"border border-blue-300 bg-warmGray-50 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(Xt,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-warmGray-900",children:"iOS"}),o.jsx("p",{className:"text-sm text-warmGray-600",children:"iPhone 7+ (iOS 11+)"})]})]}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{className:"bg-white rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"NFC Tools"}),o.jsx("p",{className:"text-xs text-warmGray-600",children:"Version iOS disponible"})]}),o.jsx("div",{className:"px-2 py-1 bg-blue-600 text-white text-xs font-semibold rounded",children:"#1"})]})}),o.jsxs("li",{className:"bg-white rounded-lg p-3",children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"NFC TagWriter by NXP"}),o.jsx("p",{className:"text-xs text-warmGray-600",children:"Application officielle NXP"})]})]}),o.jsx("div",{className:"mt-4 bg-white rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-warmGray-700",children:[o.jsx("strong",{children:"Note :"})," La lecture NFC est automatique sur iOS 11+, pas besoin d'ouvrir une app"]})})]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-semibold text-yellow-900 mb-2 flex items-center gap-2",children:[o.jsx(Sn,{className:"w-5 h-5"}),"Installation rapide"]}),o.jsxs("ol",{className:"space-y-1 text-sm text-yellow-800",children:[o.jsx("li",{children:"1. Ouvrez le Google Play Store (Android) ou App Store (iOS)"}),o.jsx("li",{children:'2. Recherchez "NFC Tools"'}),o.jsx("li",{children:"3. Installez l'application (gratuite)"}),o.jsx("li",{children:"4. Ouvrez l'app et autorisez l'accs NFC"})]})]})]})]}),o.jsxs("section",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-white",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(Sn,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"tape 3 : Programmer vos tags"}),o.jsx("p",{className:"text-green-100",children:"Programmation : 30 secondes par tag"})]})]})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"bg-warmGray-50 border-2 border-blue-300 rounded-lg p-6 mb-6",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-3 text-lg",children:"Votre URL personnalise :"}),o.jsx("div",{className:"bg-white rounded-lg p-4 mb-3",children:o.jsx("p",{className:"font-mono text-blue-600 break-all",children:"https://votre-domaine.com/votre-username"})}),o.jsx("p",{className:"text-sm text-warmGray-600",children:"Cette URL est disponible sur votre tableau de bord. Copiez-la avant de commencer."})]}),o.jsx("h3",{className:"text-xl font-semibold text-warmGray-900 mb-4",children:"Tutoriel dtaill"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-1",children:"Ouvrez NFC Tools"}),o.jsx("p",{className:"text-warmGray-700 text-sm",children:"Lancez l'application NFC Tools que vous venez d'installer"})]})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-1",children:'Slectionnez "crire"'}),o.jsx("p",{className:"text-warmGray-700 text-sm",children:`Dans le menu principal, appuyez sur l'onglet "crire" ou "Write"`})]})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-1",children:"Ajoutez un enregistrement"}),o.jsxs("p",{className:"text-warmGray-700 text-sm mb-2",children:['Appuyez sur "Ajouter un enregistrement" puis slectionnez ',o.jsx("strong",{children:'"URL/URI"'})]}),o.jsx("div",{className:"bg-warmGray-50 rounded p-2 text-xs text-warmGray-600",children:`Ne choisissez pas "Texte" - slectionnez bien "URL/URI" pour que le lien s'ouvre automatiquement`})]})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-1",children:"Entrez votre URL"}),o.jsxs("p",{className:"text-warmGray-700 text-sm mb-2",children:["Collez ou tapez votre URL complte. Vrifiez qu'elle commence par ",o.jsx("code",{className:"bg-warmGray-100 px-1 rounded",children:"https://"})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2 text-xs text-yellow-800",children:[o.jsx("strong",{children:"Important :"}),` L'application peut pr-remplir "https://". Si vous collez une URL complte, supprimez le prfixe pour viter la duplication`]})]})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:"5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-1",children:"Validez et crivez"}),o.jsx("p",{className:"text-warmGray-700 text-sm",children:`Appuyez sur "OK" puis sur le bouton "crire" en bas de l'cran`})]})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:"6"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-1",children:"Placez votre tag"}),o.jsxs("p",{className:"text-warmGray-700 text-sm mb-2",children:["Placez votre tag NFC contre le dos de votre smartphone et ",o.jsx("strong",{children:"maintenez-le immobile"})]}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-2 text-xs text-red-800",children:[o.jsx("strong",{children:"Crucial :"})," Ne bougez pas le tag pendant 2-5 secondes. C'est la cause #1 des checs d'criture"]})]})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-warmGray-900 mb-1",children:"Confirmation"}),o.jsx("p",{className:"text-warmGray-700 text-sm",children:'Vous verrez un message "criture russie" ou "Write successful". Votre tag est prt !'})]})]})]})]})]}),o.jsxs("section",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-white",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(B,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"tape 4 : Test et utilisation"}),o.jsx("p",{className:"text-purple-100",children:"Validation finale"})]})]})}),o.jsxs("div",{className:"p-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-warmGray-900 mb-4",children:"Comment tester votre tag"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(B,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"Activez le NFC"}),o.jsxs("p",{className:"text-sm text-warmGray-600",children:["Sur Android : Paramtres  Connexions  NFC (gnralement activ par dfaut)",o.jsx("br",{}),"Sur iOS : Toujours actif sur iPhone 7+ avec iOS 11+"]})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(B,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"Placez le tag contre votre tlphone"}),o.jsx("p",{className:"text-sm text-warmGray-600",children:"Gnralement au dos du tlphone, prs de la camra ou au centre"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(B,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-warmGray-900",children:"Une notification apparat"}),o.jsx("p",{className:"text-sm text-warmGray-600",children:"Appuyez sur la notification pour ouvrir votre profil dans le navigateur"})]})]})]}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-6 mb-6",children:[o.jsxs("h4",{className:"font-semibold text-warmGray-900 mb-3 flex items-center gap-2",children:[o.jsx(t1,{className:"w-5 h-5 text-blue-600"}),"Bonnes pratiques d'utilisation"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-warmGray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-blue-600",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Emplacement optimal :"})," Collez le tag au centre du dos de votre profil professionnel"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-blue-600",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Logo NFC :"})," Ajoutez un petit symbole NFC sur le recto pour indiquer la prsence de la puce"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-blue-600",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Protection :"})," vitez de plier la carte ou de l'exposer  des aimants puissants"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-blue-600",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Instruction :"}),' Dites simplement "Touchez le dos de ma carte avec votre tlphone"']})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-blue-600",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Multiple tags :"})," Programmez 5-10 tags pour diffrentes occasions (runions, vnements)"]})]})]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Option avance : Verrouiller votre tag"}),o.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:'Une fois programm et test, vous pouvez "verrouiller" votre tag pour empcher toute modification accidentelle.'}),o.jsx("p",{className:"text-sm text-yellow-900 font-semibold",children:" Attention : Cette action est IRRVERSIBLE. Le tag ne pourra plus jamais tre modifi."})]}),o.jsx(q,{to:"/test-nfc",children:o.jsxs(U,{size:"lg",fullWidth:!0,children:[o.jsx(Xo,{className:"w-5 h-5 mr-2"}),"Tester l'affichage de mon profil"]})})]})]})]}),o.jsx("div",{className:"mt-12 text-center",children:o.jsx(q,{to:"/dashboard",children:o.jsxs(U,{size:"lg",variant:"outline",children:[o.jsx(Gr,{className:"w-5 h-5 mr-2"}),"Retour au tableau de bord"]})})})]})]})}function MR(){const{user:e}=Zt(),{profile:t}=ha(),[r,n]=b.useState(0),[s,i]=b.useState({type:"unknown",browser:"unknown",os:"unknown"});b.useEffect(()=>{const u=performance.now();window.addEventListener("load",()=>{const m=performance.now();n(Math.round(m-u))});const c=navigator.userAgent;let d="desktop",f="unknown",h="unknown";/mobile/i.test(c)?d="mobile":/tablet/i.test(c)&&(d="tablet"),/chrome/i.test(c)?f="Chrome":/safari/i.test(c)?f="Safari":/firefox/i.test(c)?f="Firefox":/edge/i.test(c)&&(f="Edge"),/android/i.test(c)?h="Android":/iphone|ipad/i.test(c)?h="iOS":/windows/i.test(c)?h="Windows":/mac/i.test(c)?h="MacOS":/linux/i.test(c)&&(h="Linux"),i({type:d,browser:f,os:h})},[]);const a=t?`${window.location.origin}/${t.username}`:"",l=s.type==="mobile"&&r<2e3;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-warmGray-50 via-white to-warmGray-100",children:[o.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-warmGray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(q,{to:"/dashboard",className:"flex items-center gap-2 text-warmGray-700 hover:text-navy-900",children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Retour au tableau de bord"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[o.jsx(B,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Test NFC"})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-500 to-teal-500 rounded-full mb-6",children:o.jsx(B,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-navy-900 mb-4",children:"Test de votre exprience NFC"}),o.jsx("p",{className:"text-xl text-warmGray-600 max-w-2xl mx-auto",children:"Vrifiez que votre profil s'affiche parfaitement lors d'un scan NFC"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("h2",{className:"text-2xl font-bold text-navy-900 mb-6 flex items-center gap-3",children:[o.jsx(Xt,{className:"w-7 h-7 text-gold-600"}),"Informations de l'appareil"]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-warmGray-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-warmGray-500 mb-1",children:"Type d'appareil"}),o.jsx("p",{className:"text-lg font-semibold text-navy-900 capitalize",children:s.type})]}),o.jsxs("div",{className:"bg-warmGray-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-warmGray-500 mb-1",children:"Navigateur"}),o.jsx("p",{className:"text-lg font-semibold text-navy-900",children:s.browser})]}),o.jsxs("div",{className:"bg-warmGray-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-warmGray-500 mb-1",children:"Systme"}),o.jsx("p",{className:"text-lg font-semibold text-navy-900",children:s.os})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("h2",{className:"text-2xl font-bold text-navy-900 mb-6 flex items-center gap-3",children:[o.jsx(j4,{className:"w-7 h-7 text-gold-600"}),"Performance de chargement"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-warmGray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Yo,{className:"w-6 h-6 text-warmGray-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-navy-900",children:"Temps de chargement"}),o.jsx("p",{className:"text-sm text-warmGray-600",children:"Mesure relle sur votre appareil"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-2xl font-bold text-navy-900",children:[r,"ms"]}),r<1e3&&o.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Excellent"}),r>=1e3&&r<2e3&&o.jsx("p",{className:"text-sm text-gold-600 font-medium",children:"Bon"}),r>=2e3&&o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:" amliorer"})]})]}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-navy-800 mb-2",children:"Recommandations :"}),o.jsxs("ul",{className:"space-y-2 text-sm text-navy-700",children:[r<1e3&&o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Temps de chargement optimal ! Vos contacts verront votre profil instantanment."})]}),r>=2e3&&o.jsxs(o.Fragment,{children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Ar,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Rduisez la taille de votre photo de profil (max 500KB recommand)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Ar,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"vitez d'ajouter trop de contenu multimdia (vidos lourdes)"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Pour un scan NFC optimal : moins de 2 secondes de chargement"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-navy-900 mb-6",children:"Compatibilit NFC"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[s.type==="mobile"?o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(B,{className:"w-6 h-6 text-green-600"})}):o.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Ar,{className:"w-6 h-6 text-gold-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-navy-900 mb-1",children:"Appareil mobile"}),s.type==="mobile"?o.jsx("p",{className:"text-sm text-warmGray-600",children:"Vous testez depuis un smartphone. C'est l'appareil idal pour simuler un scan NFC."}):o.jsxs("p",{className:"text-sm text-warmGray-600",children:["Vous testez depuis un ",s.type,". Pour un test raliste, utilisez votre smartphone."]})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[s.os==="iOS"||s.os==="Android"?o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(B,{className:"w-6 h-6 text-green-600"})}):o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(b4,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-navy-900 mb-1",children:"Systme d'exploitation"}),s.os==="iOS"?o.jsx("p",{className:"text-sm text-warmGray-600",children:"iOS dtect. La lecture NFC est automatique sur iPhone 7+ avec iOS 11+."}):s.os==="Android"?o.jsx("p",{className:"text-sm text-warmGray-600",children:"Android dtect. La lecture NFC fonctionne sur Android 4.0+ avec NFC activ."}):o.jsxs("p",{className:"text-sm text-warmGray-600",children:["Systme ",s.os," dtect. Le NFC ncessite iOS ou Android."]})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[r<3e3?o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(B,{className:"w-6 h-6 text-green-600"})}):o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Ar,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-navy-900 mb-1",children:"Vitesse de chargement"}),r<3e3?o.jsx("p",{className:"text-sm text-warmGray-600",children:"Votre profil se charge rapidement. L'exprience NFC sera fluide."}):o.jsx("p",{className:"text-sm text-warmGray-600",children:"Le chargement pourrait tre optimis. Rduisez la taille de vos images."})]})]})]})]}),l&&o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 rounded-2xl shadow-xl p-8 text-white",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(B,{className:"w-7 h-7"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Configuration optimale !"}),o.jsx("p",{className:"text-green-50 leading-relaxed",children:"Votre profil est parfaitement configur pour une exprience NFC fluide. Vos contacts verront votre carte instantanment lors du scan."})]})]})}),t&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-navy-900 mb-4",children:"Tester votre profil public"}),o.jsx("p",{className:"text-warmGray-600 mb-6",children:"Visitez votre profil comme le verrait quelqu'un qui scanne votre tag NFC :"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(q,{to:`/${t.username}`,target:"_blank",className:"flex-1",children:o.jsx(U,{fullWidth:!0,size:"lg",children:"Voir mon profil public"})}),o.jsx(U,{variant:"outline",fullWidth:!0,size:"lg",onClick:()=>{navigator.clipboard.writeText(a),alert("URL copie ! Vous pouvez la tester sur un autre appareil.")},children:"Copier l'URL"})]})]}),o.jsxs("div",{className:"bg-warmGray-50 border border-warmGray-200 rounded-2xl p-6",children:[o.jsx("h3",{className:"font-semibold text-navy-800 mb-3",children:"Conseils pour un test raliste"}),o.jsxs("ul",{className:"space-y-2 text-sm text-navy-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Testez sur plusieurs appareils (Android et iOS)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Vrifiez la lisibilit en mode navigation prive"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Simulez une mauvaise connexion (mode avion puis 3G)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(B,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Demandez  un ami de tester avec son tlphone"})]})]})]})]}),o.jsxs("div",{className:"mt-12 text-center space-y-4",children:[o.jsx(q,{to:"/dashboard",children:o.jsxs(U,{size:"lg",variant:"outline",children:[o.jsx(Gr,{className:"w-5 h-5 mr-2"}),"Retour au tableau de bord"]})}),o.jsxs("p",{className:"text-sm text-warmGray-500",children:["Besoin d'aide ? Consultez notre"," ",o.jsx(q,{to:"/nfc-setup",className:"text-gold-600 hover:underline font-medium",children:"guide NFC complet"})]})]})]})]})}function Mn({children:e}){const{user:t,loading:r}=Zt();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(Qy,{to:"/login"})}function E0({children:e}){const{user:t,loading:r}=Zt();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?o.jsx(Qy,{to:"/dashboard"}):o.jsx(o.Fragment,{children:e})}function FR(){return o.jsx(c_,{children:o.jsx(Vk,{children:o.jsxs(V2,{children:[o.jsx(Ct,{path:"/",element:o.jsx(k4,{})}),o.jsx(Ct,{path:"/login",element:o.jsx(E0,{children:o.jsx(S4,{})})}),o.jsx(Ct,{path:"/signup",element:o.jsx(E0,{children:o.jsx(E4,{})})}),o.jsx(Ct,{path:"/onboarding",element:o.jsx(Mn,{children:o.jsx(R4,{})})}),o.jsx(Ct,{path:"/dashboard",element:o.jsx(Mn,{children:o.jsx(oR,{})})}),o.jsx(Ct,{path:"/edit",element:o.jsx(Mn,{children:o.jsx(jR,{})})}),o.jsx(Ct,{path:"/analytics",element:o.jsx(Mn,{children:o.jsx(IR,{})})}),o.jsx(Ct,{path:"/nfc-setup",element:o.jsx(Mn,{children:o.jsx(DR,{})})}),o.jsx(Ct,{path:"/test-nfc",element:o.jsx(Mn,{children:o.jsx(MR,{})})}),o.jsx(Ct,{path:"/:username",element:o.jsx(LR,{})})]})})})}zy(document.getElementById("root")).render(o.jsx(b.StrictMode,{children:o.jsx(FR,{})}));
