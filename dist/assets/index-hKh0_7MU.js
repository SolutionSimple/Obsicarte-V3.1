function pb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ig(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ag={exports:{}},cl={},og={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),yb=Symbol.for("react.portal"),vb=Symbol.for("react.fragment"),xb=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),bb=Symbol.for("react.provider"),jb=Symbol.for("react.context"),_b=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),kb=Symbol.for("react.memo"),Nb=Symbol.for("react.lazy"),Lf=Symbol.iterator;function Eb(e){return e===null||typeof e!="object"?null:(e=Lf&&e[Lf]||e["@@iterator"],typeof e=="function"?e:null)}var lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,ug={};function Es(e,t,r){this.props=e,this.context=t,this.refs=ug,this.updater=r||lg}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dg(){}dg.prototype=Es.prototype;function kd(e,t,r){this.props=e,this.context=t,this.refs=ug,this.updater=r||lg}var Nd=kd.prototype=new dg;Nd.constructor=kd;cg(Nd,Es.prototype);Nd.isPureReactComponent=!0;var Df=Array.isArray,hg=Object.prototype.hasOwnProperty,Ed={current:null},fg={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)hg.call(t,n)&&!fg.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ta,type:e,key:i,ref:a,props:s,_owner:Ed.current}}function Cb(e,t){return{$$typeof:ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ta}function Pb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Mf=/\/+/g;function Ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pb(""+e.key):t.toString(36)}function Za(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ta:case yb:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ul(a,0):n,Df(s)?(r="",e!=null&&(r=e.replace(Mf,"$&/")+"/"),Za(s,t,r,"",function(u){return u})):s!=null&&(Cd(s)&&(s=Cb(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Mf,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Df(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ul(i,l);a+=Za(i,t,r,c,s)}else if(c=Eb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ul(i,l++),a+=Za(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pa(e,t,r){if(e==null)return e;var n=[],s=0;return Za(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Tb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},eo={transition:null},Rb={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:eo,ReactCurrentOwner:Ed};function pg(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:pa,forEach:function(e,t,r){pa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pa(e,function(){t++}),t},toArray:function(e){return pa(e,function(t){return t})||[]},only:function(e){if(!Cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Es;H.Fragment=vb;H.Profiler=wb;H.PureComponent=kd;H.StrictMode=xb;H.Suspense=Sb;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rb;H.act=pg;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cg({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ed.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)hg.call(t,c)&&!fg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ta,type:e.type,key:s,ref:i,props:n,_owner:a}};H.createContext=function(e){return e={$$typeof:jb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bb,_context:e},e.Consumer=e};H.createElement=mg;H.createFactory=function(e){var t=mg.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:_b,render:e}};H.isValidElement=Cd;H.lazy=function(e){return{$$typeof:Nb,_payload:{_status:-1,_result:e},_init:Tb}};H.memo=function(e,t){return{$$typeof:kb,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=eo.transition;eo.transition={};try{e()}finally{eo.transition=t}};H.unstable_act=pg;H.useCallback=function(e,t){return tt.current.useCallback(e,t)};H.useContext=function(e){return tt.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};H.useEffect=function(e,t){return tt.current.useEffect(e,t)};H.useId=function(){return tt.current.useId()};H.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return tt.current.useMemo(e,t)};H.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};H.useRef=function(e){return tt.current.useRef(e)};H.useState=function(e){return tt.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return tt.current.useTransition()};H.version="18.3.1";og.exports=H;var b=og.exports;const ne=ig(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=b,Ob=Symbol.for("react.element"),Ib=Symbol.for("react.fragment"),Lb=Object.prototype.hasOwnProperty,Db=Ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mb={key:!0,ref:!0,__self:!0,__source:!0};function gg(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Lb.call(t,n)&&!Mb.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ob,type:e,key:i,ref:a,props:s,_owner:Db.current}}cl.Fragment=Ib;cl.jsx=gg;cl.jsxs=gg;ag.exports=cl;var o=ag.exports,yg={exports:{}},bt={},vg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,D){var I=P.length;P.push(D);e:for(;0<I;){var F=I-1>>>1,z=P[F];if(0<s(z,D))P[F]=D,P[I]=z,I=F;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var D=P[0],I=P.pop();if(I!==D){P[0]=I;e:for(var F=0,z=P.length,ee=z>>>1;F<ee;){var K=2*(F+1)-1,Be=P[K],Ke=K+1,or=P[Ke];if(0>s(Be,I))Ke<z&&0>s(or,Be)?(P[F]=or,P[Ke]=I,F=Ke):(P[F]=Be,P[K]=I,F=K);else if(Ke<z&&0>s(or,I))P[F]=or,P[Ke]=I,F=Ke;else break e}}return D}function s(P,D){var I=P.sortIndex-D.sortIndex;return I!==0?I:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=P)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function j(P){if(v=!1,x(P),!p)if(r(c)!==null)p=!0,Ue(_);else{var D=r(u);D!==null&&G(j,D.startTime-P)}}function _(P,D){p=!1,v&&(v=!1,g(k),k=-1),m=!0;var I=f;try{for(x(D),h=r(c);h!==null&&(!(h.expirationTime>D)||P&&!$());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var z=F(h.expirationTime<=D);D=e.unstable_now(),typeof z=="function"?h.callback=z:h===r(c)&&n(c),x(D)}else n(c);h=r(c)}if(h!==null)var ee=!0;else{var K=r(u);K!==null&&G(j,K.startTime-D),ee=!1}return ee}finally{h=null,f=I,m=!1}}var S=!1,N=null,k=-1,E=5,R=-1;function $(){return!(e.unstable_now()-R<E)}function X(){if(N!==null){var P=e.unstable_now();R=P;var D=!0;try{D=N(!0,P)}finally{D?J():(S=!1,N=null)}}else S=!1}var J;if(typeof y=="function")J=function(){y(X)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,le=ge.port2;ge.port1.onmessage=X,J=function(){le.postMessage(null)}}else J=function(){w(X,0)};function Ue(P){N=P,S||(S=!0,J())}function G(P,D){k=w(function(){P(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,Ue(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var I=f;f=D;try{return P()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=f;f=P;try{return D()}finally{f=I}},e.unstable_scheduleCallback=function(P,D,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=I+z,P={id:d++,callback:D,priorityLevel:P,startTime:I,expirationTime:z,sortIndex:-1},I>F?(P.sortIndex=I,t(u,P),r(c)===null&&P===r(u)&&(v?(g(k),k=-1):v=!0,G(j,I-F))):(P.sortIndex=z,t(c,P),p||m||(p=!0,Ue(_))),P},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(P){var D=f;return function(){var I=f;f=D;try{return P.apply(this,arguments)}finally{f=I}}}})(xg);vg.exports=xg;var $b=vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb=b,xt=$b;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wg=new Set,Si={};function Rn(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(Si[e]=t,e=0;e<t.length;e++)wg.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=Object.prototype.hasOwnProperty,Vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$f={},Ff={};function Ub(e){return zc.call(Ff,e)?!0:zc.call($f,e)?!1:Vb.test(e)?Ff[e]=!0:($f[e]=!0,!1)}function Bb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zb(e,t,r,n){if(t===null||typeof t>"u"||Bb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pd=/[\-:]([a-z])/g;function Td(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pd,Td);Ve[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pd,Td);Ve[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pd,Td);Ve[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rd(e,t,r,n){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zb(t,r,s,n)&&(r=null),n||s===null?Ub(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sr=Fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ga=Symbol.for("react.element"),Bn=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),Ad=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),jg=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),_g=Symbol.for("react.offscreen"),Vf=Symbol.iterator;function Bs(e){return e===null||typeof e!="object"?null:(e=Vf&&e[Vf]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Bl;function ei(e){if(Bl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var zl=!1;function Wl(e,t){if(!e||zl)return"";zl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{zl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ei(e):""}function Wb(e){switch(e.tag){case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function qc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case Bn:return"Portal";case Wc:return"Profiler";case Ad:return"StrictMode";case Gc:return"Suspense";case Hc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jg:return(e.displayName||"Context")+".Consumer";case bg:return(e._context.displayName||"Context")+".Provider";case Od:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Id:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}function Gb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qc(t);case 8:return t===Ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hb(e){var t=Sg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ya(e){e._valueTracker||(e._valueTracker=Hb(e))}function kg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Sg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kc(e,t){var r=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Uf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ng(e,t){t=t.checked,t!=null&&Rd(e,"checked",t,!1)}function Jc(e,t){Ng(e,t);var r=Gr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Yc(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Yc(e,t,r){(t!=="number"||_o(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ti=Array.isArray;function is(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(ti(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gr(r)}}function Eg(e,t){var r=Gr(t.value),n=Gr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Wf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var va,Pg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(va=va||document.createElement("div"),va.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=va.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ki(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){qb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function Tg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function Rg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Tg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Kb=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zc(e,t){if(t){if(Kb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function eu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=null;function Ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ru=null,as=null,os=null;function Gf(e){if(e=sa(e)){if(typeof ru!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ml(t),ru(e.stateNode,e.type,t))}}function Ag(e){as?os?os.push(e):os=[e]:as=e}function Og(){if(as){var e=as,t=os;if(os=as=null,Gf(e),t)for(e=0;e<t.length;e++)Gf(t[e])}}function Ig(e,t){return e(t)}function Lg(){}var Gl=!1;function Dg(e,t,r){if(Gl)return e(t,r);Gl=!0;try{return Ig(e,t,r)}finally{Gl=!1,(as!==null||os!==null)&&(Lg(),Og())}}function Ni(e,t){var r=e.stateNode;if(r===null)return null;var n=ml(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var nu=!1;if(gr)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){nu=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{nu=!1}function Jb(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var oi=!1,So=null,ko=!1,su=null,Yb={onError:function(e){oi=!0,So=e}};function Qb(e,t,r,n,s,i,a,l,c){oi=!1,So=null,Jb.apply(Yb,arguments)}function Xb(e,t,r,n,s,i,a,l,c){if(Qb.apply(this,arguments),oi){if(oi){var u=So;oi=!1,So=null}else throw Error(T(198));ko||(ko=!0,su=u)}}function An(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hf(e){if(An(e)!==e)throw Error(T(188))}function Zb(e){var t=e.alternate;if(!t){if(t=An(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Hf(s),e;if(i===n)return Hf(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function $g(e){return e=Zb(e),e!==null?Fg(e):null}function Fg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fg(e);if(t!==null)return t;e=e.sibling}return null}var Vg=xt.unstable_scheduleCallback,qf=xt.unstable_cancelCallback,ej=xt.unstable_shouldYield,tj=xt.unstable_requestPaint,je=xt.unstable_now,rj=xt.unstable_getCurrentPriorityLevel,Dd=xt.unstable_ImmediatePriority,Ug=xt.unstable_UserBlockingPriority,No=xt.unstable_NormalPriority,nj=xt.unstable_LowPriority,Bg=xt.unstable_IdlePriority,ul=null,rr=null;function sj(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:oj,ij=Math.log,aj=Math.LN2;function oj(e){return e>>>=0,e===0?32:31-(ij(e)/aj|0)|0}var xa=64,wa=4194304;function ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=ri(l):(i&=a,i!==0&&(n=ri(i)))}else a=r&~s,a!==0?n=ri(a):i!==0&&(n=ri(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gt(t),s=1<<r,n|=e[r],t&=~s;return n}function lj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Gt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=lj(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zg(){var e=xa;return xa<<=1,!(xa&4194240)&&(xa=64),e}function Hl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ra(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=r}function uj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Gt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Md(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Z=0;function Wg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gg,$d,Hg,qg,Kg,au=!1,ba=[],Mr=null,$r=null,Fr=null,Ei=new Map,Ci=new Map,Ar=[],dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Ws(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=sa(t),t!==null&&$d(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hj(e,t,r,n,s){switch(t){case"focusin":return Mr=Ws(Mr,e,t,r,n,s),!0;case"dragenter":return $r=Ws($r,e,t,r,n,s),!0;case"mouseover":return Fr=Ws(Fr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ei.set(i,Ws(Ei.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ci.set(i,Ws(Ci.get(i)||null,e,t,r,n,s)),!0}return!1}function Jg(e){var t=mn(e.target);if(t!==null){var r=An(t);if(r!==null){if(t=r.tag,t===13){if(t=Mg(r),t!==null){e.blockedOn=t,Kg(e.priority,function(){Hg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ou(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tu=n,r.target.dispatchEvent(n),tu=null}else return t=sa(r),t!==null&&$d(t),e.blockedOn=r,!1;t.shift()}return!0}function Jf(e,t,r){to(e)&&r.delete(t)}function fj(){au=!1,Mr!==null&&to(Mr)&&(Mr=null),$r!==null&&to($r)&&($r=null),Fr!==null&&to(Fr)&&(Fr=null),Ei.forEach(Jf),Ci.forEach(Jf)}function Gs(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,fj)))}function Pi(e){function t(s){return Gs(s,e)}if(0<ba.length){Gs(ba[0],e);for(var r=1;r<ba.length;r++){var n=ba[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mr!==null&&Gs(Mr,e),$r!==null&&Gs($r,e),Fr!==null&&Gs(Fr,e),Ei.forEach(t),Ci.forEach(t),r=0;r<Ar.length;r++)n=Ar[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)Jg(r),r.blockedOn===null&&Ar.shift()}var ls=Sr.ReactCurrentBatchConfig,Co=!0;function mj(e,t,r,n){var s=Z,i=ls.transition;ls.transition=null;try{Z=1,Fd(e,t,r,n)}finally{Z=s,ls.transition=i}}function pj(e,t,r,n){var s=Z,i=ls.transition;ls.transition=null;try{Z=4,Fd(e,t,r,n)}finally{Z=s,ls.transition=i}}function Fd(e,t,r,n){if(Co){var s=ou(e,t,r,n);if(s===null)rc(e,t,n,Po,r),Kf(e,n);else if(hj(s,e,t,r,n))n.stopPropagation();else if(Kf(e,n),t&4&&-1<dj.indexOf(e)){for(;s!==null;){var i=sa(s);if(i!==null&&Gg(i),i=ou(e,t,r,n),i===null&&rc(e,t,n,Po,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else rc(e,t,n,null,r)}}var Po=null;function ou(e,t,r,n){if(Po=null,e=Ld(n),e=mn(e),e!==null)if(t=An(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Po=e,null}function Yg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rj()){case Dd:return 1;case Ug:return 4;case No:case nj:return 16;case Bg:return 536870912;default:return 16}default:return 16}}var Lr=null,Vd=null,ro=null;function Qg(){if(ro)return ro;var e,t=Vd,r=t.length,n,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ro=s.slice(e,1<n?1-n:void 0)}function no(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ja(){return!0}function Yf(){return!1}function jt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ja:Yf,this.isPropagationStopped=Yf,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=jt(Cs),na=pe({},Cs,{view:0,detail:0}),gj=jt(na),ql,Kl,Hs,dl=pe({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(ql=e.screenX-Hs.screenX,Kl=e.screenY-Hs.screenY):Kl=ql=0,Hs=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),Qf=jt(dl),yj=pe({},dl,{dataTransfer:0}),vj=jt(yj),xj=pe({},na,{relatedTarget:0}),Jl=jt(xj),wj=pe({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),bj=jt(wj),jj=pe({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_j=jt(jj),Sj=pe({},Cs,{data:0}),Xf=jt(Sj),kj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ej={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ej[e])?!!t[e]:!1}function Bd(){return Cj}var Pj=pe({},na,{key:function(e){if(e.key){var t=kj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=no(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bd,charCode:function(e){return e.type==="keypress"?no(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?no(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tj=jt(Pj),Rj=pe({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=jt(Rj),Aj=pe({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bd}),Oj=jt(Aj),Ij=pe({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lj=jt(Ij),Dj=pe({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mj=jt(Dj),$j=[9,13,27,32],zd=gr&&"CompositionEvent"in window,li=null;gr&&"documentMode"in document&&(li=document.documentMode);var Fj=gr&&"TextEvent"in window&&!li,Xg=gr&&(!zd||li&&8<li&&11>=li),em=" ",tm=!1;function Zg(e,t){switch(e){case"keyup":return $j.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wn=!1;function Vj(e,t){switch(e){case"compositionend":return ey(t);case"keypress":return t.which!==32?null:(tm=!0,em);case"textInput":return e=t.data,e===em&&tm?null:e;default:return null}}function Uj(e,t){if(Wn)return e==="compositionend"||!zd&&Zg(e,t)?(e=Qg(),ro=Vd=Lr=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xg&&t.locale!=="ko"?null:t.data;default:return null}}var Bj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bj[e.type]:t==="textarea"}function ty(e,t,r,n){Ag(n),t=To(t,"onChange"),0<t.length&&(r=new Ud("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ci=null,Ti=null;function zj(e){hy(e,0)}function hl(e){var t=qn(e);if(kg(t))return e}function Wj(e,t){if(e==="change")return t}var ry=!1;if(gr){var Yl;if(gr){var Ql="oninput"in document;if(!Ql){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),Ql=typeof nm.oninput=="function"}Yl=Ql}else Yl=!1;ry=Yl&&(!document.documentMode||9<document.documentMode)}function sm(){ci&&(ci.detachEvent("onpropertychange",ny),Ti=ci=null)}function ny(e){if(e.propertyName==="value"&&hl(Ti)){var t=[];ty(t,Ti,e,Ld(e)),Dg(zj,t)}}function Gj(e,t,r){e==="focusin"?(sm(),ci=t,Ti=r,ci.attachEvent("onpropertychange",ny)):e==="focusout"&&sm()}function Hj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(Ti)}function qj(e,t){if(e==="click")return hl(t)}function Kj(e,t){if(e==="input"||e==="change")return hl(t)}function Jj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Jj;function Ri(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!zc.call(t,s)||!Kt(e[s],t[s]))return!1}return!0}function im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function am(e,t){var r=im(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=im(r)}}function sy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iy(){for(var e=window,t=_o();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_o(e.document)}return t}function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yj(e){var t=iy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sy(r.ownerDocument.documentElement,r)){if(n!==null&&Wd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=am(r,i);var a=am(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qj=gr&&"documentMode"in document&&11>=document.documentMode,Gn=null,lu=null,ui=null,cu=!1;function om(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cu||Gn==null||Gn!==_o(n)||(n=Gn,"selectionStart"in n&&Wd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ui&&Ri(ui,n)||(ui=n,n=To(lu,"onSelect"),0<n.length&&(t=new Ud("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gn)))}function _a(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hn={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},Xl={},ay={};gr&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function fl(e){if(Xl[e])return Xl[e];if(!Hn[e])return e;var t=Hn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ay)return Xl[e]=t[r];return e}var oy=fl("animationend"),ly=fl("animationiteration"),cy=fl("animationstart"),uy=fl("transitionend"),dy=new Map,lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){dy.set(e,t),Rn(t,[e])}for(var Zl=0;Zl<lm.length;Zl++){var ec=lm[Zl],Xj=ec.toLowerCase(),Zj=ec[0].toUpperCase()+ec.slice(1);Kr(Xj,"on"+Zj)}Kr(oy,"onAnimationEnd");Kr(ly,"onAnimationIteration");Kr(cy,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(uy,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function cm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xb(n,t,void 0,e),e.currentTarget=null}function hy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;cm(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;cm(s,l,u),i=c}}}if(ko)throw e=su,ko=!1,su=null,e}function ie(e,t){var r=t[mu];r===void 0&&(r=t[mu]=new Set);var n=e+"__bubble";r.has(n)||(fy(t,e,2,!1),r.add(n))}function tc(e,t,r){var n=0;t&&(n|=4),fy(r,e,n,t)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[Sa]){e[Sa]=!0,wg.forEach(function(r){r!=="selectionchange"&&(e2.has(r)||tc(r,!1,e),tc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sa]||(t[Sa]=!0,tc("selectionchange",!1,t))}}function fy(e,t,r,n){switch(Yg(t)){case 1:var s=mj;break;case 4:s=pj;break;default:s=Fd}r=s.bind(null,t,r,e),s=void 0,!nu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function rc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=mn(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Dg(function(){var u=i,d=Ld(r),h=[];e:{var f=dy.get(e);if(f!==void 0){var m=Ud,p=e;switch(e){case"keypress":if(no(r)===0)break e;case"keydown":case"keyup":m=Tj;break;case"focusin":p="focus",m=Jl;break;case"focusout":p="blur",m=Jl;break;case"beforeblur":case"afterblur":m=Jl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Oj;break;case oy:case ly:case cy:m=bj;break;case uy:m=Lj;break;case"scroll":m=gj;break;case"wheel":m=Mj;break;case"copy":case"cut":case"paste":m=_j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zf}var v=(t&4)!==0,w=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,g!==null&&(j=Ni(y,g),j!=null&&v.push(Oi(y,j,x)))),w)break;y=y.return}0<v.length&&(f=new m(f,p,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==tu&&(p=r.relatedTarget||r.fromElement)&&(mn(p)||p[yr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?mn(p):null,p!==null&&(w=An(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=Qf,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Zf,j="onPointerLeave",g="onPointerEnter",y="pointer"),w=m==null?f:qn(m),x=p==null?f:qn(p),f=new v(j,y+"leave",m,r,d),f.target=w,f.relatedTarget=x,j=null,mn(d)===u&&(v=new v(g,y+"enter",p,r,d),v.target=x,v.relatedTarget=w,j=v),w=j,m&&p)t:{for(v=m,g=p,y=0,x=v;x;x=On(x))y++;for(x=0,j=g;j;j=On(j))x++;for(;0<y-x;)v=On(v),y--;for(;0<x-y;)g=On(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=On(v),g=On(g)}v=null}else v=null;m!==null&&um(h,f,m,v,!1),p!==null&&w!==null&&um(h,w,p,v,!0)}}e:{if(f=u?qn(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=Wj;else if(rm(f))if(ry)_=Kj;else{_=Hj;var S=Gj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=qj);if(_&&(_=_(e,u))){ty(h,_,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Yc(f,"number",f.value)}switch(S=u?qn(u):window,e){case"focusin":(rm(S)||S.contentEditable==="true")&&(Gn=S,lu=u,ui=null);break;case"focusout":ui=lu=Gn=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,om(h,r,d);break;case"selectionchange":if(Qj)break;case"keydown":case"keyup":om(h,r,d)}var N;if(zd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?Zg(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Xg&&r.locale!=="ko"&&(Wn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wn&&(N=Qg()):(Lr=d,Vd="value"in Lr?Lr.value:Lr.textContent,Wn=!0)),S=To(u,k),0<S.length&&(k=new Xf(k,e,null,r,d),h.push({event:k,listeners:S}),N?k.data=N:(N=ey(r),N!==null&&(k.data=N)))),(N=Fj?Vj(e,r):Uj(e,r))&&(u=To(u,"onBeforeInput"),0<u.length&&(d=new Xf("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}hy(h,t)})}function Oi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function To(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ni(e,r),i!=null&&n.unshift(Oi(e,i,s)),i=Ni(e,t),i!=null&&n.push(Oi(e,i,s))),e=e.return}return n}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function um(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ni(r,i),c!=null&&a.unshift(Oi(r,c,l))):s||(c=Ni(r,i),c!=null&&a.push(Oi(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var t2=/\r\n?/g,r2=/\u0000|\uFFFD/g;function dm(e){return(typeof e=="string"?e:""+e).replace(t2,`
`).replace(r2,"")}function ka(e,t,r){if(t=dm(t),dm(e)!==t&&r)throw Error(T(425))}function Ro(){}var uu=null,du=null;function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,s2=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(e){return hm.resolve(null).then(e).catch(i2)}:fu;function i2(e){setTimeout(function(){throw e})}function nc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pi(t)}function Vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ps,Ii="__reactProps$"+Ps,yr="__reactContainer$"+Ps,mu="__reactEvents$"+Ps,a2="__reactListeners$"+Ps,o2="__reactHandles$"+Ps;function mn(e){var t=e[Zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yr]||r[Zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fm(e);e!==null;){if(r=e[Zt])return r;e=fm(e)}return t}e=r,r=e.parentNode}return null}function sa(e){return e=e[Zt]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ml(e){return e[Ii]||null}var pu=[],Kn=-1;function Jr(e){return{current:e}}function ae(e){0>Kn||(e.current=pu[Kn],pu[Kn]=null,Kn--)}function se(e,t){Kn++,pu[Kn]=e.current,e.current=t}var Hr={},qe=Jr(Hr),at=Jr(!1),kn=Hr;function ps(e,t){var r=e.type.contextTypes;if(!r)return Hr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ot(e){return e=e.childContextTypes,e!=null}function Ao(){ae(at),ae(qe)}function mm(e,t,r){if(qe.current!==Hr)throw Error(T(168));se(qe,t),se(at,r)}function my(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,Gb(e)||"Unknown",s));return pe({},r,n)}function Oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,kn=qe.current,se(qe,e),se(at,at.current),!0}function pm(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=my(e,t,kn),n.__reactInternalMemoizedMergedChildContext=e,ae(at),ae(qe),se(qe,e)):ae(at),se(at,r)}var dr=null,pl=!1,sc=!1;function py(e){dr===null?dr=[e]:dr.push(e)}function l2(e){pl=!0,py(e)}function Yr(){if(!sc&&dr!==null){sc=!0;var e=0,t=Z;try{var r=dr;for(Z=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dr=null,pl=!1}catch(s){throw dr!==null&&(dr=dr.slice(e+1)),Vg(Dd,Yr),s}finally{Z=t,sc=!1}}return null}var Jn=[],Yn=0,Io=null,Lo=0,Ct=[],Pt=0,Nn=null,hr=1,fr="";function on(e,t){Jn[Yn++]=Lo,Jn[Yn++]=Io,Io=e,Lo=t}function gy(e,t,r){Ct[Pt++]=hr,Ct[Pt++]=fr,Ct[Pt++]=Nn,Nn=e;var n=hr;e=fr;var s=32-Gt(n)-1;n&=~(1<<s),r+=1;var i=32-Gt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,hr=1<<32-Gt(t)+s|r<<s|n,fr=i+e}else hr=1<<i|r<<s|n,fr=e}function Gd(e){e.return!==null&&(on(e,1),gy(e,1,0))}function Hd(e){for(;e===Io;)Io=Jn[--Yn],Jn[Yn]=null,Lo=Jn[--Yn],Jn[Yn]=null;for(;e===Nn;)Nn=Ct[--Pt],Ct[Pt]=null,fr=Ct[--Pt],Ct[Pt]=null,hr=Ct[--Pt],Ct[Pt]=null}var vt=null,yt=null,ce=!1,zt=null;function yy(e,t){var r=Tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nn!==null?{id:hr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vt=e,yt=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yu(e){if(ce){var t=yt;if(t){var r=t;if(!gm(e,t)){if(gu(e))throw Error(T(418));t=Vr(r.nextSibling);var n=vt;t&&gm(e,t)?yy(n,r):(e.flags=e.flags&-4097|2,ce=!1,vt=e)}}else{if(gu(e))throw Error(T(418));e.flags=e.flags&-4097|2,ce=!1,vt=e}}}function ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Na(e){if(e!==vt)return!1;if(!ce)return ym(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hu(e.type,e.memoizedProps)),t&&(t=yt)){if(gu(e))throw vy(),Error(T(418));for(;t;)yy(e,t),t=Vr(t.nextSibling)}if(ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=Vr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Vr(e.stateNode.nextSibling):null;return!0}function vy(){for(var e=yt;e;)e=Vr(e.nextSibling)}function gs(){yt=vt=null,ce=!1}function qd(e){zt===null?zt=[e]:zt.push(e)}var c2=Sr.ReactCurrentBatchConfig;function qs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Ea(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vm(e){var t=e._init;return t(e._payload)}function xy(e){function t(g,y){if(e){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Wr(g,y),g.index=0,g.sibling=null,g}function i(g,y,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,x,j){return y===null||y.tag!==6?(y=dc(x,g.mode,j),y.return=g,y):(y=s(y,x),y.return=g,y)}function c(g,y,x,j){var _=x.type;return _===zn?d(g,y,x.props.children,j,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pr&&vm(_)===y.type)?(j=s(y,x.props),j.ref=qs(g,y,x),j.return=g,j):(j=uo(x.type,x.key,x.props,null,g.mode,j),j.ref=qs(g,y,x),j.return=g,j)}function u(g,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=hc(x,g.mode,j),y.return=g,y):(y=s(y,x.children||[]),y.return=g,y)}function d(g,y,x,j,_){return y===null||y.tag!==7?(y=bn(x,g.mode,j,_),y.return=g,y):(y=s(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dc(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ga:return x=uo(y.type,y.key,y.props,null,g.mode,x),x.ref=qs(g,null,y),x.return=g,x;case Bn:return y=hc(y,g.mode,x),y.return=g,y;case Pr:var j=y._init;return h(g,j(y._payload),x)}if(ti(y)||Bs(y))return y=bn(y,g.mode,x,null),y.return=g,y;Ea(g,y)}return null}function f(g,y,x,j){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(g,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ga:return x.key===_?c(g,y,x,j):null;case Bn:return x.key===_?u(g,y,x,j):null;case Pr:return _=x._init,f(g,y,_(x._payload),j)}if(ti(x)||Bs(x))return _!==null?null:d(g,y,x,j,null);Ea(g,x)}return null}function m(g,y,x,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(x)||null,l(y,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ga:return g=g.get(j.key===null?x:j.key)||null,c(y,g,j,_);case Bn:return g=g.get(j.key===null?x:j.key)||null,u(y,g,j,_);case Pr:var S=j._init;return m(g,y,x,S(j._payload),_)}if(ti(j)||Bs(j))return g=g.get(x)||null,d(y,g,j,_,null);Ea(y,j)}return null}function p(g,y,x,j){for(var _=null,S=null,N=y,k=y=0,E=null;N!==null&&k<x.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var R=f(g,N,x[k],j);if(R===null){N===null&&(N=E);break}e&&N&&R.alternate===null&&t(g,N),y=i(R,y,k),S===null?_=R:S.sibling=R,S=R,N=E}if(k===x.length)return r(g,N),ce&&on(g,k),_;if(N===null){for(;k<x.length;k++)N=h(g,x[k],j),N!==null&&(y=i(N,y,k),S===null?_=N:S.sibling=N,S=N);return ce&&on(g,k),_}for(N=n(g,N);k<x.length;k++)E=m(N,g,k,x[k],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),y=i(E,y,k),S===null?_=E:S.sibling=E,S=E);return e&&N.forEach(function($){return t(g,$)}),ce&&on(g,k),_}function v(g,y,x,j){var _=Bs(x);if(typeof _!="function")throw Error(T(150));if(x=_.call(x),x==null)throw Error(T(151));for(var S=_=null,N=y,k=y=0,E=null,R=x.next();N!==null&&!R.done;k++,R=x.next()){N.index>k?(E=N,N=null):E=N.sibling;var $=f(g,N,R.value,j);if($===null){N===null&&(N=E);break}e&&N&&$.alternate===null&&t(g,N),y=i($,y,k),S===null?_=$:S.sibling=$,S=$,N=E}if(R.done)return r(g,N),ce&&on(g,k),_;if(N===null){for(;!R.done;k++,R=x.next())R=h(g,R.value,j),R!==null&&(y=i(R,y,k),S===null?_=R:S.sibling=R,S=R);return ce&&on(g,k),_}for(N=n(g,N);!R.done;k++,R=x.next())R=m(N,g,k,R.value,j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?k:R.key),y=i(R,y,k),S===null?_=R:S.sibling=R,S=R);return e&&N.forEach(function(X){return t(g,X)}),ce&&on(g,k),_}function w(g,y,x,j){if(typeof x=="object"&&x!==null&&x.type===zn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ga:e:{for(var _=x.key,S=y;S!==null;){if(S.key===_){if(_=x.type,_===zn){if(S.tag===7){r(g,S.sibling),y=s(S,x.props.children),y.return=g,g=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pr&&vm(_)===S.type){r(g,S.sibling),y=s(S,x.props),y.ref=qs(g,S,x),y.return=g,g=y;break e}r(g,S);break}else t(g,S);S=S.sibling}x.type===zn?(y=bn(x.props.children,g.mode,j,x.key),y.return=g,g=y):(j=uo(x.type,x.key,x.props,null,g.mode,j),j.ref=qs(g,y,x),j.return=g,g=j)}return a(g);case Bn:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(g,y.sibling),y=s(y,x.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=hc(x,g.mode,j),y.return=g,g=y}return a(g);case Pr:return S=x._init,w(g,y,S(x._payload),j)}if(ti(x))return p(g,y,x,j);if(Bs(x))return v(g,y,x,j);Ea(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,x),y.return=g,g=y):(r(g,y),y=dc(x,g.mode,j),y.return=g,g=y),a(g)):r(g,y)}return w}var ys=xy(!0),wy=xy(!1),Do=Jr(null),Mo=null,Qn=null,Kd=null;function Jd(){Kd=Qn=Mo=null}function Yd(e){var t=Do.current;ae(Do),e._currentValue=t}function vu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cs(e,t){Mo=e,Kd=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Kd!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(Mo===null)throw Error(T(308));Qn=e,Mo.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var pn=null;function Qd(e){pn===null?pn=[e]:pn.push(e)}function by(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Qd(t)):(r.next=s.next,s.next=r),t.interleaved=r,vr(e,n)}function vr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tr=!1;function Xd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Y&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,vr(e,r)}return s=n.interleaved,s===null?(t.next=t,Qd(n)):(t.next=s.next,s.next=t),n.interleaved=t,vr(e,r)}function so(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Md(e,r)}}function xm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $o(e,t,r,n){var s=e.updateQueue;Tr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(f=t,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=pe({},h,f);break e;case 2:Tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Cn|=a,e.lanes=a,e.memoizedState=h}}function wm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var ia={},nr=Jr(ia),Li=Jr(ia),Di=Jr(ia);function gn(e){if(e===ia)throw Error(T(174));return e}function Zd(e,t){switch(se(Di,t),se(Li,e),se(nr,ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xc(t,e)}ae(nr),se(nr,t)}function vs(){ae(nr),ae(Li),ae(Di)}function _y(e){gn(Di.current);var t=gn(nr.current),r=Xc(t,e.type);t!==r&&(se(Li,e),se(nr,r))}function eh(e){Li.current===e&&(ae(nr),ae(Li))}var fe=Jr(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ic=[];function th(){for(var e=0;e<ic.length;e++)ic[e]._workInProgressVersionPrimary=null;ic.length=0}var io=Sr.ReactCurrentDispatcher,ac=Sr.ReactCurrentBatchConfig,En=0,me=null,Ce=null,Te=null,Vo=!1,di=!1,Mi=0,u2=0;function ze(){throw Error(T(321))}function rh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kt(e[r],t[r]))return!1;return!0}function nh(e,t,r,n,s,i){if(En=i,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=e===null||e.memoizedState===null?m2:p2,e=r(n,s),di){i=0;do{if(di=!1,Mi=0,25<=i)throw Error(T(301));i+=1,Te=Ce=null,t.updateQueue=null,io.current=g2,e=r(n,s)}while(di)}if(io.current=Uo,t=Ce!==null&&Ce.next!==null,En=0,Te=Ce=me=null,Vo=!1,t)throw Error(T(300));return e}function sh(){var e=Mi!==0;return Mi=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?me.memoizedState=Te=e:Te=Te.next=e,Te}function Lt(){if(Ce===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Te===null?me.memoizedState:Te.next;if(t!==null)Te=t,Ce=e;else{if(e===null)throw Error(T(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?me.memoizedState=Te=e:Te=Te.next=e}return Te}function $i(e,t){return typeof t=="function"?t(e):t}function oc(e){var t=Lt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=Ce,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((En&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,me.lanes|=d,Cn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Kt(n,t.memoizedState)||(st=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,me.lanes|=i,Cn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function lc(e){var t=Lt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Kt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Sy(){}function ky(e,t){var r=me,n=Lt(),s=t(),i=!Kt(n.memoizedState,s);if(i&&(n.memoizedState=s,st=!0),n=n.queue,ih(Cy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,Fi(9,Ey.bind(null,r,n,s,t),void 0,null),Ae===null)throw Error(T(349));En&30||Ny(r,t,s)}return s}function Ny(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ey(e,t,r,n){t.value=r,t.getSnapshot=n,Py(t)&&Ty(e)}function Cy(e,t,r){return r(function(){Py(t)&&Ty(e)})}function Py(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kt(e,r)}catch{return!0}}function Ty(e){var t=vr(e,1);t!==null&&Ht(t,e,1,-1)}function bm(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t.queue=e,e=e.dispatch=f2.bind(null,me,e),[t.memoizedState,e]}function Fi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ry(){return Lt().memoizedState}function ao(e,t,r,n){var s=Xt();me.flags|=e,s.memoizedState=Fi(1|t,r,void 0,n===void 0?null:n)}function gl(e,t,r,n){var s=Lt();n=n===void 0?null:n;var i=void 0;if(Ce!==null){var a=Ce.memoizedState;if(i=a.destroy,n!==null&&rh(n,a.deps)){s.memoizedState=Fi(t,r,i,n);return}}me.flags|=e,s.memoizedState=Fi(1|t,r,i,n)}function jm(e,t){return ao(8390656,8,e,t)}function ih(e,t){return gl(2048,8,e,t)}function Ay(e,t){return gl(4,2,e,t)}function Oy(e,t){return gl(4,4,e,t)}function Iy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ly(e,t,r){return r=r!=null?r.concat([e]):null,gl(4,4,Iy.bind(null,t,e),r)}function ah(){}function Dy(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function My(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $y(e,t,r){return En&21?(Kt(r,t)||(r=zg(),me.lanes|=r,Cn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=r)}function d2(e,t){var r=Z;Z=r!==0&&4>r?r:4,e(!0);var n=ac.transition;ac.transition={};try{e(!1),t()}finally{Z=r,ac.transition=n}}function Fy(){return Lt().memoizedState}function h2(e,t,r){var n=zr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Vy(e))Uy(t,r);else if(r=by(e,t,r,n),r!==null){var s=et();Ht(r,e,n,s),By(r,t,n)}}function f2(e,t,r){var n=zr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vy(e))Uy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Kt(l,a)){var c=t.interleaved;c===null?(s.next=s,Qd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=by(e,t,s,n),r!==null&&(s=et(),Ht(r,e,n,s),By(r,t,n))}}function Vy(e){var t=e.alternate;return e===me||t!==null&&t===me}function Uy(e,t){di=Vo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function By(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Md(e,r)}}var Uo={readContext:It,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},m2={readContext:It,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:jm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ao(4194308,4,Iy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return ao(4,2,e,t)},useMemo:function(e,t){var r=Xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=h2.bind(null,me,e),[n.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:bm,useDebugValue:ah,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=bm(!1),t=e[0];return e=d2.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=me,s=Xt();if(ce){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ae===null)throw Error(T(349));En&30||Ny(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,jm(Cy.bind(null,n,i,e),[e]),n.flags|=2048,Fi(9,Ey.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xt(),t=Ae.identifierPrefix;if(ce){var r=fr,n=hr;r=(n&~(1<<32-Gt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=u2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p2={readContext:It,useCallback:Dy,useContext:It,useEffect:ih,useImperativeHandle:Ly,useInsertionEffect:Ay,useLayoutEffect:Oy,useMemo:My,useReducer:oc,useRef:Ry,useState:function(){return oc($i)},useDebugValue:ah,useDeferredValue:function(e){var t=Lt();return $y(t,Ce.memoizedState,e)},useTransition:function(){var e=oc($i)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:ky,useId:Fy,unstable_isNewReconciler:!1},g2={readContext:It,useCallback:Dy,useContext:It,useEffect:ih,useImperativeHandle:Ly,useInsertionEffect:Ay,useLayoutEffect:Oy,useMemo:My,useReducer:lc,useRef:Ry,useState:function(){return lc($i)},useDebugValue:ah,useDeferredValue:function(e){var t=Lt();return Ce===null?t.memoizedState=e:$y(t,Ce.memoizedState,e)},useTransition:function(){var e=lc($i)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:ky,useId:Fy,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yl={isMounted:function(e){return(e=e._reactInternals)?An(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=et(),s=zr(e),i=mr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ur(e,i,s),t!==null&&(Ht(t,e,s,n),so(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=et(),s=zr(e),i=mr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ur(e,i,s),t!==null&&(Ht(t,e,s,n),so(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),n=zr(e),s=mr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ur(e,s,n),t!==null&&(Ht(t,e,n,r),so(t,e,n))}};function _m(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ri(r,n)||!Ri(s,i):!0}function zy(e,t,r){var n=!1,s=Hr,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=ot(t)?kn:qe.current,n=t.contextTypes,i=(n=n!=null)?ps(e,s):Hr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function wu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Xd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=ot(t)?kn:qe.current,s.context=ps(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yl.enqueueReplaceState(s,s.state,null),$o(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xs(e,t){try{var r="",n=t;do r+=Wb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function cc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var y2=typeof WeakMap=="function"?WeakMap:Map;function Wy(e,t,r){r=mr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zo||(zo=!0,Ru=n),bu(e,t)},r}function Gy(e,t,r){r=mr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){bu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){bu(e,t),typeof n!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function km(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new y2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=R2.bind(null,e,t,r),t.then(e,e))}function Nm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Em(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mr(-1,1),t.tag=2,Ur(r,t,1))),r.lanes|=1),e)}var v2=Sr.ReactCurrentOwner,st=!1;function Qe(e,t,r,n){t.child=e===null?wy(t,null,r,n):ys(t,e.child,r,n)}function Cm(e,t,r,n,s){r=r.render;var i=t.ref;return cs(t,s),n=nh(e,t,r,n,i,s),r=sh(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xr(e,t,s)):(ce&&r&&Gd(t),t.flags|=1,Qe(e,t,n,s),t.child)}function Pm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!mh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Hy(e,t,i,n,s)):(e=uo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ri,r(a,n)&&e.ref===t.ref)return xr(e,t,s)}return t.flags|=1,e=Wr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Hy(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ri(i,n)&&e.ref===t.ref)if(st=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,xr(e,t,s)}return ju(e,t,r,n,s)}function qy(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Zn,ft),ft|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Zn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,se(Zn,ft),ft|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,se(Zn,ft),ft|=n;return Qe(e,t,s,r),t.child}function Ky(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ju(e,t,r,n,s){var i=ot(r)?kn:qe.current;return i=ps(t,i),cs(t,s),r=nh(e,t,r,n,i,s),n=sh(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xr(e,t,s)):(ce&&n&&Gd(t),t.flags|=1,Qe(e,t,r,s),t.child)}function Tm(e,t,r,n,s){if(ot(r)){var i=!0;Oo(t)}else i=!1;if(cs(t,s),t.stateNode===null)oo(e,t),zy(t,r,n),wu(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=It(u):(u=ot(r)?kn:qe.current,u=ps(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Sm(t,a,n,u),Tr=!1;var f=t.memoizedState;a.state=f,$o(t,n,a,s),c=t.memoizedState,l!==n||f!==c||at.current||Tr?(typeof d=="function"&&(xu(t,r,d,n),c=t.memoizedState),(l=Tr||_m(t,r,l,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,jy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ft(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=It(c):(c=ot(r)?kn:qe.current,c=ps(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Sm(t,a,n,c),Tr=!1,f=t.memoizedState,a.state=f,$o(t,n,a,s);var p=t.memoizedState;l!==h||f!==p||at.current||Tr?(typeof m=="function"&&(xu(t,r,m,n),p=t.memoizedState),(u=Tr||_m(t,r,u,n,f,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return _u(e,t,r,n,i,s)}function _u(e,t,r,n,s,i){Ky(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&pm(t,r,!1),xr(e,t,i);n=t.stateNode,v2.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ys(t,e.child,null,i),t.child=ys(t,null,l,i)):Qe(e,t,l,i),t.memoizedState=n.state,s&&pm(t,r,!0),t.child}function Jy(e){var t=e.stateNode;t.pendingContext?mm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mm(e,t.context,!1),Zd(e,t.containerInfo)}function Rm(e,t,r,n,s){return gs(),qd(s),t.flags|=256,Qe(e,t,r,n),t.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yy(e,t,r){var n=t.pendingProps,s=fe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(fe,s&1),e===null)return yu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=wl(a,n,0,null),e=bn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ku(r),t.memoizedState=Su,e):oh(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return x2(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Wr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wr(l,i):(i=bn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?ku(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Su,n}return i=e.child,e=i.sibling,n=Wr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oh(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ca(e,t,r,n){return n!==null&&qd(n),ys(t,e.child,null,r),e=oh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x2(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=cc(Error(T(422))),Ca(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wl({mode:"visible",children:n.children},s,0,null),i=bn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ys(t,e.child,null,a),t.child.memoizedState=ku(a),t.memoizedState=Su,i);if(!(t.mode&1))return Ca(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=cc(i,n,void 0),Ca(e,t,a,n)}if(l=(a&e.childLanes)!==0,st||l){if(n=Ae,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vr(e,s),Ht(n,e,s,-1))}return fh(),n=cc(Error(T(421))),Ca(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=A2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yt=Vr(s.nextSibling),vt=t,ce=!0,zt=null,e!==null&&(Ct[Pt++]=hr,Ct[Pt++]=fr,Ct[Pt++]=Nn,hr=e.id,fr=e.overflow,Nn=t),t=oh(t,n.children),t.flags|=4096,t)}function Am(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vu(e.return,t,r)}function uc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qy(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Qe(e,t,n.children,r),n=fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Am(e,r,t);else if(e.tag===19)Am(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(fe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Fo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),uc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}uc(t,!0,r,null,i);break;case"together":uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Wr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function w2(e,t,r){switch(t.tag){case 3:Jy(t),gs();break;case 5:_y(t);break;case 1:ot(t.type)&&Oo(t);break;case 4:Zd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;se(Do,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(fe,fe.current&1),t.flags|=128,null):r&t.child.childLanes?Yy(e,t,r):(se(fe,fe.current&1),e=xr(e,t,r),e!==null?e.sibling:null);se(fe,fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(fe,fe.current),n)break;return null;case 22:case 23:return t.lanes=0,qy(e,t,r)}return xr(e,t,r)}var Xy,Nu,Zy,ev;Xy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nu=function(){};Zy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,gn(nr.current);var i=null;switch(r){case"input":s=Kc(e,s),n=Kc(e,n),i=[];break;case"select":s=pe({},s,{value:void 0}),n=pe({},n,{value:void 0}),i=[];break;case"textarea":s=Qc(e,s),n=Qc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ro)}Zc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ev=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ks(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function b2(e,t,r){var n=t.pendingProps;switch(Hd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return ot(t.type)&&Ao(),We(t),null;case 3:return n=t.stateNode,vs(),ae(at),ae(qe),th(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Iu(zt),zt=null))),Nu(e,t),We(t),null;case 5:eh(t);var s=gn(Di.current);if(r=t.type,e!==null&&t.stateNode!=null)Zy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return We(t),null}if(e=gn(nr.current),Na(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Zt]=t,n[Ii]=i,e=(t.mode&1)!==0,r){case"dialog":ie("cancel",n),ie("close",n);break;case"iframe":case"object":case"embed":ie("load",n);break;case"video":case"audio":for(s=0;s<ni.length;s++)ie(ni[s],n);break;case"source":ie("error",n);break;case"img":case"image":case"link":ie("error",n),ie("load",n);break;case"details":ie("toggle",n);break;case"input":Uf(n,i),ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ie("invalid",n);break;case"textarea":zf(n,i),ie("invalid",n)}Zc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ka(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ka(n.textContent,l,e),s=["children",""+l]):Si.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ie("scroll",n)}switch(r){case"input":ya(n),Bf(n,i,!0);break;case"textarea":ya(n),Wf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ro)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Zt]=t,e[Ii]=n,Xy(e,t,!1,!1),t.stateNode=e;e:{switch(a=eu(r,n),r){case"dialog":ie("cancel",e),ie("close",e),s=n;break;case"iframe":case"object":case"embed":ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<ni.length;s++)ie(ni[s],e);s=n;break;case"source":ie("error",e),s=n;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=n;break;case"details":ie("toggle",e),s=n;break;case"input":Uf(e,n),s=Kc(e,n),ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=pe({},n,{value:void 0}),ie("invalid",e);break;case"textarea":zf(e,n),s=Qc(e,n),ie("invalid",e);break;default:s=n}Zc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Rg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pg(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ki(e,c):typeof c=="number"&&ki(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Si.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&Rd(e,i,c,a))}switch(r){case"input":ya(e),Bf(e,n,!1);break;case"textarea":ya(e),Wf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?is(e,!!n.multiple,i,!1):n.defaultValue!=null&&is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ro)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)ev(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=gn(Di.current),gn(nr.current),Na(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zt]=t,(i=n.nodeValue!==r)&&(e=vt,e!==null))switch(e.tag){case 3:ka(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ka(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zt]=t,t.stateNode=n}return We(t),null;case 13:if(ae(fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&yt!==null&&t.mode&1&&!(t.flags&128))vy(),gs(),t.flags|=98560,i=!1;else if(i=Na(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Zt]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else zt!==null&&(Iu(zt),zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Pe===0&&(Pe=3):fh())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return vs(),Nu(e,t),e===null&&Ai(t.stateNode.containerInfo),We(t),null;case 10:return Yd(t.type._context),We(t),null;case 17:return ot(t.type)&&Ao(),We(t),null;case 19:if(ae(fe),i=t.memoizedState,i===null)return We(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ks(i,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Fo(e),a!==null){for(t.flags|=128,Ks(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&je()>ws&&(t.flags|=128,n=!0,Ks(i,!1),t.lanes=4194304)}else{if(!n)if(e=Fo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ks(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ce)return We(t),null}else 2*je()-i.renderingStartTime>ws&&r!==1073741824&&(t.flags|=128,n=!0,Ks(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=je(),t.sibling=null,r=fe.current,se(fe,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return hh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ft&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function j2(e,t){switch(Hd(t),t.tag){case 1:return ot(t.type)&&Ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),ae(at),ae(qe),th(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eh(t),null;case 13:if(ae(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(fe),null;case 4:return vs(),null;case 10:return Yd(t.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var Pa=!1,He=!1,_2=typeof WeakSet=="function"?WeakSet:Set,O=null;function Xn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){we(e,t,n)}else r.current=null}function Eu(e,t,r){try{r()}catch(n){we(e,t,n)}}var Om=!1;function S2(e,t){if(uu=Co,e=iy(),Wd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=a),f===i&&++d===n&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(du={focusedElem:e,selectionRange:r},Co=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ft(t.type,v),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(j){we(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return p=Om,Om=!1,p}function hi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Eu(t,r,i)}s=s.next}while(s!==n)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Cu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tv(e){var t=e.alternate;t!==null&&(e.alternate=null,tv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Ii],delete t[mu],delete t[a2],delete t[o2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rv(e){return e.tag===5||e.tag===3||e.tag===4}function Im(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ro));else if(n!==4&&(e=e.child,e!==null))for(Pu(e,t,r),e=e.sibling;e!==null;)Pu(e,t,r),e=e.sibling}function Tu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tu(e,t,r),e=e.sibling;e!==null;)Tu(e,t,r),e=e.sibling}var Le=null,Ut=!1;function kr(e,t,r){for(r=r.child;r!==null;)nv(e,t,r),r=r.sibling}function nv(e,t,r){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(ul,r)}catch{}switch(r.tag){case 5:He||Xn(r,t);case 6:var n=Le,s=Ut;Le=null,kr(e,t,r),Le=n,Ut=s,Le!==null&&(Ut?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(Ut?(e=Le,r=r.stateNode,e.nodeType===8?nc(e.parentNode,r):e.nodeType===1&&nc(e,r),Pi(e)):nc(Le,r.stateNode));break;case 4:n=Le,s=Ut,Le=r.stateNode.containerInfo,Ut=!0,kr(e,t,r),Le=n,Ut=s;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Eu(r,t,a),s=s.next}while(s!==n)}kr(e,t,r);break;case 1:if(!He&&(Xn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){we(r,t,l)}kr(e,t,r);break;case 21:kr(e,t,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,kr(e,t,r),He=n):kr(e,t,r);break;default:kr(e,t,r)}}function Lm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _2),t.forEach(function(n){var s=O2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,Ut=!1;break e;case 3:Le=l.stateNode.containerInfo,Ut=!0;break e;case 4:Le=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(Le===null)throw Error(T(160));nv(i,a,s),Le=null,Ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){we(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sv(t,e),t=t.sibling}function sv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Qt(e),n&4){try{hi(3,e,e.return),vl(3,e)}catch(v){we(e,e.return,v)}try{hi(5,e,e.return)}catch(v){we(e,e.return,v)}}break;case 1:Dt(t,e),Qt(e),n&512&&r!==null&&Xn(r,r.return);break;case 5:if(Dt(t,e),Qt(e),n&512&&r!==null&&Xn(r,r.return),e.flags&32){var s=e.stateNode;try{ki(s,"")}catch(v){we(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ng(s,i),eu(l,a);var u=eu(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Rg(s,h):d==="dangerouslySetInnerHTML"?Pg(s,h):d==="children"?ki(s,h):Rd(s,d,h,u)}switch(l){case"input":Jc(s,i);break;case"textarea":Eg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?is(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?is(s,!!i.multiple,i.defaultValue,!0):is(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ii]=i}catch(v){we(e,e.return,v)}}break;case 6:if(Dt(t,e),Qt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){we(e,e.return,v)}}break;case 3:if(Dt(t,e),Qt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(v){we(e,e.return,v)}break;case 4:Dt(t,e),Qt(e);break;case 13:Dt(t,e),Qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uh=je())),n&4&&Lm(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(He=(u=He)||d,Dt(t,e),He=u):Dt(t,e),Qt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,m=f.child,f.tag){case 0:case 11:case 14:case 15:hi(4,f,f.return);break;case 1:Xn(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){we(n,r,v)}}break;case 5:Xn(f,f.return);break;case 22:if(f.memoizedState!==null){Mm(h);continue}}m!==null?(m.return=f,O=m):Mm(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Tg("display",a))}catch(v){we(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){we(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dt(t,e),Qt(e),n&4&&Lm(e);break;case 21:break;default:Dt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rv(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ki(s,""),n.flags&=-33);var i=Im(e);Tu(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Im(e);Pu(e,l,a);break;default:throw Error(T(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k2(e,t,r){O=e,iv(e)}function iv(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Pa;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||He;l=Pa;var u=He;if(Pa=a,(He=c)&&!u)for(O=s;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?$m(s):c!==null?(c.return=a,O=c):$m(s);for(;i!==null;)O=i,iv(i),i=i.sibling;O=s,Pa=l,He=u}Dm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Dm(e)}}function Dm(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||vl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!He)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ft(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wm(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wm(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}He||t.flags&512&&Cu(t)}catch(f){we(t,t.return,f)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function Mm(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function $m(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vl(4,t)}catch(c){we(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){we(t,s,c)}}var i=t.return;try{Cu(t)}catch(c){we(t,i,c)}break;case 5:var a=t.return;try{Cu(t)}catch(c){we(t,a,c)}}}catch(c){we(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var N2=Math.ceil,Bo=Sr.ReactCurrentDispatcher,lh=Sr.ReactCurrentOwner,At=Sr.ReactCurrentBatchConfig,Y=0,Ae=null,Ne=null,Fe=0,ft=0,Zn=Jr(0),Pe=0,Vi=null,Cn=0,xl=0,ch=0,fi=null,nt=null,uh=0,ws=1/0,cr=null,zo=!1,Ru=null,Br=null,Ta=!1,Dr=null,Wo=0,mi=0,Au=null,lo=-1,co=0;function et(){return Y&6?je():lo!==-1?lo:lo=je()}function zr(e){return e.mode&1?Y&2&&Fe!==0?Fe&-Fe:c2.transition!==null?(co===0&&(co=zg()),co):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Yg(e.type)),e):1}function Ht(e,t,r,n){if(50<mi)throw mi=0,Au=null,Error(T(185));ra(e,r,n),(!(Y&2)||e!==Ae)&&(e===Ae&&(!(Y&2)&&(xl|=r),Pe===4&&Or(e,Fe)),lt(e,n),r===1&&Y===0&&!(t.mode&1)&&(ws=je()+500,pl&&Yr()))}function lt(e,t){var r=e.callbackNode;cj(e,t);var n=Eo(e,e===Ae?Fe:0);if(n===0)r!==null&&qf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qf(r),t===1)e.tag===0?l2(Fm.bind(null,e)):py(Fm.bind(null,e)),s2(function(){!(Y&6)&&Yr()}),r=null;else{switch(Wg(n)){case 1:r=Dd;break;case 4:r=Ug;break;case 16:r=No;break;case 536870912:r=Bg;break;default:r=No}r=fv(r,av.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function av(e,t){if(lo=-1,co=0,Y&6)throw Error(T(327));var r=e.callbackNode;if(us()&&e.callbackNode!==r)return null;var n=Eo(e,e===Ae?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Go(e,n);else{t=n;var s=Y;Y|=2;var i=lv();(Ae!==e||Fe!==t)&&(cr=null,ws=je()+500,wn(e,t));do try{P2();break}catch(l){ov(e,l)}while(!0);Jd(),Bo.current=i,Y=s,Ne!==null?t=0:(Ae=null,Fe=0,t=Pe)}if(t!==0){if(t===2&&(s=iu(e),s!==0&&(n=s,t=Ou(e,s))),t===1)throw r=Vi,wn(e,0),Or(e,n),lt(e,je()),r;if(t===6)Or(e,n);else{if(s=e.current.alternate,!(n&30)&&!E2(s)&&(t=Go(e,n),t===2&&(i=iu(e),i!==0&&(n=i,t=Ou(e,i))),t===1))throw r=Vi,wn(e,0),Or(e,n),lt(e,je()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:ln(e,nt,cr);break;case 3:if(Or(e,n),(n&130023424)===n&&(t=uh+500-je(),10<t)){if(Eo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fu(ln.bind(null,e,nt,cr),t);break}ln(e,nt,cr);break;case 4:if(Or(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Gt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N2(n/1960))-n,10<n){e.timeoutHandle=fu(ln.bind(null,e,nt,cr),n);break}ln(e,nt,cr);break;case 5:ln(e,nt,cr);break;default:throw Error(T(329))}}}return lt(e,je()),e.callbackNode===r?av.bind(null,e):null}function Ou(e,t){var r=fi;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Go(e,t),e!==2&&(t=nt,nt=r,t!==null&&Iu(t)),e}function Iu(e){nt===null?nt=e:nt.push.apply(nt,e)}function E2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Kt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~ch,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gt(t),n=1<<r;e[r]=-1,t&=~n}}function Fm(e){if(Y&6)throw Error(T(327));us();var t=Eo(e,0);if(!(t&1))return lt(e,je()),null;var r=Go(e,t);if(e.tag!==0&&r===2){var n=iu(e);n!==0&&(t=n,r=Ou(e,n))}if(r===1)throw r=Vi,wn(e,0),Or(e,t),lt(e,je()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,nt,cr),lt(e,je()),null}function dh(e,t){var r=Y;Y|=1;try{return e(t)}finally{Y=r,Y===0&&(ws=je()+500,pl&&Yr())}}function Pn(e){Dr!==null&&Dr.tag===0&&!(Y&6)&&us();var t=Y;Y|=1;var r=At.transition,n=Z;try{if(At.transition=null,Z=1,e)return e()}finally{Z=n,At.transition=r,Y=t,!(Y&6)&&Yr()}}function hh(){ft=Zn.current,ae(Zn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,n2(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(Hd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ao();break;case 3:vs(),ae(at),ae(qe),th();break;case 5:eh(n);break;case 4:vs();break;case 13:ae(fe);break;case 19:ae(fe);break;case 10:Yd(n.type._context);break;case 22:case 23:hh()}r=r.return}if(Ae=e,Ne=e=Wr(e.current,null),Fe=ft=t,Pe=0,Vi=null,ch=xl=Cn=0,nt=fi=null,pn!==null){for(t=0;t<pn.length;t++)if(r=pn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}pn=null}return e}function ov(e,t){do{var r=Ne;try{if(Jd(),io.current=Uo,Vo){for(var n=me.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vo=!1}if(En=0,Te=Ce=me=null,di=!1,Mi=0,lh.current=null,r===null||r.return===null){Pe=1,Vi=t,Ne=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Fe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Nm(a);if(m!==null){m.flags&=-257,Em(m,a,l,i,t),m.mode&1&&km(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){km(i,u,t),fh();break e}c=Error(T(426))}}else if(ce&&l.mode&1){var w=Nm(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Em(w,a,l,i,t),qd(xs(c,l));break e}}i=c=xs(c,l),Pe!==4&&(Pe=2),fi===null?fi=[i]:fi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Wy(i,c,t);xm(i,g);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Br===null||!Br.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Gy(i,l,t);xm(i,j);break e}}i=i.return}while(i!==null)}uv(r)}catch(_){t=_,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function lv(){var e=Bo.current;return Bo.current=Uo,e===null?Uo:e}function fh(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ae===null||!(Cn&268435455)&&!(xl&268435455)||Or(Ae,Fe)}function Go(e,t){var r=Y;Y|=2;var n=lv();(Ae!==e||Fe!==t)&&(cr=null,wn(e,t));do try{C2();break}catch(s){ov(e,s)}while(!0);if(Jd(),Y=r,Bo.current=n,Ne!==null)throw Error(T(261));return Ae=null,Fe=0,Pe}function C2(){for(;Ne!==null;)cv(Ne)}function P2(){for(;Ne!==null&&!ej();)cv(Ne)}function cv(e){var t=hv(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?uv(e):Ne=t,lh.current=null}function uv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j2(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ne=null;return}}else if(r=b2(r,t,ft),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function ln(e,t,r){var n=Z,s=At.transition;try{At.transition=null,Z=1,T2(e,t,r,n)}finally{At.transition=s,Z=n}return null}function T2(e,t,r,n){do us();while(Dr!==null);if(Y&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(uj(e,i),e===Ae&&(Ne=Ae=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ta||(Ta=!0,fv(No,function(){return us(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=At.transition,At.transition=null;var a=Z;Z=1;var l=Y;Y|=4,lh.current=null,S2(e,r),sv(r,e),Yj(du),Co=!!uu,du=uu=null,e.current=r,k2(r),tj(),Y=l,Z=a,At.transition=i}else e.current=r;if(Ta&&(Ta=!1,Dr=e,Wo=s),i=e.pendingLanes,i===0&&(Br=null),sj(r.stateNode),lt(e,je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zo)throw zo=!1,e=Ru,Ru=null,e;return Wo&1&&e.tag!==0&&us(),i=e.pendingLanes,i&1?e===Au?mi++:(mi=0,Au=e):mi=0,Yr(),null}function us(){if(Dr!==null){var e=Wg(Wo),t=At.transition,r=Z;try{if(At.transition=null,Z=16>e?16:e,Dr===null)var n=!1;else{if(e=Dr,Dr=null,Wo=0,Y&6)throw Error(T(331));var s=Y;for(Y|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:hi(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,m=d.return;if(tv(d),d===u){O=null;break}if(f!==null){f.return=m,O=f;break}O=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var y=e.current;for(O=y;O!==null;){a=O;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,O=x;else e:for(a=y;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vl(9,l)}}catch(_){we(l,l.return,_)}if(l===a){O=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,O=j;break e}O=l.return}}if(Y=s,Yr(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(ul,e)}catch{}n=!0}return n}finally{Z=r,At.transition=t}}return!1}function Vm(e,t,r){t=xs(r,t),t=Wy(e,t,1),e=Ur(e,t,1),t=et(),e!==null&&(ra(e,1,t),lt(e,t))}function we(e,t,r){if(e.tag===3)Vm(e,e,r);else for(;t!==null;){if(t.tag===3){Vm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Br===null||!Br.has(n))){e=xs(r,e),e=Gy(t,e,1),t=Ur(t,e,1),e=et(),t!==null&&(ra(t,1,e),lt(t,e));break}}t=t.return}}function R2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(Fe&r)===r&&(Pe===4||Pe===3&&(Fe&130023424)===Fe&&500>je()-uh?wn(e,0):ch|=r),lt(e,t)}function dv(e,t){t===0&&(e.mode&1?(t=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):t=1);var r=et();e=vr(e,t),e!==null&&(ra(e,t,r),lt(e,r))}function A2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dv(e,r)}function O2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),dv(e,r)}var hv;hv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return st=!1,w2(e,t,r);st=!!(e.flags&131072)}else st=!1,ce&&t.flags&1048576&&gy(t,Lo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;oo(e,t),e=t.pendingProps;var s=ps(t,qe.current);cs(t,r),s=nh(null,t,n,e,s,r);var i=sh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(n)?(i=!0,Oo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xd(t),s.updater=yl,t.stateNode=s,s._reactInternals=t,wu(t,n,e,r),t=_u(null,t,n,!0,i,r)):(t.tag=0,ce&&i&&Gd(t),Qe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(oo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=L2(n),e=Ft(n,e),s){case 0:t=ju(null,t,n,e,r);break e;case 1:t=Tm(null,t,n,e,r);break e;case 11:t=Cm(null,t,n,e,r);break e;case 14:t=Pm(null,t,n,Ft(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),ju(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),Tm(e,t,n,s,r);case 3:e:{if(Jy(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,jy(e,t),$o(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xs(Error(T(423)),t),t=Rm(e,t,n,r,s);break e}else if(n!==s){s=xs(Error(T(424)),t),t=Rm(e,t,n,r,s);break e}else for(yt=Vr(t.stateNode.containerInfo.firstChild),vt=t,ce=!0,zt=null,r=wy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gs(),n===s){t=xr(e,t,r);break e}Qe(e,t,n,r)}t=t.child}return t;case 5:return _y(t),e===null&&yu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,hu(n,s)?a=null:i!==null&&hu(n,i)&&(t.flags|=32),Ky(e,t),Qe(e,t,a,r),t.child;case 6:return e===null&&yu(t),null;case 13:return Yy(e,t,r);case 4:return Zd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):Qe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),Cm(e,t,n,s,r);case 7:return Qe(e,t,t.pendingProps,r),t.child;case 8:return Qe(e,t,t.pendingProps.children,r),t.child;case 12:return Qe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,se(Do,n._currentValue),n._currentValue=a,i!==null)if(Kt(i.value,a)){if(i.children===s.children&&!at.current){t=xr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=mr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),vu(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Qe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,cs(t,r),s=It(s),n=n(s),t.flags|=1,Qe(e,t,n,r),t.child;case 14:return n=t.type,s=Ft(n,t.pendingProps),s=Ft(n.type,s),Pm(e,t,n,s,r);case 15:return Hy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),oo(e,t),t.tag=1,ot(n)?(e=!0,Oo(t)):e=!1,cs(t,r),zy(t,n,s),wu(t,n,s,r),_u(null,t,n,!0,e,r);case 19:return Qy(e,t,r);case 22:return qy(e,t,r)}throw Error(T(156,t.tag))};function fv(e,t){return Vg(e,t)}function I2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,r,n){return new I2(e,t,r,n)}function mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L2(e){if(typeof e=="function")return mh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Od)return 11;if(e===Id)return 14}return 2}function Wr(e,t){var r=e.alternate;return r===null?(r=Tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function uo(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")mh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case zn:return bn(r.children,s,i,t);case Ad:a=8,s|=8;break;case Wc:return e=Tt(12,r,t,s|2),e.elementType=Wc,e.lanes=i,e;case Gc:return e=Tt(13,r,t,s),e.elementType=Gc,e.lanes=i,e;case Hc:return e=Tt(19,r,t,s),e.elementType=Hc,e.lanes=i,e;case _g:return wl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bg:a=10;break e;case jg:a=9;break e;case Od:a=11;break e;case Id:a=14;break e;case Pr:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Tt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function bn(e,t,r,n){return e=Tt(7,e,n,t),e.lanes=r,e}function wl(e,t,r,n){return e=Tt(22,e,n,t),e.elementType=_g,e.lanes=r,e.stateNode={isHidden:!1},e}function dc(e,t,r){return e=Tt(6,e,null,t),e.lanes=r,e}function hc(e,t,r){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ph(e,t,r,n,s,i,a,l,c){return e=new D2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(i),e}function M2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mv(e){if(!e)return Hr;e=e._reactInternals;e:{if(An(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(ot(r))return my(e,r,t)}return t}function pv(e,t,r,n,s,i,a,l,c){return e=ph(r,n,!0,e,s,i,a,l,c),e.context=mv(null),r=e.current,n=et(),s=zr(r),i=mr(n,s),i.callback=t??null,Ur(r,i,s),e.current.lanes=s,ra(e,s,n),lt(e,n),e}function bl(e,t,r,n){var s=t.current,i=et(),a=zr(s);return r=mv(r),t.context===null?t.context=r:t.pendingContext=r,t=mr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ur(s,t,a),e!==null&&(Ht(e,s,a,i),so(e,s,a)),a}function Ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gh(e,t){Um(e,t),(e=e.alternate)&&Um(e,t)}function $2(){return null}var gv=typeof reportError=="function"?reportError:function(e){console.error(e)};function yh(e){this._internalRoot=e}jl.prototype.render=yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));bl(e,t,null,null)};jl.prototype.unmount=yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){bl(null,e,null,null)}),t[yr]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ar.length&&t!==0&&t<Ar[r].priority;r++);Ar.splice(r,0,e),r===0&&Jg(e)}};function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bm(){}function F2(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ho(a);i.call(u)}}var a=pv(t,n,e,0,null,!1,!1,"",Bm);return e._reactRootContainer=a,e[yr]=a.current,Ai(e.nodeType===8?e.parentNode:e),Pn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ho(c);l.call(u)}}var c=ph(e,0,!1,null,null,!1,!1,"",Bm);return e._reactRootContainer=c,e[yr]=c.current,Ai(e.nodeType===8?e.parentNode:e),Pn(function(){bl(t,c,r,n)}),c}function Sl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Ho(a);l.call(c)}}bl(t,a,e,s)}else a=F2(r,t,e,s,n);return Ho(a)}Gg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ri(t.pendingLanes);r!==0&&(Md(t,r|1),lt(t,je()),!(Y&6)&&(ws=je()+500,Yr()))}break;case 13:Pn(function(){var n=vr(e,1);if(n!==null){var s=et();Ht(n,e,1,s)}}),gh(e,1)}};$d=function(e){if(e.tag===13){var t=vr(e,134217728);if(t!==null){var r=et();Ht(t,e,134217728,r)}gh(e,134217728)}};Hg=function(e){if(e.tag===13){var t=zr(e),r=vr(e,t);if(r!==null){var n=et();Ht(r,e,t,n)}gh(e,t)}};qg=function(){return Z};Kg=function(e,t){var r=Z;try{return Z=e,t()}finally{Z=r}};ru=function(e,t,r){switch(t){case"input":if(Jc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ml(n);if(!s)throw Error(T(90));kg(n),Jc(n,s)}}}break;case"textarea":Eg(e,r);break;case"select":t=r.value,t!=null&&is(e,!!r.multiple,t,!1)}};Ig=dh;Lg=Pn;var V2={usingClientEntryPoint:!1,Events:[sa,qn,ml,Ag,Og,dh]},Js={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U2={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$g(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||$2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{ul=Ra.inject(U2),rr=Ra}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V2;bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(t))throw Error(T(200));return M2(e,t,null,r)};bt.createRoot=function(e,t){if(!vh(e))throw Error(T(299));var r=!1,n="",s=gv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ph(e,1,!1,null,null,r,!1,n,s),e[yr]=t.current,Ai(e.nodeType===8?e.parentNode:e),new yh(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=$g(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Pn(e)};bt.hydrate=function(e,t,r){if(!_l(t))throw Error(T(200));return Sl(null,e,t,!0,r)};bt.hydrateRoot=function(e,t,r){if(!vh(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=gv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=pv(t,null,e,1,r??null,s,!1,i,a),e[yr]=t.current,Ai(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new jl(t)};bt.render=function(e,t,r){if(!_l(t))throw Error(T(200));return Sl(null,e,t,!1,r)};bt.unmountComponentAtNode=function(e){if(!_l(e))throw Error(T(40));return e._reactRootContainer?(Pn(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1};bt.unstable_batchedUpdates=dh;bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_l(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Sl(e,t,r,!1,n)};bt.version="18.3.1-next-f1338f8080-20240426";function yv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yv)}catch(e){console.error(e)}}yv(),yg.exports=bt;var B2=yg.exports,vv,zm=B2;vv=zm.createRoot,zm.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wm="popstate";function z2(e={}){function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return Lu("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ui(s)}return G2(t,r,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W2(){return Math.random().toString(36).substring(2,10)}function Gm(e,t){return{usr:e.state,key:e.key,idx:t}}function Lu(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ts(t):t,state:r,key:t&&t.key||n||W2()}}function Ui({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ts(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function G2(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let w=d(),g=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:g})}function f(w,g){l="PUSH";let y=Lu(v.location,w,g);u=d()+1;let x=Gm(y,u),j=v.createHref(y);try{a.pushState(x,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function m(w,g){l="REPLACE";let y=Lu(v.location,w,g);u=d();let x=Gm(y,u),j=v.createHref(y);a.replaceState(x,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function p(w){return H2(w)}let v={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Wm,h),c=w,()=>{s.removeEventListener(Wm,h),c=null}},createHref(w){return t(s,w)},createURL:p,encodeLocation(w){let g=p(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(w){return a.go(w)}};return v}function H2(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),de(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ui(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function xv(e,t,r="/"){return q2(e,t,r,!1)}function q2(e,t,r,n){let s=typeof t=="string"?Ts(t):t,i=wr(s.pathname||"/",r);if(i==null)return null;let a=wv(e);K2(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=i_(i);l=n_(a[c],u,n)}return l}function wv(e,t=[],r=[],n="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;de(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=pr([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(de(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wv(a.children,t,f,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:t_(h,a.index),routesMeta:f})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of bv(a.path))i(a,l,!0,u)}),t}function bv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=bv(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function K2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:r_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var J2=/^:[\w-]+$/,Y2=3,Q2=2,X2=1,Z2=10,e_=-2,Hm=e=>e==="*";function t_(e,t){let r=e.split("/"),n=r.length;return r.some(Hm)&&(n+=e_),t&&(n+=Q2),r.filter(s=>!Hm(s)).reduce((s,i)=>s+(J2.test(i)?Y2:i===""?X2:Z2),n)}function r_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function n_(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=qo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=qo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:pr([i,h.pathname]),pathnameBase:u_(pr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=pr([i,h.pathnameBase]))}return a}function qo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=s_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let p=l[f]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function s_(e,t=!1,r=!0){wt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function i_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var a_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o_=e=>a_.test(e);function l_(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ts(e):e,i;if(r)if(o_(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=qm(r.substring(1),"/"):i=qm(r,t)}else i=t;return{pathname:i,search:d_(n),hash:h_(s)}}function qm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function fc(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xh(e){let t=c_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function wh(e,t,r,n=!1){let s;typeof e=="string"?s=Ts(e):(s={...e},de(!s.pathname||!s.pathname.includes("?"),fc("?","pathname","search",s)),de(!s.pathname||!s.pathname.includes("#"),fc("#","pathname","hash",s)),de(!s.search||!s.search.includes("#"),fc("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=l_(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var pr=e=>e.join("/").replace(/\/\/+/g,"/"),u_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jv=["POST","PUT","PATCH","DELETE"];new Set(jv);var m_=["GET",...jv];new Set(m_);var Rs=b.createContext(null);Rs.displayName="DataRouter";var kl=b.createContext(null);kl.displayName="DataRouterState";b.createContext(!1);var _v=b.createContext({isTransitioning:!1});_v.displayName="ViewTransition";var p_=b.createContext(new Map);p_.displayName="Fetchers";var g_=b.createContext(null);g_.displayName="Await";var Jt=b.createContext(null);Jt.displayName="Navigation";var aa=b.createContext(null);aa.displayName="Location";var Yt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Yt.displayName="Route";var bh=b.createContext(null);bh.displayName="RouteError";function y_(e,{relative:t}={}){de(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Jt),{hash:s,pathname:i,search:a}=oa(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:pr([r,i])),n.createHref({pathname:l,search:a,hash:s})}function As(){return b.useContext(aa)!=null}function ir(){return de(As(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(aa).location}var Sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kv(e){b.useContext(Jt).static||b.useLayoutEffect(e)}function ct(){let{isDataRoute:e}=b.useContext(Yt);return e?R_():v_()}function v_(){de(As(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Rs),{basename:t,navigator:r}=b.useContext(Jt),{matches:n}=b.useContext(Yt),{pathname:s}=ir(),i=JSON.stringify(xh(n)),a=b.useRef(!1);return kv(()=>{a.current=!0}),b.useCallback((c,u={})=>{if(wt(a.current,Sv),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=wh(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:pr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}b.createContext(null);function x_(){let{matches:e}=b.useContext(Yt),t=e[e.length-1];return t?t.params:{}}function oa(e,{relative:t}={}){let{matches:r}=b.useContext(Yt),{pathname:n}=ir(),s=JSON.stringify(xh(r));return b.useMemo(()=>wh(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function w_(e,t){return Nv(e,t)}function Nv(e,t,r,n,s){var y;de(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Jt),{matches:a}=b.useContext(Yt),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let x=h&&h.path||"";Ev(u,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=ir(),m;if(t){let x=typeof t=="string"?Ts(t):t;de(d==="/"||((y=x.pathname)==null?void 0:y.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=f;let p=m.pathname||"/",v=p;if(d!=="/"){let x=d.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=xv(e,{pathname:v});wt(h||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),wt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=k_(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:pr([d,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:pr([d,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),a,r,n,s);return t&&g?b.createElement(aa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function b_(){let e=T_(),t=f_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}var j_=b.createElement(b_,null),__=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Yt.Provider,{value:this.props.routeContext},b.createElement(bh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S_({routeContext:e,match:t,children:r}){let n=b.useContext(Rs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Yt.Provider,{value:e},r)}function k_(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);de(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=r,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var f,m;n(d,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let m,p=!1,v=null,w=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||j_,l&&(c<0&&f===0?(Ev("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):c===f&&(p=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,f+1)),y=()=>{let x;return m?x=v:p?x=w:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,b.createElement(S_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(__,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):y()},null)}function jh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N_(e){let t=b.useContext(Rs);return de(t,jh(e)),t}function E_(e){let t=b.useContext(kl);return de(t,jh(e)),t}function C_(e){let t=b.useContext(Yt);return de(t,jh(e)),t}function _h(e){let t=C_(e),r=t.matches[t.matches.length-1];return de(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function P_(){return _h("useRouteId")}function T_(){var n;let e=b.useContext(bh),t=E_("useRouteError"),r=_h("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function R_(){let{router:e}=N_("useNavigate"),t=_h("useNavigate"),r=b.useRef(!1);return kv(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{wt(r.current,Sv),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Km={};function Ev(e,t,r){!t&&!Km[e]&&(Km[e]=!0,wt(!1,r))}b.memo(A_);function A_({routes:e,future:t,state:r,unstable_onError:n}){return Nv(e,void 0,r,n,t)}function Cv({to:e,replace:t,state:r,relative:n}){de(As(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Jt);wt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Yt),{pathname:a}=ir(),l=ct(),c=wh(e,xh(i),a,n==="path"),u=JSON.stringify(c);return b.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function Ye(e){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){de(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=Ts(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=b.useMemo(()=>{let p=wr(c,a);return p==null?null:{location:{pathname:p,search:u,hash:d,state:h,key:f},navigationType:n}},[a,c,u,d,h,f,n]);return wt(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(Jt.Provider,{value:l},b.createElement(aa.Provider,{children:t,value:m}))}function I_({children:e,location:t}){return w_(Du(e),t)}function Du(e,t=[]){let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,Du(n.props.children,i));return}de(n.type===Ye,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Du(n.props.children,i)),r.push(a)}),r}var ho="get",fo="application/x-www-form-urlencoded";function Nl(e){return e!=null&&typeof e.tagName=="string"}function L_(e){return Nl(e)&&e.tagName.toLowerCase()==="button"}function D_(e){return Nl(e)&&e.tagName.toLowerCase()==="form"}function M_(e){return Nl(e)&&e.tagName.toLowerCase()==="input"}function $_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F_(e,t){return e.button===0&&(!t||t==="_self")&&!$_(e)}function Mu(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function V_(e,t){let r=Mu(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Aa=null;function U_(){if(Aa===null)try{new FormData(document.createElement("form"),0),Aa=!1}catch{Aa=!0}return Aa}var B_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mc(e){return e!=null&&!B_.has(e)?(wt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fo}"`),null):e}function z_(e,t){let r,n,s,i,a;if(D_(e)){let l=e.getAttribute("action");n=l?wr(l,t):null,r=e.getAttribute("method")||ho,s=mc(e.getAttribute("enctype"))||fo,i=new FormData(e)}else if(L_(e)||M_(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?wr(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||ho,s=mc(e.getAttribute("formenctype"))||mc(l.getAttribute("enctype"))||fo,i=new FormData(l,e),!U_()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(Nl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ho,n=null,s=fo,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W_(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function G_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function q_(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await G_(i,r);return a.links?a.links():[]}return[]}));return Q_(n.flat(1).filter(H_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Jm(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function K_(e,t,{includeHydrateFallback:r}={}){return J_(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function J_(e){return[...new Set(e)]}function Y_(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Q_(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(Y_(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Pv(){let e=b.useContext(Rs);return Sh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X_(){let e=b.useContext(kl);return Sh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var kh=b.createContext(void 0);kh.displayName="FrameworkContext";function Tv(){let e=b.useContext(kh);return Sh(e,"You must render this element inside a <HydratedRouter> element"),e}function Z_(e,t){let r=b.useContext(kh),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let v=g=>{g.forEach(y=>{a(y.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(n){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{s(!0)},p=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Ys(l,m),onBlur:Ys(c,p),onMouseEnter:Ys(u,m),onMouseLeave:Ys(d,p),onTouchStart:Ys(h,m)}]:[!1,f,{}]}function Ys(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function eS({page:e,...t}){let{router:r}=Pv(),n=b.useMemo(()=>xv(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(rS,{page:e,matches:n,...t}):null}function tS(e){let{manifest:t,routeModules:r}=Tv(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return q_(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function rS({page:e,matches:t,...r}){let n=ir(),{manifest:s,routeModules:i}=Tv(),{basename:a}=Pv(),{loaderData:l,matches:c}=X_(),u=b.useMemo(()=>Jm(e,t,c,s,n,"data"),[e,t,c,s,n]),d=b.useMemo(()=>Jm(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,v=!1;if(t.forEach(g=>{var x;let y=s.routes[g.route.id];!y||!y.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((x=i[g.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?v=!0:p.add(g.route.id))}),p.size===0)return[];let w=W_(e,a,"data");return v&&p.size>0&&w.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[a,l,n,s,u,t,e,i]),f=b.useMemo(()=>K_(d,s),[d,s]),m=tS(d);return b.createElement(b.Fragment,null,h.map(p=>b.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),f.map(p=>b.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:v})=>b.createElement("link",{key:p,nonce:r.nonce,...v})))}function nS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rv&&(window.__reactRouterVersion="7.9.6")}catch{}function sS({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=z2({window:r,v5Compat:!0}));let s=n.current,[i,a]=b.useState({action:s.action,location:s.location}),l=b.useCallback(c=>{b.startTransition(()=>a(c))},[a]);return b.useLayoutEffect(()=>s.listen(l),[s,l]),b.createElement(O_,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:p}=b.useContext(Jt),v=typeof u=="string"&&Av.test(u),w,g=!1;if(typeof u=="string"&&v&&(w=u,Rv))try{let E=new URL(window.location.href),R=u.startsWith("//")?new URL(E.protocol+u):new URL(u),$=wr(R.pathname,p);R.origin===E.origin&&$!=null?u=$+R.search+R.hash:g=!0}catch{wt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=y_(u,{relative:s}),[x,j,_]=Z_(n,f),S=lS(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function N(E){t&&t(E),E.defaultPrevented||S(E)}let k=b.createElement("a",{...f,..._,href:w||y,onClick:g||i?t:N,ref:nS(m,j),target:c,"data-discover":!v&&r==="render"?"true":void 0});return x&&!v?b.createElement(b.Fragment,null,k,b.createElement(eS,{page:y})):k});W.displayName="Link";var iS=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let h=oa(a,{relative:u.relative}),f=ir(),m=b.useContext(kl),{navigator:p,basename:v}=b.useContext(Jt),w=m!=null&&fS(h)&&l===!0,g=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(y=y.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&v&&(x=wr(x,v)||x);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let _=y===g||!s&&y.startsWith(g)&&y.charAt(j)==="/",S=x!=null&&(x===g||!s&&x.startsWith(g)&&x.charAt(g.length)==="/"),N={isActive:_,isPending:S,isTransitioning:w},k=_?t:void 0,E;typeof n=="function"?E=n(N):E=[n,_?"active":null,S?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(N):i;return b.createElement(W,{...u,"aria-current":k,className:E,ref:d,style:R,to:a,viewTransition:l},typeof c=="function"?c(N):c)});iS.displayName="NavLink";var aS=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=ho,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let p=dS(),v=hS(l,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&Av.test(l),y=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let j=x.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||a;p(j||x.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return b.createElement("form",{ref:m,method:w,action:v,onSubmit:n?c:y,...f,"data-discover":!g&&e==="render"?"true":void 0})});aS.displayName="Form";function oS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ov(e){let t=b.useContext(Rs);return de(t,oS(e)),t}function lS(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=ct(),c=ir(),u=oa(e,{relative:i});return b.useCallback(d=>{if(F_(d,t)){d.preventDefault();let h=r!==void 0?r:Ui(c)===Ui(u);l(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,r,n,t,e,s,i,a])}function El(e){wt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Mu(e)),r=b.useRef(!1),n=ir(),s=b.useMemo(()=>V_(n.search,r.current?null:t.current),[n.search]),i=ct(),a=b.useCallback((l,c)=>{const u=Mu(typeof l=="function"?l(new URLSearchParams(s)):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var cS=0,uS=()=>`__${String(++cS)}__`;function dS(){let{router:e}=Ov("useSubmit"),{basename:t}=b.useContext(Jt),r=P_();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=z_(n,t);if(s.navigate===!1){let d=s.fetcherKey||uS();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function hS(e,{relative:t}={}){let{basename:r}=b.useContext(Jt),n=b.useContext(Yt);de(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...oa(e||".",{relative:t})},a=ir();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:pr([r,i.pathname])),Ui(i)}function fS(e,{relative:t}={}){let r=b.useContext(_v);de(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ov("useViewTransitionState"),s=oa(e,{relative:t});if(!r.isTransitioning)return!1;let i=wr(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=wr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return qo(s.pathname,a)!=null||qo(s.pathname,i)!=null}var $u=function(e,t){return $u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},$u(e,t)};function Iv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$u(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ko=function(){return Ko=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ko.apply(this,arguments)};function Os(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Lv(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Dv(e,t){return function(r,n){t(r,n,e)}}function Mv(e,t,r,n,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var p={};for(var v in n)p[v]=v==="access"?{}:n[v];for(var v in n.access)p.access[v]=n.access[v];p.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var w=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=a(w.get))&&(d.get=h),(h=a(w.set))&&(d.set=h),(h=a(w.init))&&s.unshift(h)}else(h=a(w))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function $v(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Fv(e){return typeof e=="symbol"?e:"".concat(e)}function Vv(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Uv(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function L(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Bv(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Cl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function zv(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Cl(t,e,r)}function Jo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Wv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nh(arguments[t]));return e}function Gv(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function Hv(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function bs(e){return this instanceof bs?(this.v=e,this):new bs(e)}function qv(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(m){return function(p){return Promise.resolve(p).then(m,h)}}function l(m,p){n[m]&&(s[m]=function(v){return new Promise(function(w,g){i.push([m,v,w,g])>1||c(m,v)})},p&&(s[m]=p(s[m])))}function c(m,p){try{u(n[m](p))}catch(v){f(i[0][3],v)}}function u(m){m.value instanceof bs?Promise.resolve(m.value.v).then(d,h):f(i[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function f(m,p){m(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Kv(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:bs(e[s](a)),done:!1}:i?i(a):a}:i}}function Jv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Jo=="function"?Jo(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,c){a=e[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function Yv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var mS=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Fu=function(e){return Fu=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Fu(e)};function Qv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Fu(e),n=0;n<r.length;n++)r[n]!=="default"&&Cl(t,e,r[n]);return mS(t,e),t}function Xv(e){return e&&e.__esModule?e:{default:e}}function Zv(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function ex(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function tx(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function rx(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var pS=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function nx(e){function t(i){e.error=e.hasError?new pS(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function sx(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const gS={__extends:Iv,__assign:Ko,__rest:Os,__decorate:Lv,__param:Dv,__esDecorate:Mv,__runInitializers:$v,__propKey:Fv,__setFunctionName:Vv,__metadata:Uv,__awaiter:L,__generator:Bv,__createBinding:Cl,__exportStar:zv,__values:Jo,__read:Nh,__spread:Wv,__spreadArrays:Gv,__spreadArray:Hv,__await:bs,__asyncGenerator:qv,__asyncDelegator:Kv,__asyncValues:Jv,__makeTemplateObject:Yv,__importStar:Qv,__importDefault:Xv,__classPrivateFieldGet:Zv,__classPrivateFieldSet:ex,__classPrivateFieldIn:tx,__addDisposableResource:rx,__disposeResources:nx,__rewriteRelativeImportExtension:sx},yS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rx,get __assign(){return Ko},__asyncDelegator:Kv,__asyncGenerator:qv,__asyncValues:Jv,__await:bs,__awaiter:L,__classPrivateFieldGet:Zv,__classPrivateFieldIn:tx,__classPrivateFieldSet:ex,__createBinding:Cl,__decorate:Lv,__disposeResources:nx,__esDecorate:Mv,__exportStar:zv,__extends:Iv,__generator:Bv,__importDefault:Xv,__importStar:Qv,__makeTemplateObject:Yv,__metadata:Uv,__param:Dv,__propKey:Fv,__read:Nh,__rest:Os,__rewriteRelativeImportExtension:sx,__runInitializers:$v,__setFunctionName:Vv,__spread:Wv,__spreadArray:Hv,__spreadArrays:Gv,__values:Jo,default:gS},Symbol.toStringTag,{value:"Module"})),vS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Eh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class xS extends Eh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ym extends Eh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Qm extends Eh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vu||(Vu={}));class wS{constructor(t,{headers:r={},customFetch:n,region:s=Vu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=vS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return L(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let w=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const g=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v,signal:w}).catch(_=>{throw new xS(_)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new Ym(g);if(!g.ok)throw new Qm(g);let x=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield g.json():x==="application/octet-stream"||x==="application/pdf"?j=yield g.blob():x==="text/event-stream"?j=g:x==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof Qm||l instanceof Ym?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Xe={};const Is=gb(yS);var Oa={},Ia={},La={},Da={},Ma={},$a={},Xm;function ix(){if(Xm)return $a;Xm=1,Object.defineProperty($a,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $a.default=e,$a}var Zm;function ax(){if(Zm)return Ma;Zm=1,Object.defineProperty(Ma,"__esModule",{value:!0});const t=Is.__importDefault(ix());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let m=null,p=null,v=null,w=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=_:p=JSON.parse(_))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,w=406,g="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{m=JSON.parse(x),Array.isArray(m)&&c.status===404&&(p=[],m=null,w=200,g="OK")}catch{c.status===404&&x===""?(w=204,g="No Content"):m={message:x}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,w=200,g="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:p,count:v,status:w,statusText:g}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,f,m,p;let v="";const w=c==null?void 0:c.cause;if(w){const g=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",y=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";v=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,v+=`

Caused by: ${(f=w==null?void 0:w.name)!==null&&f!==void 0?f:"Error"}: ${g}`,y&&(v+=` (${y})`),w!=null&&w.stack&&(v+=`
${w.stack}`)}else v=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"FetchError"}: ${c==null?void 0:c.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Ma.default=r,Ma}var ep;function ox(){if(ep)return Da;ep=1,Object.defineProperty(Da,"__esModule",{value:!0});const t=Is.__importDefault(ax());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Da.default=r,Da}var tp;function Ch(){if(tp)return La;tp=1,Object.defineProperty(La,"__esModule",{value:!0});const t=Is.__importDefault(ox()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return La.default=n,La}var rp;function lx(){if(rp)return Ia;rp=1,Object.defineProperty(Ia,"__esModule",{value:!0});const t=Is.__importDefault(Ch());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ia.default=r,Ia}var np;function bS(){if(np)return Oa;np=1,Object.defineProperty(Oa,"__esModule",{value:!0});const e=Is,t=e.__importDefault(lx()),r=e.__importDefault(Ch());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{f.searchParams.append(v,w)})):(h="POST",m=a);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Oa.default=n,Oa}Object.defineProperty(Xe,"__esModule",{value:!0});var cx=Xe.PostgrestError=xx=Xe.PostgrestBuilder=yx=Xe.PostgrestTransformBuilder=px=Xe.PostgrestFilterBuilder=fx=Xe.PostgrestQueryBuilder=dx=Xe.PostgrestClient=void 0;const Ls=Is,ux=Ls.__importDefault(bS());var dx=Xe.PostgrestClient=ux.default;const hx=Ls.__importDefault(lx());var fx=Xe.PostgrestQueryBuilder=hx.default;const mx=Ls.__importDefault(Ch());var px=Xe.PostgrestFilterBuilder=mx.default;const gx=Ls.__importDefault(ox());var yx=Xe.PostgrestTransformBuilder=gx.default;const vx=Ls.__importDefault(ax());var xx=Xe.PostgrestBuilder=vx.default;const wx=Ls.__importDefault(ix());cx=Xe.PostgrestError=wx.default;var bx=Xe.default={PostgrestClient:ux.default,PostgrestQueryBuilder:hx.default,PostgrestFilterBuilder:mx.default,PostgrestTransformBuilder:gx.default,PostgrestBuilder:vx.default,PostgrestError:wx.default};const jS=pb({__proto__:null,get PostgrestBuilder(){return xx},get PostgrestClient(){return dx},get PostgrestError(){return cx},get PostgrestFilterBuilder(){return px},get PostgrestQueryBuilder(){return fx},get PostgrestTransformBuilder(){return yx},default:bx},[Xe]),{PostgrestClient:_S,PostgrestQueryBuilder:G6,PostgrestFilterBuilder:H6,PostgrestTransformBuilder:q6,PostgrestBuilder:K6,PostgrestError:J6}=bx||jS;class SS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kS="2.84.0",NS=`realtime-js/${kS}`,jx="1.0.0",ES="2.0.0",sp=jx,Uu=1e4,CS=1e3,PS=100;var dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dn||(dn={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var Bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bt||(Bt={}));var Bu;(function(e){e.websocket="websocket"})(Bu||(Bu={}));var hn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hn||(hn={}));class TS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(f),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,c.length),m.setUint8(p++,l.length),m.setUint8(p++,a.length),m.setUint8(p++,u.length),m.setUint8(p++,this.BINARY_ENCODING),Array.from(c,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(l,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(u,w=>m.setUint8(p++,w.charCodeAt(0)));var v=new Uint8Array(f.byteLength+d.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(d),f.byteLength),v.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(p),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,c.length),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,u.length),v.setUint8(w++,this.JSON_ENCODING),Array.from(c,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(w++,y.charCodeAt(0)));var g=new Uint8Array(p.byteLength+f.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(f),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,p={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class _x{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const ip=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=RS(a,e,t,s),i),{}):{}},RS=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Sx(i,a):zu(a)},Sx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return LS(t,r)}switch(e){case re.bool:return AS(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return OS(t);case re.json:case re.jsonb:return IS(t);case re.timestamp:return DS(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return zu(t);default:return zu(t)}},zu=e=>e,AS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Sx(t,l))}return e},DS=e=>typeof e=="string"?e.replace(" ","T"):e,kx=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class pc{constructor(t,r,n={},s=Uu){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ap;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ap||(ap={}));class pi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=pi.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pi.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var op;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(op||(op={}));var gi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gi||(gi={}));var ur;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Ph{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pc(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new _x(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new pi(this),this.broadcastEndpointURL=kx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[gi.PRESENCE]&&this.bindings[gi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ur.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(ur.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<w;y++){const x=v[y],{filter:{event:j,schema:_,table:S,filter:N}}=x,k=m&&m[y];if(k&&k.event===j&&k.schema===_&&k.table===S&&k.filter===N)g.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ur.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ee.errored,t==null||t(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ee.joined&&t===gi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new pc(this,Bt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pc(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>PS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Bt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,v,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,v,w,g,y,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:w,commit_timestamp:g,type:y,errors:x}=p;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(f,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ph.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bt.close,{},t)}_onError(t){this._on(Bt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ip(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ip(t.columns,t.old_record)),r}}const gc=()=>{},Fa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MS=[1e3,2e3,5e3,1e4],$S=1e4,FS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uu,this.transport=null,this.heartbeatIntervalMs=Fa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gc,this.ref=0,this.reconnectTimer=null,this.vsn=sp,this.logger=gc,this.conn=null,this.sendBuffer=[],this.serializer=new TS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Bu.websocket}`,this.httpEndpoint=kx(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dn.connecting:return hn.Connecting;case dn.open:return hn.Open;case dn.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ph(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(CS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===dn.open||this.conn.readyState===dn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([FS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:NS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Bt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _x(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,h,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Uu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Fa.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:gc,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:sp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>MS[p-1]||$S,this.vsn){case jx:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,v)=>v(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(p,v)=>v(JSON.parse(p));break;case ES:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function he(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class US extends Th{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wu extends Th{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Rh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BS=()=>Response,Gu=e=>{if(Array.isArray(e))return e.map(r=>Gu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Gu(n)}),t},zS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},WS=(e,t,r)=>L(void 0,void 0,void 0,function*(){const n=yield BS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new US(yc(s),i,a))}).catch(s=>{t(new Wu(yc(s),s))}):t(new Wu(yc(e),e))}),GS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(zS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function la(e,t,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,GS(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>WS(c,l,n))})})}function Bi(e,t,r,n){return L(this,void 0,void 0,function*(){return la(e,"GET",t,r,n)})}function Vt(e,t,r,n,s){return L(this,void 0,void 0,function*(){return la(e,"POST",t,n,s,r)})}function Hu(e,t,r,n,s){return L(this,void 0,void 0,function*(){return la(e,"PUT",t,n,s,r)})}function HS(e,t,r,n){return L(this,void 0,void 0,function*(){return la(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ah(e,t,r,n,s){return L(this,void 0,void 0,function*(){return la(e,"DELETE",t,n,s,r)})}class qS{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(he(t))return{data:null,error:t};throw t}})}}var Nx;class KS{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Nx]="BlobDownloadBuilder",this.promise=null}asStream(){return new qS(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(he(t))return{data:null,error:t};throw t}})}}Nx=Symbol.toStringTag;const JS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YS{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Rh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return L(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},lp),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Hu:Vt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}upload(t,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return L(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:lp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Hu(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return L(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Th("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}update(t,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return L(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}copy(t,r,n){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return L(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Vt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return L(this,void 0,void 0,function*(){try{const s=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Bi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new KS(c,this.shouldThrowOnError)}info(t){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Gu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}exists(t){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield HS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n)&&n instanceof Wu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return L(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}list(t,r,n){return L(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},JS),r),{prefix:t||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}listV2(t,r){return L(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ex="2.84.0",Cx={"X-Client-Info":`storage-js/${Ex}`};class QS{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),r),this.fetch=Rh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return L(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Bi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}getBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}createBucket(t){return L(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return L(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}emptyBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class XS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),r),this.fetch=Rh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}listBuckets(t){return L(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Bi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}}const Oh={"X-Client-Info":`storage-js/${Ex}`,"Content-Type":"application/json"};class Px extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class vc extends Px{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ZS extends Px{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var cp;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(cp||(cp={}));const Ih=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ek=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},up=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tk=(e,t,r)=>L(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new vc(up(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new vc(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new vc(l,s,a))}}else t(new ZS(up(e),e))}),rk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ek(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function nk(e,t,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,rk(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>tk(c,l,n))})})}function pt(e,t,r,n,s){return L(this,void 0,void 0,function*(){return nk(e,"POST",t,n,s,r)})}class sk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oh),r),this.fetch=Ih(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return L(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return L(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listIndexes(t){return L(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return L(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class ik{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oh),r),this.fetch=Ih(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return L(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}getVectors(t){return L(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listVectors(t){return L(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}queryVectors(t){return L(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return L(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}}class ak{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oh),r),this.fetch=Ih(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return L(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}getBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listBuckets(){return L(this,arguments,void 0,function*(t={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}}class ok extends ak{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new lk(this.url,this.headers,t,this.fetch)}}class lk extends sk{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new ck(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class ck extends ik{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uk extends QS{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new YS(this.url,this.headers,t,this.fetch)}get vectors(){return new ok(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new XS(this.url+"/iceberg",this.headers,this.fetch)}}const dk="2.84.0";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const hk={"X-Client-Info":`supabase-js-${si}/${dk}`},fk={headers:hk},mk={schema:"public"},pk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gk={},yk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vk=()=>Headers,xk=(e,t,r)=>{const n=yk(r),s=vk();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))}};function wk(e){return e.endsWith("/")?e:e+"/"}function bk(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function jk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tx="2.84.0",Vn=30*1e3,qu=3,xc=qu*Vn,_k="http://localhost:9999",Sk="supabase.auth.token",kk={"X-Client-Info":`gotrue-js/${Tx}`},Ku="X-Supabase-Api-Version",Rx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ek=10*60*1e3;class zi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ck extends zi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Pk(e){return M(e)&&e.name==="AuthApiError"}class fn extends zi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qr extends zi{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ht extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tk(e){return M(e)&&e.name==="AuthSessionMissingError"}class In extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Va extends Qr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ua extends Qr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rk(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class dp extends Qr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ju extends Qr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wc(e){return M(e)&&e.name==="AuthRetryableFetchError"}class hp extends Qr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Yu extends Qr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fp=` 	
\r=`.split(""),Ak=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fp.length;t+=1)e[fp[t].charCodeAt(0)]=-2;for(let t=0;t<Yo.length;t+=1)e[Yo[t].charCodeAt(0)]=t;return e})();function mp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yo[n]),t.queuedBits-=6}}function Ax(e,t,r){const n=Ak[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pp(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Lk(a,n,r)};for(let a=0;a<e.length;a+=1)Ax(e.charCodeAt(a),s,i);return t.join("")}function Ok(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ik(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ok(n,t)}}function Lk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ds(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ax(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Dk(e){const t=[];return Ik(e,r=>t.push(r)),new Uint8Array(t)}function yn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>mp(s,r,n)),mp(null,r,n),t.join("")}function Mk(e){return Math.round(Date.now()/1e3)+e}function $k(){return Symbol("auth-callback")}const Ie=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},Ox=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function Fk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ix=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Vk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Un=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nr=async(e,t)=>{await e.removeItem(t)};class Pl{constructor(){this.promise=new Pl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pl.promiseConstructor=Promise;function bc(e){const t=e.split(".");if(t.length!==3)throw new Yu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Nk.test(t[n]))throw new Yu("JWT not in base64url format");return{header:JSON.parse(pp(t[0])),payload:JSON.parse(pp(t[1])),signature:ds(t[2]),raw:{header:t[0],payload:t[1]}}}async function Uk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bk(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function zk(e){return("0"+e.toString(16)).substr(-2)}function Wk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,zk).join("")}async function Gk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Hk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Gk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ln(e,t,r=!1){const n=Wk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Un(e,`${t}-code-verifier`,s);const i=await Hk(n);return[i,n===i?"plain":"s256"]}const qk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kk(e){const t=e.headers.get(Ku);if(!t||!t.match(qk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dn(e){if(!Qk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xk(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function gp(e){return JSON.parse(JSON.stringify(e))}const cn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zk=[502,503,504];async function yp(e){var t;if(!Vk(e))throw new Ju(cn(e),0);if(Zk.includes(e.status))throw new Ju(cn(e),e.status);let r;try{r=await e.json()}catch(i){throw new fn(cn(i),i)}let n;const s=Kk(e);if(s&&s.getTime()>=Rx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hp(cn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new hp(cn(r),e.status,r.weak_password.reasons);throw new Ck(cn(r),e.status||500,n)}const eN=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function V(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ku]||(i[Ku]=Rx["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await tN(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function tN(e,t,r,n,s,i){const a=eN(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Ju(cn(c),0)}if(l.ok||await yp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await yp(c)}}function Mt(e){var t;let r=null;sN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Mk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function vp(e){const t=Mt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ir(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rN(e){return{data:e,error:null}}function nN(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Os(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function xp(e){return e}function sN(e){return e.access_token&&e.refresh_token&&e.expires_in}const _c=["global","local","others"];class iN{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ix(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=_c[0]){if(_c.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_c.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ir})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Os(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ir})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:xp});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Dn(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ir})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Dn(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ir})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Dn(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ir})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Dn(t.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Dn(t.userId),Dn(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:xp});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}}function wp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Mn={debug:!!(globalThis&&Ox()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aN extends Lx{}async function oN(e,t,r){Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cN(e){return parseInt(e,16)}function uN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dN(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Dx(e.address),p=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${m}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}g+=y}return`${w}
${g}`}class _e extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Qo extends _e{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function hN({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Mx(a)){if(i.rp.id!==a)return new _e({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fN({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Mx(n)){if(r.rpId!==n)return new _e({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pN=new mN;function gN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Os(e,["challenge","user","excludeCredentials"]),i=ds(t).buffer,a=Object.assign(Object.assign({},r),{id:ds(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ds(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function yN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Os(e,["challenge","allowCredentials"]),s=ds(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:ds(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function vN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:yn(new Uint8Array(e.response.attestationObject)),clientDataJSON:yn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:yn(new Uint8Array(s.authenticatorData)),clientDataJSON:yn(new Uint8Array(s.clientDataJSON)),signature:yn(new Uint8Array(s.signature)),userHandle:s.userHandle?yn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function bp(){var e,t;return!!(Ie()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function wN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qo("Browser returned unexpected credential type",t)}:{data:null,error:new Qo("Empty credential response",t)}}catch(t){return{data:null,error:hN({error:t,options:e})}}}async function bN(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qo("Browser returned unexpected credential type",t)}:{data:null,error:new Qo("Empty credential response",t)}}catch(t){return{data:null,error:fN({error:t,options:e})}}}const jN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_N={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Xo(l,a):n[i]=Xo(a)}else n[i]=a}return n}function SN(e,t){return Xo(jN,e,t||{})}function kN(e,t){return Xo(_N,e,t||{})}class NN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??pN.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=SN(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await wN({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=kN(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await bN(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new fn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new zi("rpId is required for WebAuthn authentication")};try{if(!bp())return{data:null,error:new fn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new fn("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new zi("rpId is required for WebAuthn registration")};try{if(!bp())return{data:null,error:new fn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new fn("Unexpected error in register",a)}}}}lN();const EN={url:_k,storageKey:Sk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jp(e,t,r){return await r()}const $n={};class Wi{get jwks(){var t,r;return(r=(t=$n[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$n[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},EN),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Wi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Wi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ie()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new iN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ix(i.fetch),this.lock=i.lock||jp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ie()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oN:this.lock=jp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ox()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=wp(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ie()&&(r=Fk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ie()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Rk(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?this._returnResult({error:r}):this._returnResult({error:new fn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mt}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Ln(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Mt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Mt})}else throw new Va("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vp})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vp})}else throw new Va("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new In;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,h,f;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:v,wallet:w,statement:g,options:y}=t;let x;if(Ie())if(typeof w=="object")x=w;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")x=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),_=await x.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Dx(_[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const E=await x.request({method:"eth_chainId"});N=cN(E)}const k={domain:j.host,address:S,statement:g,uri:j.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=dN(k),p=await x.request({method:"personal_sign",params:[uN(m),S]})}try{const{data:v,error:w}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Mt});if(w)throw w;if(!v||!v.session||!v.user){const g=new In;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(M(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,h,f,m;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:w,wallet:g,statement:y,options:x}=t;let j;if(Ie())if(typeof g=="object")j=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)p=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:w,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:yn(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Mt});if(g)throw g;if(!w||!w.session||!w.user){const y=new In;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(M(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await tn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mt});if(await Nr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new In;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new In;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ln(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Va("You must provide either an email or phone number.")}catch(l){if(M(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Mt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ln(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:rN});return!((i=u.data)===null||i===void 0)&&i.url&&Ie()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(M(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ht;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(M(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Va("You must provide either an email or phone number and a type")}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<xc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await tn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=jc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Xk(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ir}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ir})})}catch(r){if(M(r))return Tk(r)&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ht;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ln(this.storage,this.storageKey));const{data:u,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ir});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(M(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ht;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=bc(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(M(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ht;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ie())throw new Ua("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ua(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ua("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dp("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Ua("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(M(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await tn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Pk(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=$k(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ln(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ie()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(M(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mt}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new In}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Bk(async s=>(s>0&&await Uk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&wc(i)&&Date.now()+a-n<Vn})}catch(n){if(this._debug(r,"error",n),M(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ie()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await tn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Un(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:jc()}else if(s&&!s.user&&!s.user){const a=await tn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Nr(this.storage,this.storageKey+"-user"),await Un(this.storage,this.storageKey,s)):s.user=jc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${xc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),wc(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),M(i)){const a={data:null,error:i};return wc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Un(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=gp(s);await Un(this.storage,this.storageKey,i)}else{const s=gp(r);await Un(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Nr(this.storage,this.storageKey),await Nr(this.storage,this.storageKey+"-code-verifier"),await Nr(this.storage,this.storageKey+"-user"),this.userStorage&&await Nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vn}ms, refresh threshold is ${qu} ticks`),s<=qu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ln(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?vN(t.webauthn.credential_response):xN(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=bc(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ht})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ht});const a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ie()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ht});const a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ie()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ht})})}catch(t){if(M(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new ht})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Ek>s)return n;const{data:i,error:a}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=bc(n);r!=null&&r.allowExpired||Jk(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=Yk(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Dk(`${l}.${c}`)))throw new Yu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}}Wi.nextInstanceID={};const CN=Wi;class PN extends CN{constructor(t){super(t)}}class TN{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=jk(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:mk,realtime:gk,auth:Object.assign(Object.assign({},pk),{storageKey:c}),global:fk},d=bk(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=xk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new _S(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new uk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new wS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PN({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new VS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RN=(e,t,r)=>new TN(e,t,r);function AN(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}AN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ON="https://zyzoszfbwtryqiwmrkgm.supabase.co",IN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5em9zemZid3RyeXFpd21ya2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODM5OTMsImV4cCI6MjA4NDU1OTk5M30._U2m-HjTsWOGU2fltAczSW0GJFvauCzdMFN8yUC0q7g",B=RN(ON,IN,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),$x=b.createContext(void 0);function LN({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{B.auth.getSession().then(({data:{session:f}})=>{s(f),r((f==null?void 0:f.user)??null),a(!1)});const{data:{subscription:h}}=B.auth.onAuthStateChange((f,m)=>{(async()=>(s(m),r((m==null?void 0:m.user)??null)))()});return()=>h.unsubscribe()},[]);const d={user:t,session:n,loading:i,signUp:async(h,f)=>{const{error:m}=await B.auth.signUp({email:h,password:f});return{error:m}},signIn:async(h,f)=>{const{error:m}=await B.auth.signInWithPassword({email:h,password:f});return{error:m}},signOut:async()=>{const{error:h}=await B.auth.signOut();return{error:h}}};return o.jsx($x.Provider,{value:d,children:e})}function ar(){const e=b.useContext($x);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Lh=b.createContext({});function ca(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Dh=typeof window<"u",Mh=Dh?b.useLayoutEffect:b.useEffect,Tl=b.createContext(null);function $h(e,t){e.indexOf(t)===-1&&e.push(t)}function Rl(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const br=(e,t,r)=>r>t?t:r<e?e:r;let Fh=()=>{};const jr={},Fx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Vx(e){return typeof e=="object"&&e!==null}const Ux=e=>/^0[^.\s]+$/u.test(e);function Vh(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ot=e=>e,DN=(e,t)=>r=>t(e(r)),ua=(...e)=>e.reduce(DN),js=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Uh{constructor(){this.subscriptions=[]}add(t){return $h(this.subscriptions,t),()=>Rl(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qt=e=>e*1e3,Rt=e=>e/1e3;function Bx(e,t){return t?e*(1e3/t):0}const MN=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},zx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,$N=1e-7,FN=12;function VN(e,t,r,n,s){let i,a,l=0;do a=t+(r-t)/2,i=zx(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>$N&&++l<FN);return a}function da(e,t,r,n){if(e===t&&r===n)return Ot;const s=i=>VN(i,0,1,e,r);return i=>i===0||i===1?i:zx(s(i),t,n)}const Wx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Gx=e=>t=>1-e(1-t),Hx=da(.33,1.53,.69,.99),Bh=Gx(Hx),qx=Wx(Bh),Kx=e=>(e*=2)<1?.5*Bh(e):.5*(2-Math.pow(2,-10*(e-1))),zh=e=>1-Math.sin(Math.acos(e)),Jx=Gx(zh),Yx=Wx(zh),UN=da(.42,0,1,1),BN=da(0,0,.58,1),Qx=da(.42,0,.58,1),Xx=e=>Array.isArray(e)&&typeof e[0]!="number";function Zx(e,t){return Xx(e)?e[MN(0,e.length,t)]:e}const ew=e=>Array.isArray(e)&&typeof e[0]=="number",zN={linear:Ot,easeIn:UN,easeInOut:Qx,easeOut:BN,circIn:zh,circInOut:Yx,circOut:Jx,backIn:Bh,backInOut:qx,backOut:Hx,anticipate:Kx},WN=e=>typeof e=="string",_p=e=>{if(ew(e)){Fh(e.length===4);const[t,r,n,s]=e;return da(t,r,n,s)}else if(WN(e))return zN[e];return e},Ba=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GN(e,t){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,h=!1,f=!1)=>{const p=f&&s?r:n;return h&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const HN=40;function tw(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Ba.reduce((x,j)=>(x[j]=GN(i),x),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:p}=a,v=()=>{const x=jr.useManualTiming?s.timestamp:performance.now();r=!1,jr.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,HN),1)),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),p.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(v))},w=()=>{r=!0,n=!0,s.isProcessing||e(v)};return{schedule:Ba.reduce((x,j)=>{const _=a[j];return x[j]=(S,N=!1,k=!1)=>(r||w(),_.schedule(S,N,k)),x},{}),cancel:x=>{for(let j=0;j<Ba.length;j++)a[Ba[j]].cancel(x)},state:s,steps:a}}const{schedule:oe,cancel:_r,state:De,steps:Sc}=tw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ot,!0);let mo;function qN(){mo=void 0}const it={now:()=>(mo===void 0&&it.set(De.isProcessing||jr.useManualTiming?De.timestamp:performance.now()),mo),set:e=>{mo=e,queueMicrotask(qN)}},rw=e=>t=>typeof t=="string"&&t.startsWith(e),Wh=rw("--"),KN=rw("var(--"),Gh=e=>KN(e)?JN.test(e.split("/*")[0].trim()):!1,JN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ds={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gi={...Ds,transform:e=>br(0,1,e)},za={...Ds,default:1},yi=e=>Math.round(e*1e5)/1e5,Hh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YN(e){return e==null}const QN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qh=(e,t)=>r=>!!(typeof r=="string"&&QN.test(r)&&r.startsWith(e)||t&&!YN(r)&&Object.prototype.hasOwnProperty.call(r,t)),nw=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,l]=n.match(Hh);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},XN=e=>br(0,255,e),kc={...Ds,transform:e=>Math.round(XN(e))},vn={test:qh("rgb","red"),parse:nw("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+kc.transform(e)+", "+kc.transform(t)+", "+kc.transform(r)+", "+yi(Gi.transform(n))+")"};function ZN(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Qu={test:qh("#"),parse:ZN,transform:vn.transform},ha=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cr=ha("deg"),sr=ha("%"),U=ha("px"),eE=ha("vh"),tE=ha("vw"),Sp={...sr,parse:e=>sr.parse(e)/100,transform:e=>sr.transform(e*100)},es={test:qh("hsl","hue"),parse:nw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+sr.transform(yi(t))+", "+sr.transform(yi(r))+", "+yi(Gi.transform(n))+")"},Se={test:e=>vn.test(e)||Qu.test(e)||es.test(e),parse:e=>vn.test(e)?vn.parse(e):es.test(e)?es.parse(e):Qu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?vn.transform(e):es.transform(e),getAnimatableNone:e=>{const t=Se.parse(e);return t.alpha=0,Se.transform(t)}},rE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nE(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Hh))==null?void 0:t.length)||0)+(((r=e.match(rE))==null?void 0:r.length)||0)>0}const sw="number",iw="color",sE="var",iE="var(",kp="${}",aE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hi(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(aE,c=>(Se.test(c)?(n.color.push(i),s.push(iw),r.push(Se.parse(c))):c.startsWith(iE)?(n.var.push(i),s.push(sE),r.push(c)):(n.number.push(i),s.push(sw),r.push(parseFloat(c))),++i,kp)).split(kp);return{values:r,split:l,indexes:n,types:s}}function aw(e){return Hi(e).values}function ow(e){const{split:t,types:r}=Hi(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const l=r[a];l===sw?i+=yi(s[a]):l===iw?i+=Se.transform(s[a]):i+=s[a]}return i}}const oE=e=>typeof e=="number"?0:Se.test(e)?Se.getAnimatableNone(e):e;function lE(e){const t=aw(e);return ow(e)(t.map(oE))}const qr={test:nE,parse:aw,createTransformer:ow,getAnimatableNone:lE};function Nc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function cE({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Nc(c,l,e+1/3),i=Nc(c,l,e),a=Nc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function Zo(e,t){return r=>r>0?t:e}const ue=(e,t,r)=>e+(t-e)*r,Ec=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},uE=[Qu,vn,es],dE=e=>uE.find(t=>t.test(e));function Np(e){const t=dE(e);if(!t)return!1;let r=t.parse(e);return t===es&&(r=cE(r)),r}const Ep=(e,t)=>{const r=Np(e),n=Np(t);if(!r||!n)return Zo(e,t);const s={...r};return i=>(s.red=Ec(r.red,n.red,i),s.green=Ec(r.green,n.green,i),s.blue=Ec(r.blue,n.blue,i),s.alpha=ue(r.alpha,n.alpha,i),vn.transform(s))},Xu=new Set(["none","hidden"]);function hE(e,t){return Xu.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function fE(e,t){return r=>ue(e,t,r)}function Kh(e){return typeof e=="number"?fE:typeof e=="string"?Gh(e)?Zo:Se.test(e)?Ep:gE:Array.isArray(e)?lw:typeof e=="object"?Se.test(e)?Ep:mE:Zo}function lw(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>Kh(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function mE(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Kh(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function pE(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][n[i]],l=e.values[a]??0;r[s]=l,n[i]++}return r}const gE=(e,t)=>{const r=qr.createTransformer(t),n=Hi(e),s=Hi(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Xu.has(e)&&!s.values.length||Xu.has(t)&&!n.values.length?hE(e,t):ua(lw(pE(n,s),s.values),r):Zo(e,t)};function cw(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ue(e,t,r):Kh(e)(e,t)}const yE=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>oe.update(t,r),stop:()=>_r(t),now:()=>De.isProcessing?De.timestamp:it.now()}},uw=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},el=2e4;function Jh(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<el;)t+=r,n=e.next(t);return t>=el?1/0:t}function dw(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Jh(n),el);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Rt(s)}}const vE=5;function hw(e,t,r){const n=Math.max(t-vE,0);return Bx(r-e(n),t-n)}const xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cc=.001;function xE({duration:e=xe.duration,bounce:t=xe.bounce,velocity:r=xe.velocity,mass:n=xe.mass}){let s,i,a=1-t;a=br(xe.minDamping,xe.maxDamping,a),e=br(xe.minDuration,xe.maxDuration,Rt(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,m=Zu(u,a),p=Math.exp(-h);return Cc-f/m*p},i=u=>{const h=u*a*e,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-h),v=Zu(Math.pow(u,2),a);return(-s(u)+Cc>0?-1:1)*((f-m)*p)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Cc+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=bE(s,i,l);if(e=qt(e),isNaN(c))return{stiffness:xe.stiffness,damping:xe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const wE=12;function bE(e,t,r){let n=r;for(let s=1;s<wE;s++)n=n-e(n)/t(n);return n}function Zu(e,t){return e*Math.sqrt(1-t*t)}const jE=["duration","bounce"],_E=["stiffness","damping","mass"];function Cp(e,t){return t.some(r=>e[r]!==void 0)}function SE(e){let t={velocity:xe.velocity,stiffness:xe.stiffness,damping:xe.damping,mass:xe.mass,isResolvedFromDuration:!1,...e};if(!Cp(e,_E)&&Cp(e,jE))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*br(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:xe.mass,stiffness:s,damping:i}}else{const r=xE(e);t={...t,...r,mass:xe.mass},t.isResolvedFromDuration=!0}return t}function qi(e=xe.visualDuration,t=xe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=SE({...r,velocity:-Rt(r.velocity||0)}),p=f||0,v=u/(2*Math.sqrt(c*d)),w=a-i,g=Rt(Math.sqrt(c/d)),y=Math.abs(w)<5;n||(n=y?xe.restSpeed.granular:xe.restSpeed.default),s||(s=y?xe.restDelta.granular:xe.restDelta.default);let x;if(v<1){const _=Zu(g,v);x=S=>{const N=Math.exp(-v*g*S);return a-N*((p+v*g*w)/_*Math.sin(_*S)+w*Math.cos(_*S))}}else if(v===1)x=_=>a-Math.exp(-g*_)*(w+(p+g*w)*_);else{const _=g*Math.sqrt(v*v-1);x=S=>{const N=Math.exp(-v*g*S),k=Math.min(_*S,300);return a-N*((p+v*g*w)*Math.sinh(k)+_*w*Math.cosh(k))/_}}const j={calculatedDuration:m&&h||null,next:_=>{const S=x(_);if(m)l.done=_>=h;else{let N=_===0?p:0;v<1&&(N=_===0?qt(p):hw(x,_,S));const k=Math.abs(N)<=n,E=Math.abs(a-S)<=s;l.done=k&&E}return l.value=l.done?a:S,l},toString:()=>{const _=Math.min(Jh(j),el),S=uw(N=>j.next(_*N).value,_,30);return _+"ms "+S},toTransition:()=>{}};return j}qi.applyToOptions=e=>{const t=dw(e,100,qi);return e.ease=t.ease,e.duration=qt(t.duration),e.type="keyframes",e};function ed({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=k=>l!==void 0&&k<l||c!==void 0&&k>c,p=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let v=r*t;const w=h+v,g=a===void 0?w:a(w);g!==w&&(v=g-h);const y=k=>-v*Math.exp(-k/n),x=k=>g+y(k),j=k=>{const E=y(k),R=x(k);f.done=Math.abs(E)<=u,f.value=f.done?g:R};let _,S;const N=k=>{m(f.value)&&(_=k,S=qi({keyframes:[f.value,p(f.value)],velocity:hw(x,k,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:k=>{let E=!1;return!S&&_===void 0&&(E=!0,j(k),N(k)),_!==void 0&&k>=_?S.next(k-_):(!E&&j(k),f)}}}function kE(e,t,r){const n=[],s=r||jr.mix||cw,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Ot:t;l=ua(c,l)}n.push(l)}return n}function fw(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Fh(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=kE(t,n,s),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=js(e[h],e[h+1],d);return l[h](f)};return r?d=>u(br(e[0],e[i-1],d)):u}function mw(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=js(0,t,n);e.push(ue(r,1,s))}}function pw(e){const t=[0];return mw(t,e.length-1),t}function NE(e,t){return e.map(r=>r*t)}function EE(e,t){return e.map(()=>t||Qx).splice(0,e.length-1)}function vi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=Xx(n)?n.map(_p):_p(n),i={done:!1,value:t[0]},a=NE(r&&r.length===t.length?r:pw(t),e),l=fw(a,t,{ease:Array.isArray(s)?s:EE(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const CE=e=>e!==null;function Yh(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(CE),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const PE={decay:ed,inertia:ed,tween:vi,keyframes:vi,spring:qi};function gw(e){typeof e.type=="string"&&(e.type=PE[e.type])}class Qh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const TE=e=>e/100;class Xh extends Qh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==it.now()&&this.tick(it.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gw(t);const{type:r=vi,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=r||vi;c!==vi&&typeof l[0]!="number"&&(this.mixKeyframes=ua(TE,cw(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Jh(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,j=n;if(h){const k=Math.min(this.currentTime,s)/l;let E=Math.floor(k),R=k%1;!R&&k>=1&&(R=1),R===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/l)):f==="mirror"&&(j=a)),x=br(0,1,R)*l}const _=y?{done:!1,value:d[0]}:j.next(x);i&&(_.value=i(_.value));let{done:S}=_;!y&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return N&&p!==ed&&(_.value=Yh(d,this.options,w,this.speed)),v&&v(_.value),N&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return Rt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rt(t)}get time(){return Rt(this.currentTime)}set time(t){var r;t=qt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(it.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Rt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=yE,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(it.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function RE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xn=e=>e*180/Math.PI,td=e=>{const t=xn(Math.atan2(e[1],e[0]));return rd(t)},AE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:td,rotateZ:td,skewX:e=>xn(Math.atan(e[1])),skewY:e=>xn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rd=e=>(e=e%360,e<0&&(e+=360),e),Pp=td,Tp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Rp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),OE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tp,scaleY:Rp,scale:e=>(Tp(e)+Rp(e))/2,rotateX:e=>rd(xn(Math.atan2(e[6],e[5]))),rotateY:e=>rd(xn(Math.atan2(-e[2],e[0]))),rotateZ:Pp,rotate:Pp,skewX:e=>xn(Math.atan(e[4])),skewY:e=>xn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nd(e){return e.includes("scale")?1:0}function sd(e,t){if(!e||e==="none")return nd(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=OE,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=AE,s=l}if(!s)return nd(t);const i=n[t],a=s[1].split(",").map(LE);return typeof i=="function"?i(a):a[i]}const IE=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return sd(r,t)};function LE(e){return parseFloat(e.trim())}const Ms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$s=new Set(Ms),Ap=e=>e===Ds||e===U,DE=new Set(["x","y","z"]),ME=Ms.filter(e=>!DE.has(e));function $E(e){const t=[];return ME.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const jn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>sd(t,"x"),y:(e,{transform:t})=>sd(t,"y")};jn.translateX=jn.x;jn.translateY=jn.y;const _n=new Set;let id=!1,ad=!1,od=!1;function yw(){if(ad){const e=Array.from(_n).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=$E(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var l;(l=n.getValue(i))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ad=!1,id=!1,_n.forEach(e=>e.complete(od)),_n.clear()}function vw(){_n.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ad=!0)})}function FE(){od=!0,vw(),yw(),od=!1}class Zh{constructor(t,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(_n.add(this),id||(id=!0,oe.read(vw),oe.resolveKeyframes(yw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}RE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),_n.delete(this)}cancel(){this.state==="scheduled"&&(_n.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VE=e=>e.startsWith("--");function UE(e,t,r){VE(t)?e.style.setProperty(t,r):e.style[t]=r}const BE=Vh(()=>window.ScrollTimeline!==void 0),zE={};function WE(e,t){const r=Vh(e);return()=>zE[t]??r()}const xw=WE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ii=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Op={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ii([0,.65,.55,1]),circOut:ii([.55,0,1,.45]),backIn:ii([.31,.01,.66,-.59]),backOut:ii([.33,1.53,.69,.99])};function ww(e,t){if(e)return typeof e=="function"?xw()?uw(e,t):"ease-out":ew(e)?ii(e):Array.isArray(e)?e.map(r=>ww(r,t)||Op.easeOut):Op[e]}function GE(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const h=ww(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function ef(e){return typeof e=="function"&&"applyToOptions"in e}function HE({type:e,...t}){return ef(e)&&xw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qE extends Qh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Fh(typeof t.type!="string");const u=HE(t);this.animation=GE(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Yh(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):UE(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Rt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rt(t)}get time(){return Rt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&BE()?(this.animation.timeline=t,Ot):r(this)}}const bw={anticipate:Kx,backInOut:qx,circInOut:Yx};function KE(e){return e in bw}function JE(e){typeof e.ease=="string"&&KE(e.ease)&&(e.ease=bw[e.ease])}const Ip=10;class YE extends qE{constructor(t){JE(t),gw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new Xh({...a,autoplay:!1}),c=qt(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Ip).value,l.sample(c).value,Ip),l.stop()}}const Lp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qr.test(e)||e==="0")&&!e.startsWith("url("));function QE(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function XE(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Lp(s,t),l=Lp(i,t);return!a||!l?!1:QE(e)||(r==="spring"||ef(r))&&n}function ld(e){e.duration=0,e.type="keyframes"}const ZE=new Set(["opacity","clipPath","filter","transform"]),eC=Vh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tC(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return eC()&&r&&ZE.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const rC=40;class nC extends Qh{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var p;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=it.now();const f={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Zh;this.keyframeResolver=new m(l,(v,w,g)=>this.onKeyframesResolved(v,w,f,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=it.now(),XE(t,i,a,l)||((jr.instantAnimations||!c)&&(d==null||d(Yh(t,n,r))),t[0]=t[t.length-1],ld(n),n.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>rC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&tC(f)?new YE({...f,element:f.motionValue.owner.current}):new Xh(f);m.finished.then(()=>this.notifyFinished()).catch(Ot),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),FE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class sC{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,s)=>{n&&n(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Dp(this.animations,"duration")}get iterationDuration(){return Dp(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Dp(e,t){let r=0;for(let n=0;n<e.length;n++){const s=e[n][t];s!==null&&s>r&&(r=s)}return r}class iC extends sC{then(t,r){return this.finished.finally(t).then(()=>{})}}const aC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oC(e){const t=aC.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function jw(e,t,r=1){const[n,s]=oC(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return Fx(a)?parseFloat(a):a}return Gh(s)?jw(s,t,r+1):s}function tf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const _w=new Set(["width","height","top","left","right","bottom",...Ms]),lC={test:e=>e==="auto",parse:e=>e},Sw=e=>t=>t.test(e),kw=[Ds,U,sr,Cr,tE,eE,lC],Mp=e=>kw.find(Sw(e));function cC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ux(e):!0}const uC=new Set(["brightness","contrast","saturate","opacity"]);function dC(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Hh)||[];if(!n)return e;const s=r.replace(n,"");let i=uC.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const hC=/\b([a-z-]*)\(.*?\)/gu,cd={...qr,getAnimatableNone:e=>{const t=e.match(hC);return t?t.map(dC).join(" "):e}},$p={...Ds,transform:Math.round},fC={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:za,scaleX:za,scaleY:za,scaleZ:za,skew:Cr,skewX:Cr,skewY:Cr,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Gi,originX:Sp,originY:Sp,originZ:U},rf={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...fC,zIndex:$p,fillOpacity:Gi,strokeOpacity:Gi,numOctaves:$p},mC={...rf,color:Se,backgroundColor:Se,outlineColor:Se,fill:Se,stroke:Se,borderColor:Se,borderTopColor:Se,borderRightColor:Se,borderBottomColor:Se,borderLeftColor:Se,filter:cd,WebkitFilter:cd},Nw=e=>mC[e];function Ew(e,t){let r=Nw(e);return r!==cd&&(r=qr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const pC=new Set(["auto","none","0"]);function gC(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!pC.has(i)&&Hi(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Ew(r,s)}class yC extends Zh{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Gh(u))){const d=jw(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_w.has(n)||t.length!==2)return;const[s,i]=t,a=Mp(s),l=Mp(i);if(a!==l)if(Ap(a)&&Ap(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else jn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||cC(t[s]))&&n.push(s);n.length&&gC(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=jn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function nf(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Cw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Pw(e){return Vx(e)&&"offsetHeight"in e}const Fp=30,vC=e=>!isNaN(parseFloat(e)),xi={current:void 0};class xC{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=it.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Uh);const n=this.events[t].add(r);return t==="change"?()=>{n(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return xi.current&&xi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fp)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Fp);return Bx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tn(e,t){return new xC(e,t)}const{schedule:sf}=tw(queueMicrotask,!1),$t={x:!1,y:!1};function Tw(){return $t.x||$t.y}function wC(e){return e==="x"||e==="y"?$t[e]?null:($t[e]=!0,()=>{$t[e]=!1}):$t.x||$t.y?null:($t.x=$t.y=!0,()=>{$t.x=$t.y=!1})}function Rw(e,t){const r=nf(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Vp(e){return!(e.pointerType==="touch"||Tw())}function bC(e,t,r={}){const[n,s,i]=Rw(e,r),a=l=>{if(!Vp(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{Vp(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const Aw=(e,t)=>t?e===t?!0:Aw(e,t.parentElement):!1,af=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,jC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _C(e){return jC.has(e.tagName)||e.tabIndex!==-1}const po=new WeakSet;function Up(e){return t=>{t.key==="Enter"&&e(t)}}function Pc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const SC=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Up(()=>{if(po.has(r))return;Pc(r,"down");const s=Up(()=>{Pc(r,"up")}),i=()=>Pc(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Bp(e){return af(e)&&!Tw()}function kC(e,t,r={}){const[n,s,i]=Rw(e,r),a=l=>{const c=l.currentTarget;if(!Bp(l))return;po.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),po.has(c)&&po.delete(c),Bp(m)&&typeof u=="function"&&u(m,{success:p})},h=m=>{d(m,c===window||c===document||r.useGlobalTarget||Aw(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),Pw(l)&&(l.addEventListener("focus",u=>SC(u,s)),!_C(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function of(e){return Vx(e)&&"ownerSVGElement"in e}function Ow(e){return of(e)&&e.tagName==="svg"}function NC(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],i=e[2+r],a=e[3+r],l=fw(s,i,a);return t?l(n):l}const Re=e=>!!(e&&e.getVelocity),EC=[...kw,Se,qr],CC=e=>EC.find(Sw(e)),Al=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function zp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function PC(...e){return t=>{let r=!1;const n=e.map(s=>{const i=zp(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():zp(e[s],null)}}}}function TC(...e){return b.useCallback(PC(...e),e)}class RC extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=Pw(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AC({children:e,isPresent:t,anchorX:r,root:n}){const s=b.useId(),i=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(Al),c=TC(i,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=a.current;if(t||!i.current||!u||!d)return;const p=r==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const w=n??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${h}px !important;
          }
        `),()=>{w.contains(v)&&w.removeChild(v)}},[t]),o.jsx(RC,{isPresent:t,childRef:i,sizeRef:a,children:b.cloneElement(e,{ref:c})})}const OC=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=ca(IC),d=b.useId();let h=!0,f=b.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return i&&h&&(f={...f}),b.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),b.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(AC,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Tl.Provider,{value:f,children:e})};function IC(){return new Map}function Iw(e=!0){const t=b.useContext(Tl);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const Wa=e=>e.key||"";function Wp(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const tl=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=Iw(a),h=b.useMemo(()=>Wp(e),[e]),f=a&&!u?[]:h.map(Wa),m=b.useRef(!0),p=b.useRef(h),v=ca(()=>new Map),[w,g]=b.useState(h),[y,x]=b.useState(h);Mh(()=>{m.current=!1,p.current=h;for(let S=0;S<y.length;S++){const N=Wa(y[S]);f.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[y,f.length,f.join("-")]);const j=[];if(h!==w){let S=[...h];for(let N=0;N<y.length;N++){const k=y[N],E=Wa(k);f.includes(E)||(S.splice(N,0,k),j.push(k))}return i==="wait"&&j.length&&(S=j),x(Wp(S)),g(h),null}const{forceRender:_}=b.useContext(Lh);return o.jsx(o.Fragment,{children:y.map(S=>{const N=Wa(S),k=a&&!u?!1:h===y||f.includes(N),E=()=>{if(v.has(N))v.set(N,!0);else return;let R=!0;v.forEach($=>{$||(R=!1)}),R&&(_==null||_(),x(p.current),a&&(d==null||d()),n&&n())};return o.jsx(OC,{isPresent:k,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:k?void 0:E,anchorX:l,children:S},N)})})},Lw=b.createContext({strict:!1}),Gp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_s={};for(const e in Gp)_s[e]={isEnabled:t=>Gp[e].some(r=>!!t[r])};function LC(e){for(const t in e)_s[t]={..._s[t],...e[t]}}const DC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||DC.has(e)}let Dw=e=>!rl(e);function MC(e){typeof e=="function"&&(Dw=t=>t.startsWith("on")?!rl(t):e(t))}try{MC(require("@emotion/is-prop-valid").default)}catch{}function $C(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Dw(s)||r===!0&&rl(s)||!t&&!rl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const Ol=b.createContext({});function Il(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ki(e){return typeof e=="string"||Array.isArray(e)}const lf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cf=["initial",...lf];function Ll(e){return Il(e.animate)||cf.some(t=>Ki(e[t]))}function Mw(e){return!!(Ll(e)||e.variants)}function FC(e,t){if(Ll(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ki(r)?r:void 0,animate:Ki(n)?n:void 0}}return e.inherit!==!1?t:{}}function VC(e){const{initial:t,animate:r}=FC(e,b.useContext(Ol));return b.useMemo(()=>({initial:t,animate:r}),[Hp(t),Hp(r)])}function Hp(e){return Array.isArray(e)?e.join(" "):e}const Ji={};function UC(e){for(const t in e)Ji[t]=e[t],Wh(t)&&(Ji[t].isCSSVariable=!0)}function $w(e,{layout:t,layoutId:r}){return $s.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ji[e]||e==="opacity")}const BC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zC=Ms.length;function WC(e,t,r){let n="",s=!0;for(let i=0;i<zC;i++){const a=Ms[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Cw(l,rf[a]);if(!c){s=!1;const d=BC[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function uf(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if($s.has(c)){a=!0;continue}else if(Wh(c)){s[c]=u;continue}else{const d=Cw(u,rf[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=WC(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const df=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fw(e,t,r){for(const n in t)!Re(t[n])&&!$w(n,r)&&(e[n]=t[n])}function GC({transformTemplate:e},t){return b.useMemo(()=>{const r=df();return uf(r,t,e),Object.assign({},r.vars,r.style)},[t])}function HC(e,t){const r=e.style||{},n={};return Fw(n,r,e),Object.assign(n,GC(e,t)),n}function qC(e,t){const r={},n=HC(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const KC={offset:"stroke-dashoffset",array:"stroke-dasharray"},JC={offset:"strokeDashoffset",array:"strokeDasharray"};function YC(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?KC:JC;e[i.offset]=U.transform(-n);const a=U.transform(t),l=U.transform(r);e[i.array]=`${a} ${l}`}function Vw(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(uf(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&YC(h,s,i,a,!1)}const Uw=()=>({...df(),attrs:{}}),Bw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QC(e,t,r,n){const s=b.useMemo(()=>{const i=Uw();return Vw(i,t,Bw(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Fw(i,e.style,e),s.style={...i,...s.style}}return s}const XC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hf(e){return typeof e!="string"||e.includes("-")?!1:!!(XC.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZC(e,t,r,{latestValues:n},s,i=!1){const l=(hf(e)?QC:qC)(t,n,s,e),c=$C(t,typeof e=="string",i),u=e!==b.Fragment?{...c,...l,ref:r}:{},{children:d}=t,h=b.useMemo(()=>Re(d)?d.get():d,[d]);return b.createElement(e,{...u,children:h})}function qp(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function ff(e,t,r,n){if(typeof t=="function"){const[s,i]=qp(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=qp(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function go(e){return Re(e)?e.get():e}function eP({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:tP(r,n,s,e),renderState:t()}}function tP(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=go(i[f]);let{initial:a,animate:l}=e;const c=Ll(e),u=Mw(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Il(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=ff(e,f[m]);if(p){const{transitionEnd:v,transition:w,...g}=p;for(const y in g){let x=g[y];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[y]=x)}for(const y in v)s[y]=v[y]}}}return s}const zw=e=>(t,r)=>{const n=b.useContext(Ol),s=b.useContext(Tl),i=()=>eP(e,t,n,s);return r?i():ca(i)};function mf(e,t,r){var i;const{style:n}=e,s={};for(const a in n)(Re(n[a])||t.style&&Re(t.style[a])||$w(a,e)||((i=r==null?void 0:r.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const rP=zw({scrapeMotionValuesFromProps:mf,createRenderState:df});function Ww(e,t,r){const n=mf(e,t,r);for(const s in e)if(Re(e[s])||Re(t[s])){const i=Ms.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const nP=zw({scrapeMotionValuesFromProps:Ww,createRenderState:Uw}),sP=Symbol.for("motionComponentSymbol");function ts(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iP(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ts(r)&&(r.current=n))},[t])}const pf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aP="framerAppearId",Gw="data-"+pf(aP),Hw=b.createContext({});function oP(e,t,r,n,s){var v,w;const{visualElement:i}=b.useContext(Ol),a=b.useContext(Lw),l=b.useContext(Tl),c=b.useContext(Al).reducedMotion,u=b.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=b.useContext(Hw);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&lP(u.current,r,s,h);const f=b.useRef(!1);b.useInsertionEffect(()=>{d&&f.current&&d.update(r,l)});const m=r[Gw],p=b.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Mh(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function lP(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:qw(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&ts(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function qw(e){if(e)return e.options.allowProjection!==!1?e.projection:qw(e.parent)}function Tc(e,{forwardMotionProps:t=!1}={},r,n){r&&LC(r);const s=hf(e)?nP:rP;function i(l,c){let u;const d={...b.useContext(Al),...l,layoutId:cP(l)},{isStatic:h}=d,f=VC(l),m=s(l,h);if(!h&&Dh){uP();const p=dP(d);u=p.MeasureLayout,f.visualElement=oP(e,m,d,n,p.ProjectionNode)}return o.jsxs(Ol.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,ZC(e,l,iP(m,f.visualElement,c),m,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=b.forwardRef(i);return a[sP]=e,a}function cP({layoutId:e}){const t=b.useContext(Lh).id;return t&&e!==void 0?t+"-"+e:e}function uP(e,t){b.useContext(Lw).strict}function dP(e){const{drag:t,layout:r}=_s;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function hP(e,t){if(typeof Proxy>"u")return Tc;const r=new Map,n=(i,a)=>Tc(i,a,e,t),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,Tc(a,void 0,e,t)),r.get(a))})}function Kw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function fP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mP(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Rc(e){return e===void 0||e===1}function ud({scale:e,scaleX:t,scaleY:r}){return!Rc(e)||!Rc(t)||!Rc(r)}function un(e){return ud(e)||Jw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Jw(e){return Kp(e.x)||Kp(e.y)}function Kp(e){return e&&e!=="0%"}function nl(e,t,r){const n=e-r,s=t*n;return r+s}function Jp(e,t,r,n,s){return s!==void 0&&(e=nl(e,s,n)),nl(e,r,n)+t}function dd(e,t=0,r=1,n,s){e.min=Jp(e.min,t,r,n,s),e.max=Jp(e.max,t,r,n,s)}function Yw(e,{x:t,y:r}){dd(e.x,t.translate,t.scale,t.originPoint),dd(e.y,r.translate,r.scale,r.originPoint)}const Yp=.999999999999,Qp=1.0000000000001;function pP(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=r[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ns(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Yw(e,a)),n&&un(i.latestValues)&&ns(e,i.latestValues))}t.x<Qp&&t.x>Yp&&(t.x=1),t.y<Qp&&t.y>Yp&&(t.y=1)}function rs(e,t){e.min=e.min+t,e.max=e.max+t}function Xp(e,t,r,n,s=.5){const i=ue(e.min,e.max,s);dd(e,t,r,i,n)}function ns(e,t){Xp(e.x,t.x,t.scaleX,t.scale,t.originX),Xp(e.y,t.y,t.scaleY,t.scale,t.originY)}function Qw(e,t){return Kw(mP(e.getBoundingClientRect(),t))}function gP(e,t,r){const n=Qw(e,r),{scroll:s}=t;return s&&(rs(n.x,s.offset.x),rs(n.y,s.offset.y)),n}const Zp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ss=()=>({x:Zp(),y:Zp()}),e0=()=>({min:0,max:0}),ve=()=>({x:e0(),y:e0()}),hd={current:null},Xw={current:!1};function yP(){if(Xw.current=!0,!!Dh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hd.current=e.matches;e.addEventListener("change",t),t()}else hd.current=!1}const Yi=new WeakMap;function vP(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Re(s))e.addValue(n,s);else if(Re(i))e.addValue(n,Tn(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Tn(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const t0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zw{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=it.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,oe.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ll(r),this.isVariantNode=Mw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Re(m)&&m.set(c[f])}}mount(t){var r;this.current=t,Yi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Xw.current||yP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hd.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),_r(this.notifyUpdate),_r(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=$s.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&oe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _s){const r=_s[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<t0.length;n++){const s=t0[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=vP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Tn(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Fx(n)||Ux(n))?n=parseFloat(n):!CC(n)&&qr.test(r)&&(n=Ew(t,r)),this.setBaseTarget(t,Re(n)?n.get():n)),Re(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=ff(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Re(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Uh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){sf.render(this.render)}}class e1 extends Zw{constructor(){super(...arguments),this.KeyframeResolver=yC}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Re(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function t1(e,{style:t,vars:r},n,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function xP(e){return window.getComputedStyle(e)}class r1 extends e1{constructor(){super(...arguments),this.type="html",this.renderInstance=t1}readValueFromInstance(t,r){var n;if($s.has(r))return(n=this.projection)!=null&&n.isProjecting?nd(r):IE(t,r);{const s=xP(t),i=(Wh(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Qw(t,r)}build(t,r,n){uf(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return mf(t,r,n)}}const n1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wP(e,t,r,n){t1(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(n1.has(s)?s:pf(s),t.attrs[s])}class s1 extends e1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if($s.has(r)){const n=Nw(r);return n&&n.default||0}return r=n1.has(r)?r:pf(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Ww(t,r,n)}build(t,r,n){Vw(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){wP(t,r,n,s)}mount(t){this.isSVGTag=Bw(t.tagName),super.mount(t)}}const bP=(e,t)=>hf(e)?new s1(t):new r1(t,{allowProjection:e!==b.Fragment});function hs(e,t,r){const n=e.getProps();return ff(n,t,r!==void 0?r:n.custom,e)}const fd=e=>Array.isArray(e);function jP(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Tn(r))}function _P(e){return fd(e)?e[e.length-1]||0:e}function SP(e,t){const r=hs(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const l=_P(i[a]);jP(e,a,l)}}function kP(e){return!!(Re(e)&&e.add)}function md(e,t){const r=e.getValue("willChange");if(kP(r))return r.add(t);if(!r&&jr.WillChange){const n=new jr.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function i1(e){return e.props[Gw]}const NP=e=>e!==null;function EP(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(NP),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const CP={type:"spring",stiffness:500,damping:25,restSpeed:10},PP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TP={type:"keyframes",duration:.8},RP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AP=(e,{keyframes:t})=>t.length>2?TP:$s.has(e)?e.startsWith("scale")?PP(t[1]):CP:RP;function OP({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const gf=(e,t,r,n={},s,i)=>a=>{const l=tf(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-qt(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};OP(l)||Object.assign(d,AP(e,d)),d.duration&&(d.duration=qt(d.duration)),d.repeatDelay&&(d.repeatDelay=qt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ld(d),d.delay===0&&(h=!0)),(jr.instantAnimations||jr.skipAnimations)&&(h=!0,ld(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=EP(d.keyframes,l);if(f!==void 0){oe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Xh(d):new nC(d)};function IP({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function yf(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(i=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&IP(u,d))continue;const m={delay:r,...tf(i||{},d)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=i1(e);if(g){const y=window.MotionHandoffAnimation(g,d,oe);y!==null&&(m.startTime=y,v=!0)}}md(e,d),h.start(gf(d,h,f,e.shouldReduceMotion&&_w.has(d)?{type:!1}:m,e,v));const w=h.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{oe.update(()=>{a&&SP(e,a)})}),c}function a1(e,t,r,n=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:l-i*n}function pd(e,t,r={}){var c;const n=hs(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(yf(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return LP(e,t,u,d,h,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(r.delay)])}function LP(e,t,r=0,n=0,s=0,i=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(pd(c,t,{...a,delay:r+(typeof n=="function"?0:n)+a1(e.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function DP(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>pd(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=pd(e,t,r);else{const s=typeof t=="function"?hs(e,t,r.custom):t;n=Promise.all(yf(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function o1(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const MP=cf.length;function l1(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?l1(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<MP;r++){const n=cf[r],s=e.props[n];(Ki(s)||s===!1)&&(t[n]=s)}return t}const $P=[...lf].reverse(),FP=lf.length;function VP(e){return t=>Promise.all(t.map(({animation:r,options:n})=>DP(e,r,n)))}function UP(e){let t=VP(e),r=r0(),n=!0;const s=c=>(u,d)=>{var f;const h=hs(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...v}=h;u={...u,...v,...p}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=l1(e.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let w=0;w<FP;w++){const g=$P[w],y=r[g],x=u[g]!==void 0?u[g]:d[g],j=Ki(x),_=g===c?y.isActive:null;_===!1&&(p=w);let S=x===d[g]&&x!==u[g]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&_===null||!x&&!y.prevProp||Il(x)||typeof x=="boolean")continue;const N=BP(y.prevProp,x);let k=N||g===c&&y.isActive&&!S&&j||w>p&&j,E=!1;const R=Array.isArray(x)?x:[x];let $=R.reduce(s(g),{});_===!1&&($={});const{prevResolvedValues:X={}}=y,J={...X,...$},ge=G=>{k=!0,f.has(G)&&(E=!0,f.delete(G)),y.needsAnimating[G]=!0;const P=e.getValue(G);P&&(P.liveStyle=!1)};for(const G in J){const P=$[G],D=X[G];if(m.hasOwnProperty(G))continue;let I=!1;fd(P)&&fd(D)?I=!o1(P,D):I=P!==D,I?P!=null?ge(G):f.add(G):P!==void 0&&f.has(G)?ge(G):y.protectedKeys[G]=!0}y.prevProp=x,y.prevResolvedValues=$,y.isActive&&(m={...m,...$}),n&&e.blockInitialAnimation&&(k=!1);const le=S&&N;k&&(!le||E)&&h.push(...R.map(G=>{const P={type:g};if(typeof G=="string"&&n&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:D}=e,I=hs(D,G);if(D.enteringChildren&&I){const{delayChildren:F}=I.transition||{};P.delay=a1(D.enteringChildren,e,F)}}return{animation:G,options:P}}))}if(f.size){const w={};if(typeof u.initial!="boolean"){const g=hs(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(w.transition=g.transition)}f.forEach(g=>{const y=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),w[g]=y??null}),h.push({animation:w})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=r0()}}}function BP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!o1(t,e):!1}function rn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r0(){return{animate:rn(!0),whileInView:rn(),whileHover:rn(),whileTap:rn(),whileDrag:rn(),whileFocus:rn(),exit:rn()}}class Xr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zP extends Xr{constructor(t){super(t),t.animationState||(t.animationState=UP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Il(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let WP=0;class GP extends Xr{constructor(){super(...arguments),this.id=WP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const HP={animation:{Feature:zP},exit:{Feature:GP}};function Qi(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function fa(e){return{point:{x:e.pageX,y:e.pageY}}}const qP=e=>t=>af(t)&&e(t,fa(t));function wi(e,t,r,n){return Qi(e,t,qP(r),n)}const c1=1e-4,KP=1-c1,JP=1+c1,u1=.01,YP=0-u1,QP=0+u1;function Ze(e){return e.max-e.min}function XP(e,t,r){return Math.abs(e-t)<=r}function n0(e,t,r,n=.5){e.origin=n,e.originPoint=ue(t.min,t.max,e.origin),e.scale=Ze(r)/Ze(t),e.translate=ue(r.min,r.max,e.origin)-e.originPoint,(e.scale>=KP&&e.scale<=JP||isNaN(e.scale))&&(e.scale=1),(e.translate>=YP&&e.translate<=QP||isNaN(e.translate))&&(e.translate=0)}function bi(e,t,r,n){n0(e.x,t.x,r.x,n?n.originX:void 0),n0(e.y,t.y,r.y,n?n.originY:void 0)}function s0(e,t,r){e.min=r.min+t.min,e.max=e.min+Ze(t)}function ZP(e,t,r){s0(e.x,t.x,r.x),s0(e.y,t.y,r.y)}function i0(e,t,r){e.min=t.min-r.min,e.max=e.min+Ze(t)}function ji(e,t,r){i0(e.x,t.x,r.x),i0(e.y,t.y,r.y)}function Et(e){return[e("x"),e("y")]}const d1=({current:e})=>e?e.ownerDocument.defaultView:null,a0=(e,t)=>Math.abs(e-t);function e4(e,t){const r=a0(e.x,t.x),n=a0(e.y,t.y);return Math.sqrt(r**2+n**2)}class h1{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Oc(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=e4(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:v}=f,{timestamp:w}=De;this.history.push({...v,timestamp:w});const{onStart:g,onMove:y}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ac(m,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Oc(f.type==="pointercancel"?this.lastMoveEventInfo:Ac(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),v&&v(f,g)},!af(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const l=fa(t),c=Ac(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=De;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=r;h&&h(t,Oc(c,this.history)),this.removeListeners=ua(wi(this.contextWindow,"pointermove",this.handlePointerMove),wi(this.contextWindow,"pointerup",this.handlePointerUp),wi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_r(this.updatePoint)}}function Ac(e,t){return t?{point:t(e.point)}:e}function o0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Oc({point:e},t){return{point:e,delta:o0(e,f1(t)),offset:o0(e,t4(t)),velocity:r4(t,.1)}}function t4(e){return e[0]}function f1(e){return e[e.length-1]}function r4(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=f1(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>qt(t)));)r--;if(!n)return{x:0,y:0};const i=Rt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function n4(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ue(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ue(r,e,n.max):Math.min(e,r)),e}function l0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function s4(e,{top:t,left:r,bottom:n,right:s}){return{x:l0(e.x,r,s),y:l0(e.y,t,n)}}function c0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function i4(e,t){return{x:c0(e.x,t.x),y:c0(e.y,t.y)}}function a4(e,t){let r=.5;const n=Ze(e),s=Ze(t);return s>n?r=js(t.min,t.max-n,e.min):n>s&&(r=js(e.min,e.max-s,t.min)),br(0,1,r)}function o4(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const gd=.35;function l4(e=gd){return e===!1?e=0:e===!0&&(e=gd),{x:u0(e,"left","right"),y:u0(e,"top","bottom")}}function u0(e,t,r){return{min:d0(e,t),max:d0(e,r)}}function d0(e,t){return typeof e=="number"?e:e[t]||0}const c4=new WeakMap;class u4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(fa(h).point)},a=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wC(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Et(g=>{let y=this.getAxisMotionValue(g).get()||0;if(sr.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const j=x.layout.layoutBox[g];j&&(y=Ze(j)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&oe.postRender(()=>v(h,f)),md(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=d4(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),w&&w(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Et(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new h1(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:d1(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&oe.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ga(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=n4(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ts(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=s4(n.layoutBox,t):this.constraints=!1,this.elastic=l4(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Et(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=o4(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ts(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gP(n,s.root,this.visualElement.getTransformPagePoint());let a=i4(s.layout.layoutBox,i);if(r){const l=r(fP(a));this.hasMutatedConstraints=!!l,l&&(a=Kw(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Et(d=>{if(!Ga(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return md(this.visualElement,t),n.start(gf(t,n,0,r,this.visualElement,!1))}stopAnimation(){Et(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Et(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Et(r=>{const{drag:n}=this.getProps();if(!Ga(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];i.set(t[r]-ue(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ts(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Et(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=a4({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Et(a=>{if(!Ga(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(ue(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;c4.set(this.visualElement,this);const t=this.visualElement.current,r=wi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ts(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),oe.read(n);const a=Qi(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Et(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=gd,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Ga(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function d4(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class h4 extends Xr{constructor(t){super(t),this.removeGroupControls=Ot,this.removeListeners=Ot,this.controls=new u4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const h0=e=>(t,r)=>{e&&oe.postRender(()=>e(t,r))};class f4 extends Xr{constructor(){super(...arguments),this.removePointerDownListener=Ot}onPointerDown(t){this.session=new h1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:h0(t),onStart:h0(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&oe.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=wi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const r=f0(e,t.target.x),n=f0(e,t.target.y);return`${r}% ${n}%`}},m4={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=qr.parse(e);if(s.length>5)return n;const i=qr.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=ue(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let Ic=!1;class p4 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;UC(g4),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),Ic&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,Ic=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||oe.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;Ic=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function m1(e){const[t,r]=Iw(),n=b.useContext(Lh);return o.jsx(p4,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Hw),isPresent:t,safeToRemove:r})}const g4={borderRadius:{...Qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qs,borderTopRightRadius:Qs,borderBottomLeftRadius:Qs,borderBottomRightRadius:Qs,boxShadow:m4};function p1(e,t,r){const n=Re(e)?e:Tn(e);return n.start(gf("",n,t,r)),n.animation}const y4=(e,t)=>e.depth-t.depth;class v4{constructor(){this.children=[],this.isDirty=!1}add(t){$h(this.children,t),this.isDirty=!0}remove(t){Rl(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y4),this.isDirty=!1,this.children.forEach(t)}}function x4(e,t){const r=it.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(_r(n),e(i-t))};return oe.setup(n,!0),()=>_r(n)}const g1=["TopLeft","TopRight","BottomLeft","BottomRight"],w4=g1.length,m0=e=>typeof e=="string"?parseFloat(e):e,p0=e=>typeof e=="number"||U.test(e);function b4(e,t,r,n,s,i){s?(e.opacity=ue(0,r.opacity??1,j4(n)),e.opacityExit=ue(t.opacity??1,0,_4(n))):i&&(e.opacity=ue(t.opacity??1,r.opacity??1,n));for(let a=0;a<w4;a++){const l=`border${g1[a]}Radius`;let c=g0(t,l),u=g0(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||p0(c)===p0(u)?(e[l]=Math.max(ue(m0(c),m0(u),n),0),(sr.test(u)||sr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=ue(t.rotate||0,r.rotate||0,n))}function g0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const j4=y1(0,.5,Jx),_4=y1(.5,.95,Ot);function y1(e,t,r){return n=>n<e?0:n>t?1:r(js(e,t,n))}function y0(e,t){e.min=t.min,e.max=t.max}function St(e,t){y0(e.x,t.x),y0(e.y,t.y)}function v0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function x0(e,t,r,n,s){return e-=t,e=nl(e,1/r,n),s!==void 0&&(e=nl(e,1/s,n)),e}function S4(e,t=0,r=1,n=.5,s,i=e,a=e){if(sr.test(t)&&(t=parseFloat(t),t=ue(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=ue(i.min,i.max,n);e===i&&(l-=t),e.min=x0(e.min,t,r,l,s),e.max=x0(e.max,t,r,l,s)}function w0(e,t,[r,n,s],i,a){S4(e,t[r],t[n],t[s],t.scale,i,a)}const k4=["x","scaleX","originX"],N4=["y","scaleY","originY"];function b0(e,t,r,n){w0(e.x,t,k4,r?r.x:void 0,n?n.x:void 0),w0(e.y,t,N4,r?r.y:void 0,n?n.y:void 0)}function j0(e){return e.translate===0&&e.scale===1}function v1(e){return j0(e.x)&&j0(e.y)}function _0(e,t){return e.min===t.min&&e.max===t.max}function E4(e,t){return _0(e.x,t.x)&&_0(e.y,t.y)}function S0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function x1(e,t){return S0(e.x,t.x)&&S0(e.y,t.y)}function k0(e){return Ze(e.x)/Ze(e.y)}function N0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class C4{constructor(){this.members=[]}add(t){$h(this.members,t),t.scheduleRender()}remove(t){if(Rl(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P4(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Lc=["","X","Y","Z"],T4=1e3;let R4=0;function Dc(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function w1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=i1(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",oe,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&w1(n)}function b1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=R4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I4),this.nodes.forEach($4),this.nodes.forEach(F4),this.nodes.forEach(L4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new v4)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Uh),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=of(a)&&!Ow(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{h=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=x4(f,250),yo.hasAnimatedSinceResize&&(yo.hasAnimatedSinceResize=!1,this.nodes.forEach(P0)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||W4,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=u.getProps(),g=!this.targetLayout||!x1(this.targetLayout,m),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...tf(p,"layout"),onPlay:v,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,y)}else h||P0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(V4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(C0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M4),this.nodes.forEach(A4),this.nodes.forEach(O4)):this.nodes.forEach(C0),this.clearAllSnapshots();const l=it.now();De.delta=br(0,1e3/60,l-De.timestamp),De.timestamp=l,De.isProcessing=!0,Sc.update.process(De),Sc.preRender.process(De),Sc.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D4),this.sharedNodes.forEach(U4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ze(this.snapshot.measuredBox.x)&&!Ze(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!v1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||un(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),G4(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ve();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(H4))){const{scroll:d}=this.root;d&&(rs(l.x,d.offset.x),rs(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=ve();if(St(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&St(l,a),rs(l.x,h.offset.x),rs(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=ve();St(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ns(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),un(d.latestValues)&&ns(c,d.latestValues)}return un(this.latestValues)&&ns(c,this.latestValues),c}removeTransform(a){const l=ve();St(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!un(u.latestValues))continue;ud(u.latestValues)&&u.updateSnapshot();const d=ve(),h=u.measurePageBox();St(d,h),b0(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return un(this.latestValues)&&b0(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ji(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):St(this.target,this.layout.layoutBox),Yw(this.target,this.targetDelta)):St(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ji(this.relativeTargetOrigin,this.target,m.target),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ud(this.parent.latestValues)||Jw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===De.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;St(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;pP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ve());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v0(this.prevProjectionDelta.x,this.projectionDelta.x),v0(this.prevProjectionDelta.y,this.projectionDelta.y)),bi(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!N0(this.projectionDelta.x,this.prevProjectionDelta.x)||!N0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ss(),this.projectionDelta=ss(),this.projectionDeltaWithTransform=ss()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ve(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,w=this.getStack(),g=!w||w.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(z4));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const _=j/1e3;T0(h.x,a.x,_),T0(h.y,a.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ji(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B4(this.relativeTarget,this.relativeTargetOrigin,f,_),x&&E4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ve()),St(x,this.relativeTarget)),v&&(this.animationValues=d,b4(d,u,this.latestValues,_,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(_r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{yo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tn(0)),this.currentAnimation=p1(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&j1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ve();const h=Ze(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Ze(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}St(l,c),ns(l,d),bi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new C4),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Dc("z",a,u,this.animationValues);for(let d=0;d<Lc.length;d++)Dc(`rotate${Lc[d]}`,a,u,this.animationValues),Dc(`skew${Lc[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=go(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=go(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!un(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=P4(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Ji){if(d[p]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:g}=Ji[p],y=h==="none"?d[p]:v(d[p],u);if(w){const x=w.length;for(let j=0;j<x;j++)a[w[j]]=y}else g?this.options.visualElement.renderState.vars[p]=y:a[p]=y}this.options.layoutId&&(a.pointerEvents=u===this?go(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(E0),this.root.sharedNodes.clear()}}}function A4(e){e.updateLayout()}function O4(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Et(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Ze(f);f.min=n[h].min,f.max=f.min+m}):j1(i,t.layoutBox,n)&&Et(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Ze(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=ss();bi(l,n,t.layoutBox);const c=ss();a?bi(c,e.applyTransform(s,!0),t.measuredBox):bi(c,n,t.layoutBox);const u=!v1(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=ve();ji(p,t.layoutBox,f.layoutBox);const v=ve();ji(v,n,m.layoutBox),x1(p,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function I4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function L4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function D4(e){e.clearSnapshot()}function E0(e){e.clearMeasurements()}function C0(e){e.isLayoutDirty=!1}function M4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function P0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $4(e){e.resolveTargetDelta()}function F4(e){e.calcProjection()}function V4(e){e.resetSkewAndRotation()}function U4(e){e.removeLeadSnapshot()}function T0(e,t,r){e.translate=ue(t.translate,0,r),e.scale=ue(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function R0(e,t,r,n){e.min=ue(t.min,r.min,n),e.max=ue(t.max,r.max,n)}function B4(e,t,r,n){R0(e.x,t.x,r.x,n),R0(e.y,t.y,r.y,n)}function z4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const W4={duration:.45,ease:[.4,0,.1,1]},A0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),O0=A0("applewebkit/")&&!A0("chrome/")?Math.round:Ot;function I0(e){e.min=O0(e.min),e.max=O0(e.max)}function G4(e){I0(e.x),I0(e.y)}function j1(e,t,r){return e==="position"||e==="preserve-aspect"&&!XP(k0(t),k0(r),.2)}function H4(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const q4=b1({attachResizeListener:(e,t)=>Qi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mc={current:void 0},_1=b1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mc.current){const e=new q4({});e.mount(window),e.setOptions({layoutScroll:!0}),Mc.current=e}return Mc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),K4={pan:{Feature:f4},drag:{Feature:h4,ProjectionNode:_1,MeasureLayout:m1}};function L0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&oe.postRender(()=>i(t,fa(t)))}class J4 extends Xr{mount(){const{current:t}=this.node;t&&(this.unmount=bC(t,(r,n)=>(L0(this.node,n,"Start"),s=>L0(this.node,s,"End"))))}unmount(){}}class Y4 extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ua(Qi(this.node.current,"focus",()=>this.onFocus()),Qi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D0(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&oe.postRender(()=>i(t,fa(t)))}class Q4 extends Xr{mount(){const{current:t}=this.node;t&&(this.unmount=kC(t,(r,n)=>(D0(this.node,n,"Start"),(s,{success:i})=>D0(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yd=new WeakMap,$c=new WeakMap,X4=e=>{const t=yd.get(e.target);t&&t(e)},Z4=e=>{e.forEach(X4)};function eT({root:e,...t}){const r=e||document;$c.has(r)||$c.set(r,{});const n=$c.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Z4,{root:e,...t})),n[s]}function tT(e,t,r){const n=eT(t);return yd.set(e,r),n.observe(e),()=>{yd.delete(e),n.unobserve(e)}}const rT={some:0,all:1};class nT extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:rT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return tT(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(sT(t,r))&&this.startObserver()}unmount(){}}function sT({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const iT={inView:{Feature:nT},tap:{Feature:Q4},focus:{Feature:Y4},hover:{Feature:J4}},aT={layout:{ProjectionNode:_1,MeasureLayout:m1}},oT={...HP,...iT,...K4,...aT},C=hP(oT,bP);function S1(e){const t=ca(()=>Tn(e)),{isStatic:r}=b.useContext(Al);if(r){const[,n]=b.useState(e);b.useEffect(()=>t.on("change",n),[])}return t}function k1(e,t){const r=S1(t()),n=()=>r.set(t());return n(),Mh(()=>{const s=()=>oe.preRender(n,!1,!0),i=e.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),_r(n)}}),r}function lT(e){xi.current=[],e();const t=k1(xi.current,e);return xi.current=void 0,t}function cT(e,t,r,n){if(typeof e=="function")return lT(e);const s=typeof t=="function"?t:NC(t,r,n);return Array.isArray(e)?M0(e,s):M0([e],([i])=>s(i))}function M0(e,t){const r=ca(()=>[]);return k1(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function vf(e){return typeof e=="object"&&!Array.isArray(e)}function N1(e,t,r,n){return typeof e=="string"&&vf(t)?nf(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function uT(e,t,r){return e*(t+1)}function $0(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:t.startsWith("<")?Math.max(0,r+parseFloat(t.slice(1))):n.get(t)??e}function dT(e,t,r){for(let n=0;n<e.length;n++){const s=e[n];s.at>t&&s.at<r&&(Rl(e,s),n--)}}function hT(e,t,r,n,s,i){dT(e,s,i);for(let a=0;a<t.length;a++)e.push({value:t[a],at:ue(s,i,n[a]),easing:Zx(r,a)})}function fT(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function mT(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const pT="easeInOut";function gT(e,{defaultTransition:t={},...r}={},n,s){const i=t.duration||.3,a=new Map,l=new Map,c={},u=new Map;let d=0,h=0,f=0;for(let m=0;m<e.length;m++){const p=e[m];if(typeof p=="string"){u.set(p,h);continue}else if(!Array.isArray(p)){u.set(p.name,$0(h,p.at,d,u));continue}let[v,w,g={}]=p;g.at!==void 0&&(h=$0(h,g.at,d,u));let y=0;const x=(j,_,S,N=0,k=0)=>{const E=yT(j),{delay:R=0,times:$=pw(E),type:X="keyframes",repeat:J,repeatType:ge,repeatDelay:le=0,...Ue}=_;let{ease:G=t.ease||"easeOut",duration:P}=_;const D=typeof R=="function"?R(N,k):R,I=E.length,F=ef(X)?X:s==null?void 0:s[X||"keyframes"];if(I<=2&&F){let Be=100;if(I===2&&wT(E)){const Vs=E[1]-E[0];Be=Math.abs(Vs)}const Ke={...Ue};P!==void 0&&(Ke.duration=qt(P));const or=dw(Ke,Be,F);G=or.ease,P=or.duration}P??(P=i);const z=h+D;$.length===1&&$[0]===0&&($[1]=1);const ee=$.length-E.length;if(ee>0&&mw($,ee),E.length===1&&E.unshift(null),J){P=uT(P,J);const Be=[...E],Ke=[...$];G=Array.isArray(G)?[...G]:[G];const or=[...G];for(let Vs=0;Vs<J;Vs++){E.push(...Be);for(let Us=0;Us<Be.length;Us++)$.push(Ke[Us]+(Vs+1)),G.push(Us===0?"linear":Zx(or,Us-1))}fT($,J)}const K=z+P;hT(S,E,G,$,z,K),y=Math.max(D+P,y),f=Math.max(K,f)};if(Re(v)){const j=F0(v,l);x(w,g,V0("default",j))}else{const j=N1(v,w,n,c),_=j.length;for(let S=0;S<_;S++){w=w,g=g;const N=j[S],k=F0(N,l);for(const E in w)x(w[E],vT(g,E),V0(E,k),S,_)}}d=h,h+=y}return l.forEach((m,p)=>{for(const v in m){const w=m[v];w.sort(mT);const g=[],y=[],x=[];for(let _=0;_<w.length;_++){const{at:S,value:N,easing:k}=w[_];g.push(N),y.push(js(0,f,S)),x.push(k||"easeOut")}y[0]!==0&&(y.unshift(0),g.unshift(g[0]),x.unshift(pT)),y[y.length-1]!==1&&(y.push(1),g.push(null)),a.has(p)||a.set(p,{keyframes:{},transition:{}});const j=a.get(p);j.keyframes[v]=g,j.transition[v]={...t,duration:f,ease:x,times:y,...r}}}),a}function F0(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function V0(e,t){return t[e]||(t[e]=[]),t[e]}function yT(e){return Array.isArray(e)?e:[e]}function vT(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const xT=e=>typeof e=="number",wT=e=>e.every(xT);function bT(e,t){return e in t}class jT extends Zw{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(bT(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ve()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function _T(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=of(e)&&!Ow(e)?new s1(t):new r1(t);r.mount(e),Yi.set(e,r)}function ST(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new jT(t);r.mount(e),Yi.set(e,r)}function kT(e,t){return Re(e)||typeof e=="number"||typeof e=="string"&&!vf(t)}function E1(e,t,r,n){const s=[];if(kT(e,t))s.push(p1(e,vf(t)&&t.default||t,r&&(r.default||r)));else{const i=N1(e,t,n),a=i.length;for(let l=0;l<a;l++){const c=i[l],u=c instanceof Element?_T:ST;Yi.has(c)||u(c);const d=Yi.get(c),h={...r};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(l,a)),s.push(...yf(d,{...t,transition:h},{}))}}return s}function NT(e,t,r){const n=[];return gT(e,t,r,{spring:qi}).forEach(({keyframes:i,transition:a},l)=>{n.push(...E1(l,i,a))}),n}function ET(e){return Array.isArray(e)&&e.some(Array.isArray)}function CT(e){function t(r,n,s){let i=[],a;if(ET(r))i=NT(r,n,e);else{const{onComplete:c,...u}=s||{};typeof c=="function"&&(a=c),i=E1(r,n,u,e)}const l=new iC(i);return a&&l.finished.then(a),l}return t}const PT=CT(),TT={some:0,all:1};function RT(e,t,{root:r,margin:n,amount:s="some"}={}){const i=nf(e),a=new WeakMap,l=u=>{u.forEach(d=>{const h=a.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=t(d.target,d);typeof f=="function"?a.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),a.delete(d.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof s=="number"?s:TT[s]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function AT(e,{root:t,margin:r,amount:n,once:s=!1,initial:i=!1}={}){const[a,l]=b.useState(i);return b.useEffect(()=>{if(!e.current||s&&a)return;const c=()=>(l(!0),s?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:r,amount:n};return RT(e.current,c,u)},[t,e,r,s,n]),a}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),A=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...OT,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${IT(e)}`,l].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=A("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=A("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=A("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=A("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=A("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=A("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=A("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=A("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=A("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=A("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=A("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=A("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=A("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=A("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=A("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=A("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=A("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=A("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=A("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=A("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=A("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=A("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=A("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=A("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=A("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=A("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=A("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=A("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=A("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=A("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=A("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=A("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=A("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=A("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=A("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=A("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=A("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=A("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=A("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=A("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=A("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=A("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=A("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=A("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=A("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=A("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=A("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=A("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=A("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=A("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=A("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=A("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=A("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=A("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=A("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=A("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=A("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=A("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=A("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=A("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=A("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=A("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=A("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=A("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=A("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=A("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=A("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cR={success:{icon:Fs,bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",iconColor:"text-green-500"},error:{icon:oR,bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500"},info:{icon:BT,bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500"},warning:{icon:LT,bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-800",iconColor:"text-amber-500"}};function uR({message:e,type:t,onClose:r}){const n=cR[t],s=n.icon;return o.jsx(tl,{children:o.jsxs(C.div,{initial:{opacity:0,x:100,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{duration:.2},className:`${n.bgColor} ${n.borderColor} border rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[320px] max-w-md`,children:[o.jsx(s,{className:`w-5 h-5 ${n.iconColor} flex-shrink-0 mt-0.5`}),o.jsx("p",{className:`${n.textColor} text-sm font-medium flex-1`,children:e}),o.jsx("button",{onClick:r,className:`${n.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Fermer",children:o.jsx(Ge,{className:"w-4 h-4"})})]})})}const M1=b.createContext(void 0);function dR({children:e}){const[t,r]=b.useState([]),n=b.useCallback((i,a="info",l=3e3)=>{const c=Math.random().toString(36).substr(2,9),u={id:c,message:i,type:a,duration:l};r(d=>[...d,u]),l>0&&setTimeout(()=>{s(c)},l)},[]),s=b.useCallback(i=>{r(a=>a.filter(l=>l.id!==i))},[]);return o.jsxs(M1.Provider,{value:{showToast:n,hideToast:s},children:[e,o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:t.map(i=>o.jsx(uR,{message:i.message,type:i.type,onClose:()=>s(i.id)},i.id))})]})}function hR(){const e=b.useContext(M1);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function fR(){const[e,t]=b.useState(0),[r,n]=b.useState(!1);return b.useEffect(()=>{const s=()=>{const i=window.scrollY;t(i),n(i>50)};return window.addEventListener("scroll",s,{passive:!0}),s(),()=>window.removeEventListener("scroll",s)},[]),{scrollY:e,isScrolled:r}}const mR=()=>{const{isScrolled:e}=fR();return o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 flex justify-center pt-6 px-4 pointer-events-none",children:o.jsx(C.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:100,damping:20,duration:.8},className:`
          max-w-5xl w-full rounded-full px-8 h-16
          transition-all duration-500 ease-out pointer-events-auto
          border border-white/10
          ${e?"bg-black/80 backdrop-blur-xl shadow-[0_8px_32px_rgba(0,0,0,0.3),0_0_40px_rgba(234,179,8,0.15)]":"bg-black/60 backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.2),0_0_20px_rgba(234,179,8,0.1)]"}
        `,children:o.jsxs("div",{className:"flex justify-between items-center h-full",children:[o.jsx(W,{to:"/",children:o.jsxs(C.div,{className:"flex items-center gap-2",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:[o.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Obsi"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"})]})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(W,{to:"/login",children:o.jsx(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-5 py-2 border-2 border-white text-white hover:bg-white hover:text-black transition-all duration-300 rounded-full font-medium text-sm",children:"Se connecter"})}),o.jsx(W,{to:"/order",children:o.jsx(C.button,{whileHover:{scale:1.02,boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"},whileTap:{scale:.98},className:"px-5 py-2 bg-white text-black hover:bg-white/90 transition-all duration-300 rounded-full font-medium shadow-md text-sm",children:"Commander"})})]})]})})})},Uc=[{name:"Sophie Martin",title:"CEO & Founder",sector:"Entreprise",color:"from-gold-400 to-gold-600",icon:wf},{name:"Lucas Bernard",title:"tudiant en Design",sector:"tudiants",color:"from-blue-400 to-blue-600",icon:_f},{name:"Emma Dubois",title:"Artiste Photographe",sector:"Artistes",color:"from-purple-400 to-pink-500",icon:Nf},{name:"Pierre Leclerc",title:"Maire",sector:"lus",color:"from-red-500 to-red-700",icon:P1}],pR=[...Uc,...Uc,...Uc],gR=({data:e,index:t})=>{const r=e.icon;return o.jsx("div",{className:"relative flex-shrink-0 w-[280px] h-[440px] mx-4",style:{perspective:"1000px"},children:o.jsxs(C.div,{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-900 to-black border border-neutral-800 shadow-2xl overflow-hidden",initial:{rotateY:-10},animate:{rotateY:[10,-10,10]},transition:{duration:4,delay:t*.5,repeat:1/0,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-neutral-800/30"}),o.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[o.jsx("div",{className:"flex justify-between items-start mb-8",children:o.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${e.color}`,children:o.jsx(r,{className:"w-5 h-5 text-white"})})}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2 mb-3",children:o.jsx("div",{className:`px-3 py-1 rounded-full bg-gradient-to-r ${e.color} text-white text-xs font-semibold`,children:e.sector})}),o.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:e.name}),o.jsx("p",{className:"text-warmGray-300 text-sm",children:e.title})]}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-gold-500/10 to-transparent rounded-full blur-3xl"})]}),o.jsx("div",{className:"absolute inset-0 border border-gold-500/20 rounded-2xl pointer-events-none"})]})})},yR=()=>o.jsxs("div",{className:"relative w-full overflow-hidden py-12",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-transparent to-black z-10 pointer-events-none"}),o.jsx(C.div,{className:"flex",animate:{x:[0,-2800]},transition:{duration:40,repeat:1/0,ease:"linear"},children:pR.map((e,t)=>o.jsx(gR,{data:e,index:t},t))}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-spotlight pointer-events-none"})]}),vR=()=>o.jsxs("section",{className:"relative w-full min-h-screen overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/10 via-transparent to-transparent opacity-40"}),o.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>o.jsx(C.div,{className:"absolute w-1.5 h-1.5 rounded-full bg-gold-500 shadow-gold-glow",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[-200,0],opacity:[0,.9,0]},transition:{duration:8,delay:t*.3,repeat:1/0,ease:"easeInOut"}},t))}),o.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-16",children:[o.jsxs("div",{className:"text-left space-y-8",children:[o.jsx(C.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:1.8,delay:1},children:o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-black mb-6 tracking-tight leading-tight",children:"Crez du lien & Partagez vos informations en un geste"})}),o.jsx(C.p,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1.5,duration:1.8,ease:[.25,.1,.25,1]},className:"text-lg md:text-xl text-warmGray-700 leading-relaxed",children:"La carte de visite premium connecte  votre profil virtuel"}),o.jsx(C.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:2,duration:1.5,ease:[.25,.1,.25,1]},children:o.jsx(W,{to:"/order",children:o.jsx(C.button,{whileHover:{scale:1.02,boxShadow:"0 0 32px rgba(234, 179, 8, 0.6)"},whileTap:{scale:.98},className:"px-10 py-4 bg-black text-white border-2 border-gold-500 rounded-lg text-lg font-medium shadow-gold-glow-lg hover:bg-neutral-900 transition-all duration-300",children:"Commander mon Obsi Carte"})})})]}),o.jsx(C.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:1.4,duration:1.2},className:"flex items-center justify-center",children:o.jsx("div",{className:"relative w-full max-w-md lg:max-w-lg",children:o.jsx("div",{className:"card-runway-frame",children:o.jsx(yR,{})})})})]})})]});var jd=new Map,Ha=new WeakMap,G0=0,xR;function wR(e){return e?(Ha.has(e)||(G0+=1,Ha.set(e,G0.toString())),Ha.get(e)):"0"}function bR(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?wR(e.root):e[t]}`).toString()}function jR(e){const t=bR(e);let r=jd.get(t);if(!r){const n=new Map;let s;const i=new IntersectionObserver(a=>{a.forEach(l=>{var c;const u=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=n.get(l.target))==null||c.forEach(d=>{d(u,l)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},jd.set(t,r)}return r}function _R(e,t,r={},n=xR){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:a}=jR(r),l=a.get(e)||[];return a.has(e)||a.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(a.delete(e),i.unobserve(e)),a.size===0&&(i.disconnect(),jd.delete(s))}}function Dl({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:s,triggerOnce:i,skip:a,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[h,f]=b.useState(null),m=b.useRef(u),p=b.useRef(l),[v,w]=b.useState({inView:!!l,entry:void 0});m.current=u,b.useEffect(()=>{if(p.current===void 0&&(p.current=l),a||!h)return;let j;return j=_R(h,(_,S)=>{const N=p.current;p.current=_,!(N===void 0&&!_)&&(w({inView:_,entry:S}),m.current&&m.current(_,S),S.isIntersecting&&i&&j&&(j(),j=void 0))},{root:s,rootMargin:n,threshold:e,trackVisibility:r,delay:t},c),()=>{j&&j()}},[Array.isArray(e)?e.toString():e,h,s,n,i,a,r,c,t]);const g=(d=v.entry)==null?void 0:d.target,y=b.useRef(void 0);!h&&g&&!i&&!a&&y.current!==g&&(y.current=g,w({inView:!!l,entry:void 0}),p.current=l);const x=[f,v.inView,v.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}var Ml={},$1={exports:{}},SR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kR=SR,NR=kR;function F1(){}function V1(){}V1.resetWarningCache=F1;var ER=function(){function e(n,s,i,a,l,c){if(c!==NR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:V1,resetWarningCache:F1};return r.PropTypes=r,r};$1.exports=ER();var Rf=$1.exports;const te=ig(Rf);var U1={L:1,M:0,Q:3,H:2},B1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},CR=B1;function z1(e){this.mode=CR.MODE_8BIT_BYTE,this.data=e}z1.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var PR=z1,qa=U1;function er(e,t){this.totalCount=e,this.dataCount=t}er.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];er.getRSBlocks=function(e,t){var r=er.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=new Array,i=0;i<n;i++)for(var a=r[i*3+0],l=r[i*3+1],c=r[i*3+2],u=0;u<a;u++)s.push(new er(l,c));return s};er.getRsBlockTable=function(e,t){switch(t){case qa.L:return er.RS_BLOCK_TABLE[(e-1)*4+0];case qa.M:return er.RS_BLOCK_TABLE[(e-1)*4+1];case qa.Q:return er.RS_BLOCK_TABLE[(e-1)*4+2];case qa.H:return er.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var TR=er;function W1(){this.buffer=new Array,this.length=0}W1.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var RR=W1,Wt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Wt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Wt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var $e=0;$e<8;$e++)Wt.EXP_TABLE[$e]=1<<$e;for(var $e=8;$e<256;$e++)Wt.EXP_TABLE[$e]=Wt.EXP_TABLE[$e-4]^Wt.EXP_TABLE[$e-5]^Wt.EXP_TABLE[$e-6]^Wt.EXP_TABLE[$e-8];for(var $e=0;$e<255;$e++)Wt.LOG_TABLE[Wt.EXP_TABLE[$e]]=$e;var G1=Wt,nn=G1;function wo(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}wo.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=nn.gexp(nn.glog(this.get(r))+nn.glog(e.get(n)));return new wo(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=nn.glog(this.get(0))-nn.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=nn.gexp(nn.glog(e.get(n))+t);return new wo(r,0).mod(e)}};var H1=wo,kt=B1,H0=H1,AR=G1,Er={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Oe={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Oe.getBCHDigit(t)-Oe.getBCHDigit(Oe.G15)>=0;)t^=Oe.G15<<Oe.getBCHDigit(t)-Oe.getBCHDigit(Oe.G15);return(e<<10|t)^Oe.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Oe.getBCHDigit(t)-Oe.getBCHDigit(Oe.G18)>=0;)t^=Oe.G18<<Oe.getBCHDigit(t)-Oe.getBCHDigit(Oe.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Oe.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Er.PATTERN000:return(t+r)%2==0;case Er.PATTERN001:return t%2==0;case Er.PATTERN010:return r%3==0;case Er.PATTERN011:return(t+r)%3==0;case Er.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Er.PATTERN101:return t*r%2+t*r%3==0;case Er.PATTERN110:return(t*r%2+t*r%3)%2==0;case Er.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new H0([1],0),r=0;r<e;r++)t=t.multiply(new H0([1,AR.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case kt.MODE_NUMBER:return 10;case kt.MODE_ALPHA_NUM:return 9;case kt.MODE_8BIT_BYTE:return 8;case kt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case kt.MODE_NUMBER:return 12;case kt.MODE_ALPHA_NUM:return 11;case kt.MODE_8BIT_BYTE:return 16;case kt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case kt.MODE_NUMBER:return 14;case kt.MODE_ALPHA_NUM:return 13;case kt.MODE_8BIT_BYTE:return 16;case kt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,a=e.isDark(n,s),l=-1;l<=1;l++)if(!(n+l<0||t<=n+l))for(var c=-1;c<=1;c++)s+c<0||t<=s+c||l==0&&c==0||a==e.isDark(n+l,s+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var u=0;e.isDark(n,s)&&u++,e.isDark(n+1,s)&&u++,e.isDark(n,s+1)&&u++,e.isDark(n+1,s+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var d=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&d++;var h=Math.abs(100*d/t/t-50)/5;return r+=h*10,r}},OR=Oe,IR=PR,q1=TR,K1=RR,Zr=OR,LR=H1;function tr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var _t=tr.prototype;_t.addData=function(e){var t=new IR(e);this.dataList.push(t),this.dataCache=null};_t.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};_t.getModuleCount=function(){return this.moduleCount};_t.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=q1.getRSBlocks(e,this.errorCorrectLevel),r=new K1,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var i=this.dataList[s];r.put(i.mode,4),r.put(i.getLength(),Zr.getLengthInBits(i.mode,e)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};_t.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=tr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};_t.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};_t.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Zr.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};_t.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*s,l=0;l<this.modules[i].length;l++){var c=l*s,u=this.modules[i][l];u&&(n.beginFill(0,100),n.moveTo(c,a),n.lineTo(c+s,a),n.lineTo(c+s,a+s),n.lineTo(c,a+s),n.endFill())}return n};_t.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};_t.setupPositionAdjustPattern=function(){for(var e=Zr.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)i==-2||i==2||a==-2||a==2||i==0&&a==0?this.modules[n+i][s+a]=!0:this.modules[n+i][s+a]=!1}};_t.setupTypeNumber=function(e){for(var t=Zr.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};_t.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Zr.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e};_t.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var l=0;l<2;l++)if(this.modules[n][a-l]==null){var c=!1;i<e.length&&(c=(e[i]>>>s&1)==1);var u=Zr.getMask(t,n,a-l);u&&(c=!c),this.modules[n][a-l]=c,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};tr.PAD0=236;tr.PAD1=17;tr.createData=function(e,t,r){for(var n=q1.getRSBlocks(e,t),s=new K1,i=0;i<r.length;i++){var a=r[i];s.put(a.mode,4),s.put(a.getLength(),Zr.getLengthInBits(a.mode,e)),a.write(s)}for(var l=0,i=0;i<n.length;i++)l+=n[i].dataCount;if(s.getLengthInBits()>l*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+l*8+")");for(s.getLengthInBits()+4<=l*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=l*8||(s.put(tr.PAD0,8),s.getLengthInBits()>=l*8));)s.put(tr.PAD1,8);return tr.createBytes(s,n)};tr.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),a=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;n=Math.max(n,c),s=Math.max(s,u),i[l]=new Array(c);for(var d=0;d<i[l].length;d++)i[l][d]=255&e.buffer[d+r];r+=c;var h=Zr.getErrorCorrectPolynomial(u),f=new LR(i[l],h.getLength()-1),m=f.mod(h);a[l]=new Array(h.getLength()-1);for(var d=0;d<a[l].length;d++){var p=d+m.getLength()-a[l].length;a[l][d]=p>=0?m.get(p):0}}for(var v=0,d=0;d<t.length;d++)v+=t[d].totalCount;for(var w=new Array(v),g=0,d=0;d<n;d++)for(var l=0;l<t.length;l++)d<i[l].length&&(w[g++]=i[l][d]);for(var d=0;d<s;d++)for(var l=0;l<t.length;l++)d<a[l].length&&(w[g++]=a[l][d]);return w};var DR=tr,Af={};Object.defineProperty(Af,"__esModule",{value:!0});var MR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$R=Rf,Nt=Y1($R),J1=b,Ka=Y1(J1);function Y1(e){return e&&e.__esModule?e:{default:e}}function FR(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var VR={bgColor:Nt.default.oneOfType([Nt.default.object,Nt.default.string]).isRequired,bgD:Nt.default.string.isRequired,fgColor:Nt.default.oneOfType([Nt.default.object,Nt.default.string]).isRequired,fgD:Nt.default.string.isRequired,size:Nt.default.number.isRequired,title:Nt.default.string,viewBoxSize:Nt.default.number.isRequired,xmlns:Nt.default.string},Of=(0,J1.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,s=e.fgD,i=e.fgColor,a=e.size,l=e.title,c=e.viewBoxSize,u=e.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,h=FR(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ka.default.createElement("svg",MR({},h,{height:a,ref:t,viewBox:"0 0 "+c+" "+c,width:a,xmlns:d}),l?Ka.default.createElement("title",null,l):null,Ka.default.createElement("path",{d:n,fill:r}),Ka.default.createElement("path",{d:s,fill:i}))});Of.displayName="QRCodeSvg";Of.propTypes=VR;Af.default=Of;Object.defineProperty(Ml,"__esModule",{value:!0});Ml.QRCode=void 0;var UR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BR=Rf,lr=ma(BR),zR=U1,WR=ma(zR),GR=DR,HR=ma(GR),Q1=b,qR=ma(Q1),KR=Af,JR=ma(KR);function ma(e){return e&&e.__esModule?e:{default:e}}function YR(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var QR={bgColor:lr.default.oneOfType([lr.default.object,lr.default.string]),fgColor:lr.default.oneOfType([lr.default.object,lr.default.string]),level:lr.default.string,size:lr.default.number,value:lr.default.string.isRequired},$l=(0,Q1.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,s=e.fgColor,i=s===void 0?"#000000":s,a=e.level,l=a===void 0?"L":a,c=e.size,u=c===void 0?256:c,d=e.value,h=YR(e,["bgColor","fgColor","level","size","value"]),f=new HR.default(-1,WR.default[l]);f.addData(d),f.make();var m=f.modules;return qR.default.createElement(JR.default,UR({},h,{bgColor:n,bgD:m.map(function(p,v){return p.map(function(w,g){return w?"":"M "+g+" "+v+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:m.map(function(p,v){return p.map(function(w,g){return w?"M "+g+" "+v+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:m.length}))});Ml.QRCode=$l;$l.displayName="QRCode";$l.propTypes=QR;var If=Ml.default=$l;const XR="/assets/or_avec_texte_no_bk-removebg-preview-ICZ4bDYD.png",ZR=()=>{const[e,t]=b.useState(!1);return o.jsxs("div",{className:"relative w-full max-w-lg mx-auto h-[340px] font-montserrat",style:{perspective:"1500px"},children:[o.jsxs(C.div,{className:"relative w-full h-full cursor-pointer",animate:{rotateY:e?180:0},transition:{duration:.8,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},onClick:()=>t(!e),children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-gold-glow-lg",style:{backfaceVisibility:"hidden"},children:o.jsxs("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-900 via-black to-neutral-950 border-2 border-gold-600/30 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-spotlight opacity-50"}),o.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[o.jsx("div",{className:"flex justify-end items-start",children:o.jsx(W0,{className:"w-7 h-7 text-gold-500 animate-pulse"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6",children:[o.jsx("div",{className:"bg-white p-4 rounded-xl shadow-gold-glow",children:o.jsx(If,{value:"https://obsi.digitalproconseil.fr",size:140,level:"H"})}),o.jsx("h3",{className:"text-white text-2xl font-bold tracking-tight text-center",children:"Prnom Nom"})]})]}),o.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-gold-500/10 pointer-events-none"})]})}),o.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-gold-glow-lg",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:o.jsxs("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-950 via-black to-neutral-900 border-2 border-gold-600/30 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-spotlight opacity-50"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"radial-gradient(circle at center, rgba(202, 138, 4, 0.15) 0%, transparent 60%)"}}),o.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[o.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 blur-2xl opacity-60",style:{background:"radial-gradient(circle, rgba(202, 138, 4, 0.4) 0%, transparent 70%)",transform:"scale(1.2)"}}),o.jsx("img",{src:XR,alt:"OBSI - une Carte, un Geste, un Lien",className:"w-72 h-auto object-contain relative z-10",style:{filter:"drop-shadow(0 0 20px rgba(202, 138, 4, 0.5)) drop-shadow(0 0 40px rgba(202, 138, 4, 0.3))",backgroundColor:"transparent"}})]})}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-warmGray-500 text-xs",children:[o.jsx(W0,{className:"w-4 h-4"}),o.jsx("span",{children:"NFC Enabled"})]})]}),o.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-gold-500/10 pointer-events-none"})]})})]}),o.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-center text-warmGray-400 text-sm",children:"Cliquez pour retourner la carte"})]})},eA={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}},exit:{opacity:0,y:20}},tA={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95}},X1={initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}}},il={initial:{},animate:{transition:{staggerChildren:.2,delayChildren:.3}}},gt={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},rA={rest:{scale:1,transition:{type:"spring",stiffness:300,damping:20}},hover:{scale:1.02,y:-4,transition:{type:"spring",stiffness:400,damping:15}},tap:{scale:.98}},nA={rest:{scale:1},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.98}};function Z1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Z1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Zi(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Z1(e))&&(n&&(n+=" "),n+=t);return n}function ke({children:e,variant:t="default",hover:r=!0,className:n="",onClick:s}){const i="rounded-xl overflow-hidden",a={default:"bg-white border border-neutral-200 shadow-premium-sm",premium:"bg-gradient-to-br from-white to-neutral-50 border border-amber-200 shadow-premium-md relative before:absolute before:inset-0 before:rounded-xl before:p-[1px] before:bg-gradient-amber before:-z-10",glassmorphism:"bg-white/70 backdrop-blur-md border border-white/20 shadow-premium-lg","glassmorphism-dark":"bg-black/60 backdrop-blur-md border border-gold-500/20 shadow-gold-md hover:border-gold-500/40 hover:shadow-gold-glow transition-all duration-300","dark-premium":"bg-gradient-to-br from-neutral-900 to-black border border-gold-500/20 shadow-gold-md hover:border-gold-500/40 hover:shadow-gold-glow transition-all duration-300"},l=r?C.div:"div",c=r?{variants:rA,initial:"rest",whileHover:"hover",whileTap:"tap"}:{};return o.jsx(l,{className:Zi(i,a[t],n,s&&"cursor-pointer"),onClick:s,...c,children:e})}function Me({children:e,className:t=""}){return o.jsx("div",{className:Zi("p-6",t),children:e})}const sA=()=>{const[e,t]=Dl({triggerOnce:!0,threshold:.1}),r=[{icon:Xi,title:"Diffrents Profils",description:"Donnez de la visibilit  tout vos projets en mme temps"},{icon:lR,title:"Puce NFC intgre",description:"Pour facilit les changes de coordones"},{icon:bf,title:"Description vido",description:"Soyez pertinent et mmorable aux yeux de votre rseau"},{icon:rR,title:"Livre chez vous",description:"livraison sous 72h maximum"}];return o.jsxs("section",{ref:e,className:"relative py-32 overflow-hidden font-montserrat",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/15 via-transparent to-transparent opacity-50"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-to-br from-gold-500/20 to-transparent rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(C.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-20",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"La carte qu'il vous faut,"}),o.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700 max-w-3xl mx-auto",children:"Une carte qui fait la diffrence"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[o.jsx(C.div,{initial:{opacity:0,x:-50},animate:t?{opacity:1,x:0}:{},transition:{duration:1.2,delay:.3},children:o.jsx(ZR,{})}),o.jsx(C.div,{variants:il,initial:"initial",animate:t?"animate":"initial",className:"space-y-6",children:r.map(n=>{const s=n.icon;return o.jsx(C.div,{variants:gt,children:o.jsx(ke,{variant:"dark-premium",hover:!0,className:"group",children:o.jsxs("div",{className:"p-5 flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(s,{className:"w-5 h-5 text-black"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-warmGray-50 mb-1.5",children:n.title}),o.jsx("p",{className:"text-sm text-warmGray-200",children:n.description})]})]})})},n.title)})})]}),o.jsx(C.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.8},className:"text-center",children:o.jsxs("div",{className:"inline-flex items-center gap-2 text-gold-700 text-lg font-semibold",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"}),o.jsx("span",{children:"Commandez la vtre maintenant"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"})]})})]})]})},iA=()=>{const[e,t]=Dl({triggerOnce:!0,threshold:.1}),r=[{icon:Tf,title:"Profils multiples",description:"Crez plusieurs profils professionnels sur une seule carte",color:"from-gold-400 to-gold-600"},{icon:D1,title:"Description texte et vido",description:"Prsentez-vous en 360 avec texte, bio, et vido d'introduction",color:"from-gold-500 to-gold-700"},{icon:VT,title:"Stockage de documents",description:"Partagez CV, portfolio, brochures, catalogues",color:"from-gold-400 to-gold-600"}],n=[{icon:wf,title:"Entreprise",subtitle:"Dirigeants, entrepreneurs, commerciaux",description:"Un profil professionnel qui inspire confiance",color:"from-gold-400 to-gold-600"},{icon:_f,title:"tudiants",subtitle:"Stages, alternance, premier emploi",description:"Dmarquez-vous avec un profil moderne",color:"from-blue-400 to-blue-600"},{icon:Nf,title:"Artistes",subtitle:"Crateurs, performeurs, designers",description:"Exposez votre crativit",color:"from-purple-400 to-pink-500"}];return o.jsxs("section",{ref:e,className:"relative py-20",children:[o.jsxs("div",{className:"absolute inset-0 opacity-40",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gold-500/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-blue-500/15 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-rose-500/15 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(C.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"Votre identit professionnelle, sans limites"}),o.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700 max-w-3xl mx-auto",children:"Bien plus qu'une simple carte de visite"})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx(C.h3,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.3,duration:.8},className:"text-2xl font-bold text-warmGray-800 mb-6 text-center",children:"Vos fonctionnalits"}),o.jsx(C.div,{variants:il,initial:"initial",animate:t?"animate":"initial",className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:r.map(s=>{const i=s.icon;return o.jsx(C.div,{variants:gt,children:o.jsx(ke,{variant:"dark-premium",hover:!0,className:"h-full group",children:o.jsxs("div",{className:"p-5",children:[o.jsx(C.div,{className:`w-12 h-12 bg-gradient-to-br ${s.color} rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-gold-md`,children:o.jsx(i,{className:"w-6 h-6 text-black"})}),o.jsx("h4",{className:"text-xl font-bold text-warmGray-50 mb-3",children:s.title}),o.jsx("p",{className:"text-warmGray-200 text-base leading-relaxed",children:s.description})]})})},s.title)})})]}),o.jsxs("div",{children:[o.jsx(C.h3,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.6,duration:.8},className:"text-2xl font-bold text-warmGray-800 mb-6 text-center",children:"Vos profils"}),o.jsx(C.div,{variants:il,initial:"initial",animate:t?"animate":"initial",className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:n.map((s,i)=>{const a=s.icon;return o.jsx(C.div,{variants:gt,transition:{delay:i*.1+.3},children:o.jsx(ke,{variant:"dark-premium",hover:!0,className:"h-full group",children:o.jsxs("div",{className:"p-5",children:[o.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${s.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-gold-md`,children:o.jsx(a,{className:"w-5 h-5 text-white"})}),o.jsx("div",{className:`inline-block px-3 py-1 rounded-full bg-gradient-to-r ${s.color} text-white text-xs font-bold mb-3`,children:s.title}),o.jsx("h4",{className:"text-base font-bold text-warmGray-50 mb-2",children:s.subtitle}),o.jsx("p",{className:"text-warmGray-200 text-sm",children:s.description})]})})},s.title)})})]}),o.jsx(C.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{delay:1,duration:1},className:"text-center mt-10",children:o.jsx("p",{className:"text-warmGray-600 text-lg",children:"Et bien plus encore : freelances, consultants, artisans, associations..."})})]})]})};function q({children:e,variant:t="primary",size:r="md",fullWidth:n=!1,loading:s=!1,disabled:i,className:a="",...l}){const c="font-semibold rounded-lg inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",u={primary:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-premium-md hover:shadow-premium-lg font-semibold",secondary:"bg-neutral-100 hover:bg-neutral-200 text-neutral-900 border border-neutral-300 shadow-premium-sm",outline:"border-2 border-amber-500/50 hover:border-amber-500 text-amber-500 hover:text-amber-400 hover:bg-amber-500/10 shadow-premium-sm",danger:"bg-red-600 hover:bg-red-700 text-white shadow-premium-md",gold:"bg-gradient-to-r from-gold-400 to-gold-600 hover:from-gold-500 hover:to-gold-700 text-black shadow-gold-lg hover:shadow-gold-glow font-bold transition-all duration-300","gold-outline":"border-2 border-gold-500/50 hover:border-gold-500 text-gold-400 hover:text-gold-300 hover:bg-gold-500/10 shadow-gold-sm hover:shadow-gold-md transition-all duration-300"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},h=n?"w-full":"";return o.jsxs(C.button,{className:Zi(c,u[t],d[r],h,a),disabled:i||s,variants:nA,initial:"rest",whileHover:"hover",whileTap:"tap",...l,children:[s?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(C.div,{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),o.jsx("span",{children:"Chargement..."})]}):e,o.jsx(C.div,{className:"absolute inset-0 bg-white opacity-0 hover:opacity-10",initial:{opacity:0},whileHover:{opacity:.1},transition:{duration:.2}})]})}const aA=()=>{const[e,t]=Dl({triggerOnce:!0,threshold:.1}),r=[{name:"Pack Roc",icon:Vc,price:"19,90",period:"/mois pendant 1 an",features:["1 profil personnalis","1 carte NFC premium","Partage illimit","QR code dynamique"],highlighted:!1,color:"from-gray-500 to-gray-700"},{name:"Pack Saphir",icon:Vc,price:"24,90",period:"/mois pendant 1 an",features:["Tout du Pack Roc","3 profils personnaliss","Pitch vido intgr","CRM intgr","Statistiques avances"],highlighted:!0,recommended:!0,color:"from-[#3B82F6] to-[#2563EB]"},{name:"Pack Emeraude",icon:Vc,price:"34,90",period:"/mois pendant 1 an",features:["Tout des Packs Roc & Saphir","Logo personnalis sur carte","Adhsion au club VIP","Support prioritaire","Accs exclusif aux vnements"],highlighted:!1,color:"from-emerald-600 to-emerald-800"}],n=[{name:"Carte de Remplacement",price:"29,90"},{name:"Personnalisation couleur Mtal",price:"+10"}];return o.jsxs("section",{ref:e,className:"relative py-32",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/10 via-transparent to-transparent opacity-30"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(C.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-20",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"Nos Offres"}),o.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700",children:"Choisissez le pack qui vous correspond"})]}),o.jsx(C.div,{variants:il,initial:"initial",animate:t?"animate":"initial",className:"grid md:grid-cols-3 gap-8 mb-20",children:r.map(s=>{const i=s.icon;return o.jsxs(C.div,{variants:gt,className:"relative",children:[s.recommended&&o.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 z-20",children:o.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-semibold bg-gradient-to-r from-gold-500 to-gold-600 text-white shadow-gold-md",children:"Recommand"})}),o.jsx(ke,{variant:"dark-premium",className:`relative ${s.highlighted?"ring-2 ring-[#3B82F6]/50 shadow-xl transform scale-105":""}`,children:o.jsxs(Me,{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${s.color} flex items-center justify-center mb-4 shadow-lg`,children:o.jsx(i,{className:"w-9 h-9 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-warmGray-50 mb-2",children:s.name})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[o.jsx("span",{className:"text-5xl font-bold text-gold-400",children:s.price}),o.jsx("span",{className:"text-xl text-warmGray-300",children:""})]}),o.jsx("p",{className:"text-sm text-warmGray-300 mt-2",children:s.period})]}),o.jsx(q,{variant:s.highlighted?"primary":"secondary",className:"w-full",children:"Choisir ce pack"})]})})]},s.name)})}),o.jsxs(C.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.3},className:"max-w-5xl mx-auto mb-20",children:[o.jsx("h3",{className:"text-3xl font-bold text-gold-700 text-center mb-10",children:"Comparaison dtaille"}),o.jsx(ke,{variant:"dark-premium",className:"overflow-hidden",children:o.jsx(Me,{className:"p-0",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-neutral-700",children:[o.jsx("th",{className:"text-left p-4 md:p-6 font-semibold text-warmGray-50 bg-neutral-800/30",children:"Fonctionnalits"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-warmGray-200 bg-neutral-800/30",children:"Pack Roc"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-[#3B82F6] bg-[#3B82F6]/20",children:"Pack Saphir"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-emerald-400 bg-emerald-900/20",children:"Pack Emeraude"})]})}),o.jsxs("tbody",{className:"divide-y divide-neutral-700",children:[o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Profils personnaliss"}),o.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"1"}),o.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"3"}),o.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"Illimits"})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Carte NFC premium"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Partage illimit"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"QR code dynamique"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Pitch vido intgr"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"CRM intgr"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Statistiques avances"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Logo personnalis sur carte"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Adhsion au club VIP"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Support prioritaire"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Accs exclusif aux vnements"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx(Ge,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ye,{className:"w-4 h-4 text-white"})})})})]})]})]})})})})]}),o.jsxs(C.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.4},className:"max-w-3xl mx-auto",children:[o.jsx("h3",{className:"text-3xl font-bold text-gold-700 text-center mb-10",children:"Services Additionnels"}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map(s=>o.jsx(ke,{variant:"dark-premium",className:"transition-all duration-300 hover:shadow-gold-glow",children:o.jsx(Me,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("h4",{className:"font-semibold text-warmGray-50 mb-2",children:s.name}),o.jsxs("p",{className:"text-2xl font-bold text-gold-400",children:[s.price,""]})]})})},s.name))})]})]})]})};function oA(){const e={product:[{label:"Fonctionnalits",href:"/signup"},{label:"Templates",href:"/signup"},{label:"Cartes NFC",href:"/signup"},{label:"Exemples",href:"/#examples"}],resources:[{label:"Guide de dmarrage",href:"/signup"},{label:"Documentation",href:"/signup"},{label:"Support",href:"/signup"},{label:"FAQ",href:"/#faq"}],company:[{label:" propos",href:"/#about"},{label:"Contact",href:"/#contact"},{label:"Blog",href:"/#blog"}],legal:[{label:"Confidentialit",href:"/#privacy"},{label:"Conditions",href:"/#terms"},{label:"Mentions lgales",href:"/#legal"}]};return o.jsx("footer",{className:"bg-warmGray-800 border-t border-gold-500/30",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8 mb-8",children:[o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx(W,{to:"/",className:"inline-block mb-4",children:o.jsx(C.h2,{className:"text-2xl font-bold bg-gradient-gold-shimmer bg-clip-text text-transparent",whileHover:{scale:1.05},children:"Obsi"})}),o.jsx("p",{className:"text-warmGray-300 text-sm mb-4",children:"Carte de visite noire premium avec QR code et carte NFC pr-configure."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("a",{href:"mailto:contact@obsi.fr",className:"flex items-center gap-2 text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:[o.jsx(Sf,{className:"w-4 h-4"}),"contact@obsi.fr"]}),o.jsxs("a",{href:"tel:+33123456789",className:"flex items-center gap-2 text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:[o.jsx(Ef,{className:"w-4 h-4"}),"+33 1 23 45 67 89"]}),o.jsxs("div",{className:"flex items-center gap-2 text-warmGray-300 text-sm",children:[o.jsx(kf,{className:"w-4 h-4"}),"Paris, France"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Produit"}),o.jsx("ul",{className:"space-y-2",children:e.product.map((t,r)=>o.jsx("li",{children:o.jsx(W,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`product-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Ressources"}),o.jsx("ul",{className:"space-y-2",children:e.resources.map((t,r)=>o.jsx("li",{children:o.jsx(W,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`resources-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Entreprise"}),o.jsx("ul",{className:"space-y-2",children:e.company.map((t,r)=>o.jsx("li",{children:o.jsx(W,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`company-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Lgal"}),o.jsx("ul",{className:"space-y-2",children:e.legal.map((t,r)=>o.jsx("li",{children:o.jsx(W,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`legal-${r}`))})]})]}),o.jsxs("div",{className:"pt-8 border-t border-gold-500/30 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-warmGray-400 text-sm text-center md:text-left",children:" 2025 Obsi. Tous droits rservs."}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W,{to:"/#",className:"text-warmGray-400 hover:text-gold-400 transition-colors text-sm",children:"Politique de confidentialit"}),o.jsx("span",{className:"text-gold-500/40",children:""}),o.jsx(W,{to:"/#",className:"text-warmGray-400 hover:text-gold-400 transition-colors text-sm",children:"Conditions d'utilisation"})]})]})]})})}function lA(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-beige-200 via-warmGray-200 to-beige-200",children:[o.jsx(mR,{}),o.jsxs("main",{children:[o.jsx(vR,{}),o.jsx(sA,{}),o.jsx(iA,{}),o.jsx(aA,{})]}),o.jsx(oA,{})]})}const Q=b.forwardRef(({label:e,error:t,helperText:r,success:n,className:s="",...i},a)=>{const[l,c]=b.useState(!1);return o.jsxs("div",{className:"w-full",children:[e&&o.jsx(C.label,{className:Zi("block text-sm font-medium mb-1 transition-colors",l?"text-amber-600":"text-neutral-700",t&&"text-red-600"),animate:{y:l?-2:0},transition:{duration:.2},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx(C.input,{ref:a,className:Zi("w-full px-4 py-2.5 rounded-lg transition-all duration-200","border-2 focus:outline-none",t?"border-red-500 focus:border-red-600 focus:ring-2 focus:ring-red-500/20 bg-white":n?"border-green-500 focus:border-green-600 focus:ring-2 focus:ring-green-500/20 bg-white":"border-neutral-300 focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 bg-white","text-neutral-900 placeholder:text-neutral-500",s),onFocus:()=>c(!0),onBlur:()=>c(!1),animate:{scale:l?1.01:1},transition:{duration:.2},...i}),o.jsxs(tl,{children:[t&&o.jsx(C.div,{initial:{opacity:0,scale:.8,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(_i,{className:"w-5 h-5 text-red-500"})}),n&&!t&&o.jsx(C.div,{initial:{opacity:0,scale:.8,rotate:-10},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:15},className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(Fs,{className:"w-5 h-5 text-green-500"})})]})]}),o.jsxs(tl,{mode:"wait",children:[t&&o.jsx(C.p,{initial:{opacity:0,y:-10,x:-5},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-red-600 flex items-center gap-1.5",children:o.jsx(C.span,{animate:{x:[-2,2,-2,2,0]},transition:{duration:.4},children:t})}),r&&!t&&o.jsx(C.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-neutral-600",children:r})]})]})});Q.displayName="Input";function cA(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),{signIn:c}=ar(),u=ct();async function d(h){h.preventDefault(),i(""),l(!0);const{error:f}=await c(e,r);f?(i(f.message),l(!1)):u("/dashboard")}return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4 relative overflow-hidden",children:[o.jsx(C.div,{className:"absolute inset-0 opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.15) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),o.jsxs(C.div,{variants:tA,initial:"initial",animate:"animate",className:"max-w-md w-full relative z-10",children:[o.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-8",children:[o.jsx(W,{to:"/",className:"inline-block",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-amber bg-clip-text text-transparent mb-2",children:"Obsi"})}),o.jsx("p",{className:"text-neutral-600 text-sm",children:"Solution premium pour professionnels"})]}),o.jsx(ke,{variant:"default",className:"bg-white border-neutral-200 shadow-premium-lg",children:o.jsxs(Me,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(C.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.3},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:o.jsx(KT,{className:"w-8 h-8 text-black"})}),o.jsx(C.h1,{variants:eA,initial:"initial",animate:"animate",transition:{delay:.4},className:"text-3xl font-bold text-neutral-900",children:"Bon retour"}),o.jsx(C.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-neutral-600 mt-2",children:"Connectez-vous  votre compte"})]}),o.jsxs(C.form,{onSubmit:d,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4",children:[o.jsx(Q,{label:"Email",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"vous@exemple.com",required:!0}),o.jsx(Q,{label:"Mot de passe",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Entrez votre mot de passe",required:!0}),s&&o.jsx(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg text-sm backdrop-blur-sm",children:s}),o.jsx(q,{type:"submit",fullWidth:!0,loading:a,variant:"secondary",children:"Se connecter"})]}),o.jsxs(C.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center text-neutral-600",children:["Pas encore de compte ?"," ",o.jsx(W,{to:"/signup",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"S'inscrire"})]})]})}),o.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-6 text-center",children:o.jsxs(W,{to:"/",className:"inline-flex items-center gap-2 text-sm text-neutral-600 hover:text-amber-600 transition-colors",children:[o.jsx(Xi,{className:"w-4 h-4"}),o.jsx("span",{children:"Dcouvrir Obsi"})]})})]})]})}function uA(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(!1),{signUp:d}=ar(),h=ct();async function f(m){if(m.preventDefault(),l(""),r!==s){l("Les mots de passe ne correspondent pas");return}if(r.length<6){l("Le mot de passe doit contenir au moins 6 caractres");return}u(!0);const{error:p}=await d(e,r);p?(l(p.message),u(!1)):h("/onboarding")}return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white border border-neutral-200 rounded-2xl shadow-premium-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:o.jsx(iR,{className:"w-8 h-8 text-black"})}),o.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Crer un compte"}),o.jsx("p",{className:"text-neutral-600 mt-2",children:"Commencez votre parcours profil professionnel numrique"})]}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsx(Q,{label:"Email",type:"email",value:e,onChange:m=>t(m.target.value),placeholder:"vous@exemple.com",required:!0}),o.jsx(Q,{label:"Mot de passe",type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Au moins 6 caractres",required:!0}),o.jsx(Q,{label:"Confirmer le mot de passe",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"Confirmez votre mot de passe",required:!0}),a&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),o.jsx(q,{type:"submit",fullWidth:!0,loading:c,children:"Crer mon compte"})]}),o.jsxs("p",{className:"mt-6 text-center text-neutral-600",children:["Dj un compte ?"," ",o.jsx(W,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"Se connecter"})]})]})})}function Fl(){const{user:e}=ar(),[t,r]=b.useState(null),[n,s]=b.useState(!0),[i,a]=b.useState(null);return b.useEffect(()=>{if(!e){r(null),s(!1);return}async function u(){try{const{data:d,error:h}=await B.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(h)throw h;r(d)}catch(d){a(d instanceof Error?d.message:"Failed to fetch profile")}finally{s(!1)}}u()},[e]),{profile:t,loading:n,error:i,updateProfile:async u=>{if(!e||!t)return{error:"No user or profile found"};try{const{error:d}=await B.from("profiles").update(u).eq("id",t.id);if(d)throw d;return r({...t,...u}),{error:null}}catch(d){return{error:d instanceof Error?d.message:"Failed to update profile"}}},createProfile:async u=>{if(!e)return{error:"No user found"};try{const{data:d,error:h}=await B.from("profiles").insert({user_id:e.id,username:u.username,full_name:u.full_name,title:u.title||"",email:u.email||"",phone:u.phone||"",bio:"",website:"",profile_photo_url:"",video_url:"",pdf_url:"",social_links:{},design_template:"modern",qr_customization:{},lead_collection_enabled:!1,lead_form_fields:{name:!0,email:!0,phone:!1,message:!1},is_active:!0,view_count:0,sector:u.sector||"personnalise",custom_fields:u.custom_fields||[]}).select().single();if(h)throw h;return r(d),await B.from("subscriptions").insert({user_id:e.id,tier:"free",status:"active"}),{error:null,profile:d}}catch(d){return{error:d instanceof Error?d.message:"Failed to create profile",profile:null}}}}}const dA={landmark:P1,"building-2":wf,"graduation-cap":_f,user:aR,palette:Nf,settings:L1};function hA({onSelect:e,selectedTemplate:t}){const[r,n]=b.useState([]),[s,i]=b.useState(!0);return b.useEffect(()=>{async function a(){try{const{data:l,error:c}=await B.from("profile_templates").select("*").eq("is_active",!0).order("created_at",{ascending:!0});if(c)throw c;n(l||[])}catch(l){console.error("Error fetching templates:",l)}finally{i(!1)}}a()},[]),s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-2",children:"Choisissez votre secteur"}),o.jsx("p",{className:"text-warmGray-600",children:"Slectionnez le template qui correspond le mieux  votre activit"})]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(a=>{const l=dA[a.icon]||L1,c=(t==null?void 0:t.id)===a.id,u=a.name==="politique";return o.jsxs("button",{onClick:()=>e(a),className:`relative p-6 rounded-xl border-2 transition-all text-left ${c?"border-gold-600 bg-gold-50":"border-warmGray-200 hover:border-gold-300 bg-white hover:bg-warmGray-50"}`,children:[u&&o.jsx("div",{className:"absolute -top-3 left-4 px-3 py-1 bg-gradient-gold text-navy-900 text-xs font-semibold rounded-full",children:"Recommand"}),c&&o.jsx("div",{className:"absolute -top-3 right-4 w-8 h-8 bg-gold-600 rounded-full flex items-center justify-center",children:o.jsx(ye,{className:"w-5 h-5 text-navy-900"})}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-lg ${c?"bg-gold-100":"bg-warmGray-100"}`,children:o.jsx(l,{className:`w-6 h-6 ${c?"text-gold-600":"text-warmGray-600"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-navy-900 mb-1",children:a.label}),o.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:a.description}),a.default_fields&&a.default_fields.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-warmGray-500",children:"Champs inclus :"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.default_fields.slice(0,3).map(d=>o.jsx("span",{className:"inline-block px-2 py-0.5 bg-warmGray-100 text-warmGray-700 rounded text-xs",children:d.label},d.id)),a.default_fields.length>3&&o.jsxs("span",{className:"inline-block px-2 py-0.5 text-warmGray-500 text-xs",children:["+",a.default_fields.length-3," autres"]})]})]})]})]})]},a.id)})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-900",children:[o.jsx("span",{className:"font-semibold",children:"Plan gratuit :"})," 3 champs personnaliss supplmentaires inclus"]})})]})}function fA(){const[e]=El(),[t,r]=b.useState("template"),[n,s]=b.useState(null),[i,a]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(""),[h,f]=b.useState(""),[m,p]=b.useState(""),[v,w]=b.useState(""),[g,y]=b.useState(!1),[x,j]=b.useState(!1),{createProfile:_}=Fl(),S=ct();b.useEffect(()=>{const k=e.get("email"),E=e.get("name"),R=e.get("phone");k&&(p(k),j(!0)),E&&c(E),R&&f(R)},[e]);async function N(k){k.preventDefault(),w(""),y(!0);const E=i.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");if(E.length<3){w("Le nom d'utilisateur doit contenir au moins 3 caractres"),y(!1);return}const{error:R}=await _({username:E,full_name:l,title:u,email:m,phone:h,sector:(n==null?void 0:n.name)||"personnalise",custom_fields:(n==null?void 0:n.default_fields)||[]});R?(R.includes("unique")?w("Nom d'utilisateur dj pris. Veuillez en choisir un autre."):w(R),y(!1)):S("/dashboard")}return t==="template"?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:o.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(Xi,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Crez votre carte numrique"}),o.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 1 sur 2"})]}),o.jsx(hA,{onSelect:s,selectedTemplate:n}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(q,{onClick:()=>r("details"),disabled:!n,size:"lg",children:"Continuer"})})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:()=>r("template"),className:"flex items-center gap-2 text-warmGray-600 hover:text-warmGray-900 transition-colors",children:[o.jsx(xf,{className:"w-4 h-4"}),"Retour"]})}),x&&o.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",children:[o.jsx(Fs,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-900",children:"Carte active avec succs !"}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Compltez votre profil pour finaliser la configuration"})]})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(Xi,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Vos informations"}),o.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 2 sur 2 - Cela prend moins de 60 secondes"})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Q,{label:"Nom complet",value:l,onChange:k=>c(k.target.value),placeholder:"Jean Dupont",required:!0}),o.jsx(Q,{label:"Nom d'utilisateur",value:i,onChange:k=>a(k.target.value),placeholder:"jeandupont",helperText:"Votre URL unique : app.com/votre-nom",required:!0})]}),o.jsx(Q,{label:"Titre / Profession",value:u,onChange:k=>d(k.target.value),placeholder:"ex: Responsable Marketing, Designer Freelance"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Q,{label:"Tlphone",type:"tel",value:h,onChange:k=>f(k.target.value),placeholder:"+33 6 12 34 56 78"}),o.jsx(Q,{label:"Email",type:"email",value:m,onChange:k=>p(k.target.value),placeholder:"jean@exemple.com"})]}),v&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:v}),o.jsx(q,{type:"submit",fullWidth:!0,size:"lg",loading:g,children:"Crer ma carte"}),o.jsx("p",{className:"text-center text-sm text-warmGray-500",children:"Vous pourrez ajouter plus de dtails et personnaliser votre carte plus tard"})]})]})})}function eb(e){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0),[l,c]=b.useState(null);return b.useEffect(()=>{if(!e){a(!1);return}async function u(){try{a(!0),c(null);const h=new Date,f=new Date(h.getFullYear(),h.getMonth(),h.getDate()),m=new Date(h.getTime()-7*24*60*60*1e3),p=new Date(h.getFullYear(),h.getMonth(),1),{data:v,error:w}=await B.from("profile_analytics").select("*").eq("profile_id",e).order("created_at",{ascending:!1});if(w)throw w;const g=v||[],y=g.filter(E=>E.event_type==="view").length,x=g.filter(E=>E.event_type==="vcard_download").length,j=g.filter(E=>E.event_type==="link_click").length,_=y>0?x/y*100:0,S={mobile:g.filter(E=>E.device_type==="mobile").length,desktop:g.filter(E=>E.device_type==="desktop").length,tablet:g.filter(E=>E.device_type==="tablet").length},N=g.slice(0,20);r({totalViews:y,totalDownloads:x,totalLinkClicks:j,conversionRate:_,deviceBreakdown:S,recentEvents:N});const k=E=>{const R=g.filter($=>new Date($.created_at)>=E);return{views:R.filter($=>$.event_type==="view").length,downloads:R.filter($=>$.event_type==="vcard_download").length,clicks:R.filter($=>$.event_type==="link_click").length}};s({today:k(f),thisWeek:k(m),thisMonth:k(p),total:{views:y,downloads:x,clicks:j}})}catch(h){console.error("Error fetching analytics:",h),c(h.message||"Erreur lors du chargement des statistiques")}finally{a(!1)}}u();const d=setInterval(u,5*60*1e3);return()=>clearInterval(d)},[e]),{analytics:t,periods:n,loading:i,error:l}}function Sn({to:e,label:t,description:r,icon:n,external:s=!1,variant:i="default"}){return i==="card"?o.jsx(C.div,{whileHover:{scale:1.02,y:-2},className:"bg-white border border-amber-200 rounded-lg p-4 hover:border-amber-400 transition-colors shadow-premium-sm",children:o.jsxs(W,{to:e,className:"flex items-start gap-3",children:[n&&o.jsx("div",{className:"text-amber-600 mt-1",children:n}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"text-neutral-900 font-semibold mb-1 flex items-center gap-2",children:[t,s?o.jsx(U0,{className:"w-4 h-4"}):o.jsx(vd,{className:"w-4 h-4"})]}),r&&o.jsx("p",{className:"text-neutral-600 text-sm",children:r})]})]})}):o.jsxs(W,{to:e,className:"inline-flex items-center gap-2 text-amber-600 hover:text-amber-700 transition-colors text-sm font-medium",children:[n,t,s?o.jsx(U0,{className:"w-4 h-4"}):o.jsx(vd,{className:"w-4 h-4"})]})}function tb({profile:e,className:t=""}){const[r,n]=b.useState(!1),s=`${window.location.origin}/${e.username}`;return o.jsx("div",{className:t,style:{perspective:"1000px"},children:o.jsxs(C.div,{className:"relative w-full cursor-pointer",style:{transformStyle:"preserve-3d"},onClick:()=>n(!r),animate:{rotateY:r?180:0},transition:{duration:.6,type:"spring",stiffness:100},children:[o.jsx(C.div,{className:"relative w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(96, 165, 250, 0.1) 10px, rgba(96, 165, 250, 0.1) 11px)"}}),o.jsxs("div",{className:"relative h-full flex flex-col justify-between p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(C.div,{className:"inline-block bg-blue-400 rounded-lg px-3 py-1.5",whileHover:{scale:1.05},children:o.jsx("span",{className:"text-xs sm:text-sm font-bold text-blue-900",children:"PREMIUM"})}),o.jsx(C.div,{className:"bg-blue-400 p-2 rounded-lg",animate:{boxShadow:["0 0 0 0 rgba(96, 165, 250, 0.4)","0 0 0 10px rgba(96, 165, 250, 0)","0 0 0 0 rgba(96, 165, 250, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:o.jsx(A1,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-900"})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 gap-2 sm:gap-3",children:[o.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-white text-center tracking-tight",children:e.full_name||"Votre Nom"}),o.jsx(C.div,{className:"bg-white p-2 sm:p-3 rounded-xl flex-shrink-0 shadow-2xl",children:o.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-28 lg:h-28",children:o.jsx(If,{value:s,size:112,level:"H",fgColor:"#1e3a8a",style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),o.jsx(C.p,{className:"text-blue-200 text-xs sm:text-sm font-medium text-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Scannez le code QR pour accder au profil"})]})]})]})}),o.jsx(C.div,{className:"absolute inset-0 w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden",rotateY:180},children:o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden border border-blue-500/20",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 20px, rgba(96, 165, 250, 0.1) 20px, rgba(96, 165, 250, 0.1) 21px)"}}),o.jsx("div",{className:"relative h-full flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[o.jsx("div",{className:"w-28 h-28 sm:w-36 sm:h-36 mx-auto bg-blue-400 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/50",children:o.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-blue-900",children:"LOGO"})}),o.jsx("p",{className:"text-white text-sm sm:text-base font-semibold",children:"Votre Service Premium"}),o.jsx("p",{className:"text-blue-200 text-xs sm:text-sm",children:s})]})})]})}),o.jsx(C.div,{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-900/90 backdrop-blur-sm px-4 py-2 rounded-full whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5},children:o.jsxs("p",{className:"text-blue-200 text-xs font-medium",children:[r?"Verso":"Recto","  Cliquez pour retourner"]})})]})})}function fs({value:e,duration:t=1,className:r=""}){const n=b.useRef(null),s=S1(0),i=cT(s,l=>Math.round(l)),a=AT(n,{once:!0,margin:"-100px"});return b.useEffect(()=>{if(a)return PT(s,e,{duration:t,ease:"easeOut"}).stop},[a,s,e,t]),o.jsx(C.span,{ref:n,className:r,children:i})}function mA(){const{profile:e,loading:t}=Fl(),{analytics:r}=eb(e==null?void 0:e.id),{signOut:n}=ar(),s=ct();if(b.useEffect(()=>{!t&&!e&&s("/onboarding")},[e,t,s]),t)return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:o.jsx(C.div,{className:"h-12 w-12 border-4 border-amber-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(!e)return null;const i=`${window.location.origin}/${e.username}`,a=(c="standard")=>{const u=document.getElementById("qr-code");if(!u)return;const d=new XMLSerializer().serializeToString(u),h=document.createElement("canvas"),f=h.getContext("2d"),m=new Image,p=c==="high"?1e3:400;m.onload=()=>{if(h.width=p,h.height=p,f){f.fillStyle="white",f.fillRect(0,0,p,p);const y=p/200;f.scale(y,y),f.drawImage(m,0,0)}const v=h.toDataURL("image/png"),w=document.createElement("a"),g=c==="high"?"-high-res":"";w.download=`${e.username}-qr-code${g}.png`,w.href=v,w.click()},m.src="data:image/svg+xml;base64,"+btoa(d)},l=async()=>{if(navigator.share)try{await navigator.share({title:`Carte de ${e.full_name}`,text:"Dcouvrez ma profil professionnel numrique",url:i})}catch(c){console.error("Error sharing:",c)}else navigator.clipboard.writeText(i),alert("Lien copi dans le presse-papier !")};return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx(C.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-premium-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-amber bg-clip-text text-transparent",children:"Ma carte numrique"}),o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>n(),children:[o.jsx(T1,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 p-6 bg-gradient-to-r from-amber-50 to-transparent border border-amber-200 rounded-xl",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Xi,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-neutral-900 font-semibold mb-2",children:"Dcouvrez toutes les fonctionnalits"}),o.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:"Optimisez votre prsence professionnelle avec nos outils avancs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(Sn,{to:"/analytics",label:"Analytics dtaills",description:"Comprendre votre audience",icon:o.jsx(xd,{className:"w-4 h-4"}),variant:"card"}),o.jsx(Sn,{to:"/edit",label:"Personnalisation",description:"Affiner votre profil",icon:o.jsx(bd,{className:"w-4 h-4"}),variant:"card"})]})]})]})}),o.jsxs(C.div,{variants:X1,initial:"initial",animate:"animate",className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(C.div,{variants:gt,children:o.jsx(ke,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(Me,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Aperu de votre carte"}),o.jsx(W,{to:"/edit",children:o.jsxs(q,{variant:"outline",children:[o.jsx(bd,{className:"w-4 h-4 mr-2"}),"Modifier"]})})]}),o.jsx(tb,{profile:e,className:"mb-6"}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 flex gap-3",children:[o.jsx(W,{to:`/${e.username}`,className:"flex-1",children:o.jsxs(q,{variant:"outline",fullWidth:!0,children:[o.jsx(ks,{className:"w-4 h-4 mr-2"}),"Aperu"]})}),o.jsxs(q,{variant:"outline",onClick:l,fullWidth:!0,children:[o.jsx(Cf,{className:"w-4 h-4 mr-2"}),"Partager"]})]})]})})}),o.jsx(C.div,{variants:gt,children:o.jsx(ke,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(Me,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Statistiques en temps rel"}),o.jsx(W,{to:"/analytics",children:o.jsxs(q,{variant:"outline",size:"sm",children:[o.jsx(xd,{className:"w-4 h-4 mr-2"}),"Voir dtails"]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs(C.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(xo,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(fs,{value:(r==null?void 0:r.totalViews)||e.view_count||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Vues totales"})]}),o.jsxs(C.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(Tf,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(fs,{value:(r==null?void 0:r.totalDownloads)||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Tlchargements"})]}),o.jsxs(C.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(R1,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(fs,{value:(r==null?void 0:r.totalLinkClicks)||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Clics"})]})]})]})})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(C.div,{variants:gt,children:o.jsx(ke,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(Me,{children:[o.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Votre QR Code"}),o.jsx(C.div,{whileHover:{scale:1.05},className:"bg-white p-6 rounded-lg border-2 border-amber-500 flex items-center justify-center shadow-amber-glow",children:o.jsx(If,{id:"qr-code",value:i,size:200,level:"H"})}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs(q,{fullWidth:!0,variant:"secondary",onClick:()=>a("standard"),children:[o.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Tlcharger (Standard)"]}),o.jsxs(q,{fullWidth:!0,variant:"outline",onClick:()=>a("high"),children:[o.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Tlcharger (Haute rsolution)"]}),o.jsx("p",{className:"text-xs text-center text-neutral-500 mt-2",children:"Format haute rsolution recommand pour impression professionnelle"})]})]})})}),o.jsx(C.div,{variants:gt,children:o.jsx(ke,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(Me,{children:[o.jsx("h3",{className:"font-semibold text-amber-600 mb-2",children:"URL de votre profil"}),o.jsx("p",{className:"text-sm text-neutral-600 break-all mb-3",children:i}),o.jsx(q,{size:"sm",fullWidth:!0,variant:"outline",onClick:()=>{navigator.clipboard.writeText(i),alert("Lien copi !")},children:"Copier le lien"})]})})}),o.jsx(C.div,{variants:gt,children:o.jsx(ke,{variant:"default",className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:o.jsxs(Me,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-full flex items-center justify-center shadow-amber-glow flex-shrink-0",children:o.jsx(A1,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:"Carte NFC prte  l'emploi"}),o.jsx("p",{className:"text-xs text-neutral-500",children:"Zro configuration requise"})]})]}),o.jsx("p",{className:"text-sm text-neutral-600 mb-3 leading-relaxed",children:"Votre carte NFC physique sera pr-configure avec votre profil et livre prte  utiliser. Aucune manipulation technique ncessaire."}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[o.jsx("p",{className:"text-xs text-neutral-700 font-medium mb-2",children:"Comment a marche ?"}),o.jsxs("ul",{className:"text-xs text-neutral-600 space-y-1",children:[o.jsx("li",{children:" Nous configurons votre carte avec votre profil"}),o.jsx("li",{children:" Vous la recevez prte  partager"}),o.jsx("li",{children:" Un simple tap suffit pour changer vos coordonnes"})]})]})]})})})]})]})]})]})}function rb({items:e,className:t=""}){return o.jsxs("nav",{"aria-label":"Breadcrumb",className:`flex items-center space-x-2 text-sm ${t}`,children:[o.jsx(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center",children:o.jsx(W,{to:"/dashboard",className:"flex items-center text-neutral-600 hover:text-amber-600 transition-colors","aria-label":"Accueil",children:o.jsx(UT,{className:"w-4 h-4"})})}),e.map((r,n)=>o.jsxs(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"flex items-center space-x-2",children:[o.jsx(vo,{className:"w-4 h-4 text-neutral-400","aria-hidden":"true"}),r.href?o.jsx(W,{to:r.href,className:"text-neutral-600 hover:text-amber-600 transition-colors",children:r.label}):o.jsx("span",{className:"text-neutral-900 font-medium","aria-current":"page",children:r.label})]},n))]})}const q0={free:3,premium:10,premium_plus:1/0},K0={free:1,premium:5,premium_plus:1/0};function pA(){const{user:e}=ar(),[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{if(!e){r(null),s(!1);return}async function d(){try{const{data:h,error:f}=await B.from("subscriptions").select("*").eq("user_id",e.id).maybeSingle();if(f)throw f;r(h)}catch(h){console.error("Failed to fetch subscription:",h)}finally{s(!1)}}d()},[e]);const i=(t==null?void 0:t.tier)||"free",a=q0[i]||q0.free,l=K0[i]||K0.free;return{subscription:t,loading:n,tier:i,maxCustomFields:a,maxSavedTemplates:l,canAddCustomField:d=>d<a,canSaveTemplate:d=>d<l}}function gA(e){if(!e)return!0;try{return new URL(e),!0}catch{return!1}}function yA(e){return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e):!0}function vA(e){return e?/^[\d\s\-\+\(\)]{8,}$/.test(e):!0}function xA(e){return e.trim().length>0}function J0(e,t,r){if(r&&!xA(t))return"Ce champ est requis";if(!t)return null;switch(e){case"url":return gA(t)?null:"URL invalide";case"email":return yA(t)?null:"Email invalide";case"phone":return vA(t)?null:"Numro de tlphone invalide";default:return null}}function Y0({field:e,onChange:t}){const[r,n]=b.useState(null),[s,i]=b.useState(!1);b.useEffect(()=>{if(s){const c=J0(e.type,e.value,e.required);n(c)}},[e.value,e.type,e.required,s]);const a=c=>{i(!0),t(c)},l=()=>{i(!0);const c=J0(e.type,e.value,e.required);n(c)};return e.type==="textarea"?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:[e.label,e.required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"}),!e.isPublic&&o.jsx("span",{className:"ml-2 text-xs text-warmGray-500 bg-warmGray-100 px-2 py-0.5 rounded",children:"Priv"})]}),o.jsx("textarea",{value:e.value,onChange:c=>a(c.target.value),onBlur:l,rows:e.rows||4,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-500 focus:border-transparent ${r?"border-red-300":"border-warmGray-300"}`,placeholder:`Entrez ${e.label.toLowerCase()}`}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]}):o.jsxs("div",{children:[o.jsx(Q,{label:e.label,type:e.type==="text"?"text":e.type,value:e.value,onChange:c=>a(c.target.value),onBlur:l,required:e.required,helperText:e.isPublic?void 0:"Champ priv - visible uniquement pour vous"}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]})}function wA({fields:e,onChange:t,templateFields:r}){const{maxCustomFields:n,canAddCustomField:s}=pA(),[i,a]=b.useState(!1),[l,c]=b.useState(""),[u,d]=b.useState("text"),[h,f]=b.useState(!0),m=e.filter(x=>!r.find(j=>j.id===x.id)),p=s(m.length),v=()=>{if(!l.trim())return;const x={id:`custom_${Date.now()}`,label:l,type:u,value:"",required:!1,order:e.length,isPublic:h};t([...e,x]),c(""),d("text"),f(!0),a(!1)},w=x=>{t(e.filter(j=>j.id!==x))},g=(x,j)=>{t(e.map(_=>_.id===x?{..._,value:j}:_))},y=x=>{t(e.map(j=>j.id===x?{...j,isPublic:!j.isPublic}:j))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Champs du template"}),o.jsx("div",{className:"space-y-4",children:r.map(x=>{const j=e.find(_=>_.id===x.id)||x;return o.jsxs("div",{className:"relative",children:[o.jsx(Y0,{field:j,onChange:_=>g(x.id,_)}),!x.required&&o.jsx("button",{onClick:()=>y(x.id),className:"absolute top-8 right-3 text-warmGray-400 hover:text-warmGray-600",title:j.isPublic?"Rendre priv":"Rendre public",children:j.isPublic?o.jsx(ks,{className:"w-4 h-4"}):o.jsx(B0,{className:"w-4 h-4"})})]},x.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900",children:"Champs personnaliss"}),o.jsxs("p",{className:"text-sm text-warmGray-500",children:[m.length," / ",n===1/0?"":n," champs utiliss"]})]}),o.jsxs(q,{onClick:()=>a(!0),disabled:!p,size:"sm",variant:"outline",children:[o.jsx(O1,{className:"w-4 h-4 mr-2"}),"Ajouter un champ"]})]}),!p&&o.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[o.jsx($T,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-semibold text-amber-900",children:"Limite atteinte"}),o.jsx("p",{className:"text-amber-700",children:"Passez  Premium pour ajouter jusqu' 10 champs personnaliss"})]})]}),o.jsx("div",{className:"space-y-4",children:m.map(x=>o.jsx("div",{className:"relative border border-warmGray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Y0,{field:x,onChange:j=>g(x.id,j)})}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx("button",{onClick:()=>y(x.id),className:"text-warmGray-400 hover:text-warmGray-600",title:x.isPublic?"Rendre priv":"Rendre public",children:x.isPublic?o.jsx(ks,{className:"w-4 h-4"}):o.jsx(B0,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>w(x.id),className:"text-red-400 hover:text-red-600",title:"Supprimer ce champ",children:o.jsx(tR,{className:"w-4 h-4"})})]})]})},x.id))}),m.length===0&&o.jsxs("div",{className:"text-center py-8 text-warmGray-500",children:[o.jsx("p",{children:"Aucun champ personnalis pour le moment"}),o.jsx("p",{className:"text-sm mt-1",children:'Cliquez sur "Ajouter un champ" pour commencer'})]})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-warmGray-900 mb-4",children:"Ajouter un champ personnalis"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Libell du champ"}),o.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Numro de licence",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Type de champ"}),o.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"text",children:"Texte court"}),o.jsx("option",{value:"textarea",children:"Texte long"}),o.jsx("option",{value:"url",children:"URL"}),o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"phone",children:"Tlphone"}),o.jsx("option",{value:"date",children:"Date"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"isPublic",checked:h,onChange:x=>f(x.target.checked),className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"isPublic",className:"text-sm text-warmGray-700",children:"Afficher ce champ sur le profil public"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(q,{onClick:()=>a(!1),variant:"outline",fullWidth:!0,children:"Annuler"}),o.jsx(q,{onClick:v,disabled:!l.trim(),fullWidth:!0,children:"Ajouter"})]})]})})]})}function bA({currentPhotoUrl:e,onPhotoUploaded:t}){const{user:r}=ar(),[n,s]=b.useState(!1),[i,a]=b.useState(null),[l,c]=b.useState(e||null),[u,d]=b.useState(!1),[h,f]=b.useState(null),m=b.useRef(null),p=b.useRef(null),v=b.useRef(null);b.useEffect(()=>()=>{h&&h.getTracks().forEach(S=>S.stop())},[h]),b.useEffect(()=>{h&&p.current&&u&&(p.current.srcObject=h)},[h,u]);const w=async()=>{try{a(null);const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:1280}}});f(S),d(!0)}catch(S){a("Impossible d'accder  la camra. Vrifiez les permissions."),console.error("Camera error:",S)}},g=()=>{h&&(h.getTracks().forEach(S=>S.stop()),f(null)),d(!1)},y=()=>{if(!p.current||!v.current)return;const S=p.current,N=v.current,k=N.getContext("2d");if(!k)return;N.width=400,N.height=400;const E=S.videoWidth/S.videoHeight;let R=0,$=0,X=S.videoWidth,J=S.videoHeight;E>1?(X=S.videoHeight,R=(S.videoWidth-X)/2):(J=S.videoWidth,$=(S.videoHeight-J)/2),k.drawImage(S,R,$,X,J,0,0,400,400),N.toBlob(async ge=>{ge&&await _(ge,"selfie.jpg")},"image/jpeg",.9),g()},x=async S=>{var E;const N=(E=S.target.files)==null?void 0:E[0];if(!N)return;if(a(null),!["image/jpeg","image/png","image/webp"].includes(N.type)){a("Format non support. Utilisez JPEG, PNG ou WebP.");return}if(N.size>5*1024*1024){a("Fichier trop volumineux. Maximum 5MB.");return}const k=await j(N,N.type);k&&await _(k,N.name,N.type)},j=async(S,N)=>new Promise(k=>{const E=new FileReader;E.onload=R=>{var X;const $=new Image;$.onload=()=>{const J=document.createElement("canvas"),ge=J.getContext("2d");if(!ge){k(null);return}const le=400;J.width=le,J.height=le;const Ue=Math.min($.width,$.height),G=($.width-Ue)/2,P=($.height-Ue)/2;ge.drawImage($,G,P,Ue,Ue,0,0,le,le);const D=N==="image/webp"?"image/webp":"image/jpeg",I=N==="image/webp"?.9:.85;J.toBlob(F=>{k(F)},D,I)},$.src=(X=R.target)==null?void 0:X.result},E.readAsDataURL(S)}),_=async(S,N,k="image/jpeg")=>{if(!r){a("Vous devez tre connect.");return}s(!0),a(null);try{let E=N.split(".").pop()||"jpg";k==="image/webp"&&E!=="webp"&&(E="webp");const R=`${r.id}/${Date.now()}.${E}`,{data:$,error:X}=await B.storage.from("profile-photos").upload(R,S,{contentType:k==="image/webp"?"image/webp":"image/jpeg",upsert:!1});if(X)throw X;const{data:J}=B.storage.from("profile-photos").getPublicUrl(R);c(J.publicUrl),t(J.publicUrl)}catch(E){a(E.message||"Erreur lors du tlchargement."),console.error("Upload error:",E)}finally{s(!1)}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700",children:"Photo de profil"}),l&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l,alt:"Aperu",className:"w-32 h-32 rounded-full object-cover border-4 border-gold-400 shadow-lg"}),o.jsx("button",{onClick:()=>{c(null),t("")},className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:o.jsx(Ge,{className:"w-4 h-4"})})]})}),!u&&o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(q,{type:"button",variant:"outline",onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},disabled:n,fullWidth:!0,children:[n?o.jsx(HT,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(sR,{className:"w-4 h-4 mr-2"}),"Importer"]}),o.jsxs(q,{type:"button",variant:"outline",onClick:w,disabled:n,fullWidth:!0,children:[o.jsx(bf,{className:"w-4 h-4 mr-2"}),"Selfie"]})]}),u&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"}),o.jsx("div",{className:"absolute inset-0 border-2 border-gold-400 rounded-lg pointer-events-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(q,{type:"button",variant:"outline",onClick:g,fullWidth:!0,children:[o.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Annuler"]}),o.jsxs(q,{type:"button",variant:"secondary",onClick:y,fullWidth:!0,children:[o.jsx(ye,{className:"w-4 h-4 mr-2"}),"Capturer"]})]})]}),o.jsx("canvas",{ref:v,className:"hidden"}),o.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:x,className:"hidden"}),i&&o.jsx("p",{className:"text-sm text-red-600 mt-2",children:i}),o.jsx("p",{className:"text-xs text-warmGray-500",children:"Formats accepts : JPEG, PNG, WebP. Taille max : 5MB. L'image sera automatiquement recadre en cercle."})]})}const Rr=20;function jA(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{window.URL.revokeObjectURL(n.src),t(n.duration)},n.onerror=()=>{r(new Error("Failed to load video metadata"))},n.src=URL.createObjectURL(e)})}async function _A(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.currentTime=2,n.onloadeddata=()=>{const s=document.createElement("canvas");s.width=n.videoWidth,s.height=n.videoHeight;const i=s.getContext("2d");if(!i){r(new Error("Failed to get canvas context"));return}i.drawImage(n,0,0,s.width,s.height),s.toBlob(a=>{window.URL.revokeObjectURL(n.src),a?t(a):r(new Error("Failed to generate thumbnail"))},"image/webp",.8)},n.onerror=()=>{r(new Error("Failed to load video for thumbnail"))},n.src=URL.createObjectURL(e)})}function SA(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(2)} ${r[n]}`}function nb(e){const t=Math.floor(e/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function kA(e){const[t,r]=b.useState({uploading:!1,progress:0,error:null});return{...t,uploadRecording:async i=>{r({uploading:!1,progress:0,error:null});try{const a=new File([i],`recording-${Date.now()}.webm`,{type:i.type});r(w=>({...w,uploading:!0,progress:0}));const l=await jA(a);if(l>Rr)return r({uploading:!1,progress:0,error:`La vido dpasse la dure maximale de ${Rr} secondes.`}),null;const c=Date.now(),u=`${e}/video_${c}.mp4`,d=`${e}/thumbnails/thumb_${c}.webp`,h=await _A(a),{error:f}=await B.storage.from("profile-videos").upload(u,a,{cacheControl:"3600",upsert:!1});if(f)throw f;r({uploading:!0,progress:50,error:null});const{error:m}=await B.storage.from("profile-videos").upload(d,h,{cacheControl:"3600",upsert:!1});if(m)throw m;const{data:p}=B.storage.from("profile-videos").getPublicUrl(u),{data:v}=B.storage.from("profile-videos").getPublicUrl(d);return r({uploading:!1,progress:100,error:null}),{videoUrl:p.publicUrl,thumbnailUrl:v.publicUrl,duration:Math.floor(l),fileSize:a.size}}catch(a){const l=a instanceof Error?a.message:"Upload failed";return r({uploading:!1,progress:0,error:l}),null}},deleteVideo:async(i,a)=>{try{const l=i.split("/profile-videos/")[1],c=a.split("/profile-videos/")[1];return l&&await B.storage.from("profile-videos").remove([l]),c&&await B.storage.from("profile-videos").remove([c]),!0}catch(l){return console.error("Error deleting video:",l),!1}}}}function NA({userId:e,currentVideoUrl:t,currentThumbnailUrl:r,currentDuration:n,currentFileSize:s,onUploadComplete:i,onDelete:a}){const l=b.useRef(null),c=b.useRef(null),u=b.useRef([]),[d,h]=b.useState(null),[f,m]=b.useState(!1),[p,v]=b.useState(!1),[w,g]=b.useState(0),[y,x]=b.useState(null),[j,_]=b.useState(null),[S,N]=b.useState("user"),{uploading:k,progress:E,error:R,uploadRecording:$,deleteVideo:X}=kA(e);b.useEffect(()=>()=>{y&&y.getTracks().forEach(F=>F.stop())},[y]),b.useEffect(()=>{y&&l.current&&f&&(l.current.srcObject=y)},[y,f]);const J=b.useCallback(()=>{c.current&&p&&(c.current.stop(),v(!1))},[p]);b.useEffect(()=>{let F;return p?F=setInterval(()=>{g(z=>{const ee=z+1;return ee>=Rr&&J(),ee})},1e3):g(0),()=>clearInterval(F)},[p,J]);const ge=async()=>{t&&r&&await X(t,r)&&(h(null),a())},le=async(F=S)=>{console.log("startCamera called");try{if(_(null),y&&y.getTracks().forEach(ee=>ee.stop()),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Votre navigateur ne supporte pas l'accs  la camra. Veuillez utiliser un navigateur moderne.");console.log("Requesting camera access...");const z=await navigator.mediaDevices.getUserMedia({video:{facingMode:F,width:{ideal:1920},height:{ideal:1080}},audio:!0});console.log("Camera access granted"),x(z),m(!0),N(F)}catch(z){console.error("Camera error:",z);let ee="Impossible d'accder  la camra.";z.name==="NotAllowedError"?ee="Accs  la camra refus. Veuillez autoriser l'accs dans les paramtres de votre navigateur.":z.name==="NotFoundError"?ee="Aucune camra trouve sur cet appareil.":z.name==="NotReadableError"?ee="La camra est dj utilise par une autre application.":z.name==="OverconstrainedError"?ee="Impossible d'utiliser les paramtres demands pour la camra.":z.message&&(ee=z.message),_(ee),m(!0)}},Ue=()=>{y&&(y.getTracks().forEach(F=>F.stop()),x(null)),m(!1),v(!1),_(null)},G=async()=>{if(p)return;await le(S==="user"?"environment":"user")},P=()=>{const F=[{mimeType:"video/webm;codecs=vp9",extension:"webm"},{mimeType:"video/webm;codecs=vp8",extension:"webm"},{mimeType:"video/webm;codecs=h264",extension:"webm"},{mimeType:"video/webm",extension:"webm"},{mimeType:"video/mp4;codecs=h264",extension:"mp4"},{mimeType:"video/mp4",extension:"mp4"}];for(const z of F)if(MediaRecorder.isTypeSupported(z.mimeType))return z;return{mimeType:"",extension:"webm"}},D=()=>{if(y)try{const{mimeType:F}=P();if(!F){_("Votre navigateur ne supporte pas l'enregistrement vido. Veuillez utiliser un navigateur moderne comme Chrome, Firefox ou Safari.");return}u.current=[];const z=F?{mimeType:F}:{},ee=new MediaRecorder(y,z);ee.ondataavailable=K=>{K.data.size>0&&u.current.push(K.data)},ee.onstop=async()=>{const K=new Blob(u.current,{type:F||"video/webm"}),Be=await $(K);Be&&(h(Be.videoUrl),i(Be)),Ue()},ee.onerror=K=>{console.error("MediaRecorder error:",K),_("Une erreur s'est produite lors de l'enregistrement. Veuillez ressayer."),v(!1)},ee.start(),c.current=ee,v(!0),_(null)}catch(F){console.error("Recording error:",F),_(`Erreur d'enregistrement: ${F.message||"Impossible de dmarrer l'enregistrement"}`),v(!1)}},I=t||d;return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Vido de prsentation"})}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-400 mb-4",children:[o.jsx(_i,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{children:"Enregistrez une vido de prsentation directement depuis votre camra"}),o.jsxs("p",{children:["Dure maximale: ",Rr," secondes"]})]})]}),!I&&!f?o.jsx("div",{className:"space-y-3",children:o.jsxs(q,{type:"button",variant:"outline",onClick:()=>{console.log("Button clicked"),le()},disabled:k,fullWidth:!0,children:[o.jsx(bf,{className:"w-4 h-4 mr-2"}),"Enregistrer une vido"]})}):f?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:[o.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!p,className:"w-full h-full object-cover"}),!p&&o.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2 px-3 py-2 bg-green-600 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),o.jsx("span",{className:"text-white text-sm font-medium",children:"Camra prte"})]}),p&&o.jsxs("div",{className:"absolute top-4 left-4 right-4 flex flex-col items-center space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-red-600 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),o.jsxs("span",{className:"text-white text-sm font-medium",children:[Math.floor(w/60),":",(w%60).toString().padStart(2,"0")," / ",Math.floor(Rr/60),":",(Rr%60).toString().padStart(2,"0")]})]}),o.jsx("div",{className:"w-full max-w-xs bg-gray-800/80 rounded-full h-2 overflow-hidden backdrop-blur-sm",children:o.jsx("div",{className:"bg-red-500 h-full transition-all duration-1000 ease-linear",style:{width:`${w/Rr*100}%`}})})]}),w>=Rr&&o.jsx("div",{className:"absolute top-4 right-4 px-3 py-2 bg-yellow-600 rounded-lg",children:o.jsx("span",{className:"text-white text-sm font-medium",children:"Limite atteinte"})}),!p&&o.jsx("button",{onClick:G,className:"absolute bottom-4 right-4 p-3 bg-gray-900/80 hover:bg-gray-800 text-white rounded-full transition-colors backdrop-blur-sm",title:S==="user"?"Basculer vers la camra arrire":"Basculer vers la camra frontale",children:o.jsx(XT,{className:"w-5 h-5"})})]}),j&&o.jsxs("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[o.jsx(_i,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:j})]}),o.jsx("div",{className:"space-y-2",children:p?o.jsxs("button",{type:"button",onClick:J,className:"w-full py-4 px-6 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all shadow-lg",children:[o.jsx(ZT,{className:"w-6 h-6"}),o.jsx("span",{children:"Arrter l'enregistrement"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{type:"button",onClick:D,className:"w-full py-4 px-6 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg",children:[o.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"})}),o.jsx("span",{children:"Dmarrer l'enregistrement"})]}),o.jsxs(q,{type:"button",variant:"outline",onClick:Ue,fullWidth:!0,children:[o.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Annuler"]})]})})]}):I?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:o.jsx("video",{src:d||t,controls:!0,className:"w-full h-full",poster:r})}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx(D1,{className:"w-4 h-4"}),o.jsx("span",{children:nb(n||0)})]}),o.jsx("span",{children:SA(s||0)})]}),o.jsxs("button",{type:"button",onClick:ge,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[o.jsx(Ge,{className:"w-4 h-4"}),o.jsx("span",{children:"Supprimer"})]})]})]}):null,R&&o.jsxs("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[o.jsx(_i,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:R})]})]}),k&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Upload en cours..."}),o.jsxs("span",{className:"text-sm text-yellow-500",children:[E,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-yellow-500 h-full transition-all duration-300 ease-out",style:{width:`${E}%`}})})]})]})}const EA=[{name:"Paris",postalCode:"75000",timezone:"Europe/Paris",country:"France"},{name:"Marseille",postalCode:"13000",timezone:"Europe/Paris",country:"France"},{name:"Lyon",postalCode:"69000",timezone:"Europe/Paris",country:"France"},{name:"Toulouse",postalCode:"31000",timezone:"Europe/Paris",country:"France"},{name:"Nice",postalCode:"06000",timezone:"Europe/Paris",country:"France"},{name:"Nantes",postalCode:"44000",timezone:"Europe/Paris",country:"France"},{name:"Strasbourg",postalCode:"67000",timezone:"Europe/Paris",country:"France"},{name:"Montpellier",postalCode:"34000",timezone:"Europe/Paris",country:"France"},{name:"Bordeaux",postalCode:"33000",timezone:"Europe/Paris",country:"France"},{name:"Lille",postalCode:"59000",timezone:"Europe/Paris",country:"France"},{name:"Rennes",postalCode:"35000",timezone:"Europe/Paris",country:"France"},{name:"Reims",postalCode:"51100",timezone:"Europe/Paris",country:"France"},{name:"Le Havre",postalCode:"76600",timezone:"Europe/Paris",country:"France"},{name:"Saint-tienne",postalCode:"42000",timezone:"Europe/Paris",country:"France"},{name:"Toulon",postalCode:"83000",timezone:"Europe/Paris",country:"France"},{name:"Grenoble",postalCode:"38000",timezone:"Europe/Paris",country:"France"},{name:"Dijon",postalCode:"21000",timezone:"Europe/Paris",country:"France"},{name:"Angers",postalCode:"49000",timezone:"Europe/Paris",country:"France"},{name:"Nmes",postalCode:"30000",timezone:"Europe/Paris",country:"France"},{name:"Villeurbanne",postalCode:"69100",timezone:"Europe/Paris",country:"France"},{name:"Le Mans",postalCode:"72000",timezone:"Europe/Paris",country:"France"},{name:"Aix-en-Provence",postalCode:"13100",timezone:"Europe/Paris",country:"France"},{name:"Clermont-Ferrand",postalCode:"63000",timezone:"Europe/Paris",country:"France"},{name:"Brest",postalCode:"29200",timezone:"Europe/Paris",country:"France"},{name:"Tours",postalCode:"37000",timezone:"Europe/Paris",country:"France"},{name:"Limoges",postalCode:"87000",timezone:"Europe/Paris",country:"France"},{name:"Amiens",postalCode:"80000",timezone:"Europe/Paris",country:"France"},{name:"Perpignan",postalCode:"66000",timezone:"Europe/Paris",country:"France"},{name:"Metz",postalCode:"57000",timezone:"Europe/Paris",country:"France"},{name:"Besanon",postalCode:"25000",timezone:"Europe/Paris",country:"France"},{name:"Boulogne-Billancourt",postalCode:"92100",timezone:"Europe/Paris",country:"France"},{name:"Orlans",postalCode:"45000",timezone:"Europe/Paris",country:"France"},{name:"Mulhouse",postalCode:"68100",timezone:"Europe/Paris",country:"France"},{name:"Rouen",postalCode:"76000",timezone:"Europe/Paris",country:"France"},{name:"Caen",postalCode:"14000",timezone:"Europe/Paris",country:"France"},{name:"Nancy",postalCode:"54000",timezone:"Europe/Paris",country:"France"},{name:"Argenteuil",postalCode:"95100",timezone:"Europe/Paris",country:"France"},{name:"Montreuil",postalCode:"93100",timezone:"Europe/Paris",country:"France"},{name:"Roubaix",postalCode:"59100",timezone:"Europe/Paris",country:"France"},{name:"Tourcoing",postalCode:"59200",timezone:"Europe/Paris",country:"France"},{name:"Nanterre",postalCode:"92000",timezone:"Europe/Paris",country:"France"},{name:"Avignon",postalCode:"84000",timezone:"Europe/Paris",country:"France"},{name:"Vitry-sur-Seine",postalCode:"94400",timezone:"Europe/Paris",country:"France"},{name:"Crteil",postalCode:"94000",timezone:"Europe/Paris",country:"France"},{name:"Dunkerque",postalCode:"59140",timezone:"Europe/Paris",country:"France"},{name:"Poitiers",postalCode:"86000",timezone:"Europe/Paris",country:"France"},{name:"Asnires-sur-Seine",postalCode:"92600",timezone:"Europe/Paris",country:"France"},{name:"Courbevoie",postalCode:"92400",timezone:"Europe/Paris",country:"France"},{name:"Versailles",postalCode:"78000",timezone:"Europe/Paris",country:"France"},{name:"Colombes",postalCode:"92700",timezone:"Europe/Paris",country:"France"},{name:"Fort-de-France",postalCode:"97200",timezone:"America/Martinique",country:"France"},{name:"Aulnay-sous-Bois",postalCode:"93600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Pierre",postalCode:"97410",timezone:"Indian/Reunion",country:"France"},{name:"Rueil-Malmaison",postalCode:"92500",timezone:"Europe/Paris",country:"France"},{name:"Pau",postalCode:"64000",timezone:"Europe/Paris",country:"France"},{name:"Aubervilliers",postalCode:"93300",timezone:"Europe/Paris",country:"France"},{name:"Le Tampon",postalCode:"97430",timezone:"Indian/Reunion",country:"France"},{name:"Champigny-sur-Marne",postalCode:"94500",timezone:"Europe/Paris",country:"France"},{name:"Antibes",postalCode:"06600",timezone:"Europe/Paris",country:"France"},{name:"La Rochelle",postalCode:"17000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Maur-des-Fosss",postalCode:"94100",timezone:"Europe/Paris",country:"France"},{name:"Calais",postalCode:"62100",timezone:"Europe/Paris",country:"France"},{name:"Cannes",postalCode:"06400",timezone:"Europe/Paris",country:"France"},{name:"Bziers",postalCode:"34500",timezone:"Europe/Paris",country:"France"},{name:"Colmar",postalCode:"68000",timezone:"Europe/Paris",country:"France"},{name:"Bourges",postalCode:"18000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Nazaire",postalCode:"44600",timezone:"Europe/Paris",country:"France"},{name:"Quimper",postalCode:"29000",timezone:"Europe/Paris",country:"France"},{name:"Valence",postalCode:"26000",timezone:"Europe/Paris",country:"France"},{name:"Mrignac",postalCode:"33700",timezone:"Europe/Paris",country:"France"},{name:"Drancy",postalCode:"93700",timezone:"Europe/Paris",country:"France"},{name:"Ajaccio",postalCode:"20000",timezone:"Europe/Paris",country:"France"},{name:"Levallois-Perret",postalCode:"92300",timezone:"Europe/Paris",country:"France"},{name:"Troyes",postalCode:"10000",timezone:"Europe/Paris",country:"France"},{name:"Neuilly-sur-Seine",postalCode:"92200",timezone:"Europe/Paris",country:"France"},{name:"Antony",postalCode:"92160",timezone:"Europe/Paris",country:"France"},{name:"Sarcelles",postalCode:"95200",timezone:"Europe/Paris",country:"France"},{name:"Cergy",postalCode:"95000",timezone:"Europe/Paris",country:"France"},{name:"Issy-les-Moulineaux",postalCode:"92130",timezone:"Europe/Paris",country:"France"},{name:"Noisy-le-Grand",postalCode:"93160",timezone:"Europe/Paris",country:"France"},{name:"vry",postalCode:"91000",timezone:"Europe/Paris",country:"France"},{name:"Vnissieux",postalCode:"69200",timezone:"Europe/Paris",country:"France"},{name:"Clichy",postalCode:"92110",timezone:"Europe/Paris",country:"France"},{name:"Lorient",postalCode:"56100",timezone:"Europe/Paris",country:"France"},{name:"Chambry",postalCode:"73000",timezone:"Europe/Paris",country:"France"},{name:"Pessac",postalCode:"33600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Andr",postalCode:"97440",timezone:"Indian/Reunion",country:"France"},{name:"Ivry-sur-Seine",postalCode:"94200",timezone:"Europe/Paris",country:"France"},{name:"Montauban",postalCode:"82000",timezone:"Europe/Paris",country:"France"},{name:"Cagnes-sur-Mer",postalCode:"06800",timezone:"Europe/Paris",country:"France"},{name:"Niort",postalCode:"79000",timezone:"Europe/Paris",country:"France"},{name:"Villejuif",postalCode:"94800",timezone:"Europe/Paris",country:"France"},{name:"Saint-Quentin",postalCode:"02100",timezone:"Europe/Paris",country:"France"},{name:"Hyres",postalCode:"83400",timezone:"Europe/Paris",country:"France"},{name:"Beauvais",postalCode:"60000",timezone:"Europe/Paris",country:"France"},{name:"Cholet",postalCode:"49300",timezone:"Europe/Paris",country:"France"}];function CA({value:e,timezone:t,country:r,onChange:n}){const[s,i]=b.useState(e||""),[a,l]=b.useState(!1),[c,u]=b.useState(-1),d=EA,h=b.useMemo(()=>{if(!s)return d.slice(0,10);const p=s.toLowerCase();return d.filter(v=>{const w=v.name.toLowerCase().includes(p),g=v.postalCode.includes(s);return w||g}).slice(0,10)},[s,d]),f=p=>{i(p.name),n(p.name,p.timezone,p.country),l(!1),u(-1)},m=p=>{if(!a&&(p.key==="ArrowDown"||p.key==="Enter")){l(!0);return}p.key==="ArrowDown"?(p.preventDefault(),u(v=>Math.min(v+1,h.length-1))):p.key==="ArrowUp"?(p.preventDefault(),u(v=>Math.max(v-1,-1))):p.key==="Enter"&&c>=0?(p.preventDefault(),f(h[c])):p.key==="Escape"&&(l(!1),u(-1))};return o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ville"}),o.jsxs("div",{className:"relative",children:[o.jsx(kf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:p=>{i(p.target.value),l(!0),u(-1)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),200),onKeyDown:m,placeholder:"Rechercher une ville...",className:"w-full pl-10 pr-10 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 transition-colors"}),o.jsx(DT,{className:`absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&h.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:h.map((p,v)=>o.jsx("button",{type:"button",onClick:()=>f(p),className:`w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors ${v===c?"bg-gray-700":""} ${v===0?"rounded-t-lg":""} ${v===h.length-1?"rounded-b-lg":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:p.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[p.postalCode,"  ",p.country]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:p.timezone})]})},`${p.name}-${p.postalCode}`))}),t&&o.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Fuseau horaire: ",o.jsx("span",{className:"text-yellow-500",children:t})]})]})}function PA(){const{profile:e,updateProfile:t}=Fl(),{user:r}=ar(),n=ct(),[s,i]=b.useState(!1),[a,l]=b.useState(""),[c,u]=b.useState([]),[d,h]=b.useState([]),[f,m]=b.useState({full_name:"",title:"",bio:"",email:"",phone:"",website:"",profile_photo_url:"",video_url:"",linkedin:"",twitter:"",instagram:"",facebook:"",tagline:"",mission_statement:"",location_city:"",location_country:"",timezone:"",show_local_time:!1,is_online:!0,theme_color:"#C89B3C",video_thumbnail_url:"",video_duration:0,video_file_size:0,total_video_storage:0});b.useEffect(()=>{var v,w,g,y;if(e){m({full_name:e.full_name||"",title:e.title||"",bio:e.bio||"",email:e.email||"",phone:e.phone||"",website:e.website||"",profile_photo_url:e.profile_photo_url||"",video_url:e.video_url||"",linkedin:((v=e.social_links)==null?void 0:v.linkedin)||"",twitter:((w=e.social_links)==null?void 0:w.twitter)||"",instagram:((g=e.social_links)==null?void 0:g.instagram)||"",facebook:((y=e.social_links)==null?void 0:y.facebook)||"",tagline:e.tagline||"",mission_statement:e.mission_statement||"",location_city:e.location_city||"",location_country:e.location_country||"",timezone:e.timezone||"Europe/Paris",show_local_time:e.show_local_time||!1,is_online:e.is_online!==void 0?e.is_online:!0,theme_color:e.theme_color||"#C89B3C",video_thumbnail_url:e.video_thumbnail_url||"",video_duration:e.video_duration||0,video_file_size:e.video_file_size||0,total_video_storage:e.total_video_storage||0}),u(e.custom_fields||[]);async function x(){try{const{data:j}=await B.from("profile_templates").select("default_fields").eq("name",e.sector).maybeSingle();j!=null&&j.default_fields&&h(j.default_fields)}catch(j){console.error("Error fetching template fields:",j)}}e.sector&&x()}},[e]),b.useEffect(()=>{if(!s&&f&&e){const v=setTimeout(async()=>{const w={...f.linkedin&&{linkedin:f.linkedin},...f.twitter&&{twitter:f.twitter},...f.instagram&&{instagram:f.instagram},...f.facebook&&{facebook:f.facebook}};await t({full_name:f.full_name,title:f.title,bio:f.bio,email:f.email,phone:f.phone,website:f.website,profile_photo_url:f.profile_photo_url,video_url:f.video_url,social_links:w,custom_fields:c,tagline:f.tagline,mission_statement:f.mission_statement,location_city:f.location_city,location_country:f.location_country,timezone:f.timezone,show_local_time:f.show_local_time,is_online:f.is_online,theme_color:f.theme_color,video_thumbnail_url:f.video_thumbnail_url,video_duration:f.video_duration,video_file_size:f.video_file_size,total_video_storage:f.total_video_storage}),l("Enregistr"),setTimeout(()=>l(""),2e3)},1e3);return()=>clearTimeout(v)}},[f,c]);const p=(v,w)=>{m(g=>({...g,[v]:w})),l("Enregistrement...")};return e?o.jsxs("div",{className:"min-h-screen bg-warmGray-50",children:[o.jsx("nav",{className:"bg-white border-b border-warmGray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-warmGray-700 hover:text-warmGray-900",children:[o.jsx(xf,{className:"w-5 h-5"}),"Retour au tableau de bord"]}),a&&o.jsx("span",{className:"text-sm text-green-600 font-medium",children:a})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(rb,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Modifier le profil"}],className:"mb-6"}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Sn,{to:`/${e.username}`,label:"Prvisualiser votre carte",description:"Voir comment les autres verront votre profil",icon:o.jsx(ks,{className:"w-5 h-5"}),variant:"card"}),o.jsx(Sn,{to:"/analytics",label:"Voir mes statistiques",description:"Suivre les performances de votre carte",icon:o.jsx(xd,{className:"w-5 h-5"}),variant:"card"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-6",children:"diter le profil"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Informations de base"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Q,{label:"Nom complet",value:f.full_name,onChange:v=>p("full_name",v.target.value),required:!0}),o.jsx(Q,{label:"Titre / Profession",value:f.title,onChange:v=>p("title",v.target.value),placeholder:"ex: Responsable Marketing"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Biographie"}),o.jsx("textarea",{value:f.bio,onChange:v=>p("bio",v.target.value),rows:4,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Parlez de vous..."})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Coordonnes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Q,{label:"Email",type:"email",value:f.email,onChange:v=>p("email",v.target.value)}),o.jsx(Q,{label:"Tlphone",type:"tel",value:f.phone,onChange:v=>p("phone",v.target.value)}),o.jsx(Q,{label:"Site web",type:"url",value:f.website,onChange:v=>p("website",v.target.value),placeholder:"https://votresite.com"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Mdias"}),o.jsx("div",{className:"space-y-4",children:o.jsx(bA,{currentPhotoUrl:f.profile_photo_url,onPhotoUploaded:v=>p("profile_photo_url",v)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Prsentation tendue"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Phrase d'accroche"}),o.jsx("input",{type:"text",value:f.tagline,onChange:v=>p("tagline",v.target.value),maxLength:100,placeholder:"Une phrase courte et percutante...",className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[f.tagline.length,"/100 caractres"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Mission / Pitch"}),o.jsx("textarea",{value:f.mission_statement,onChange:v=>p("mission_statement",v.target.value),maxLength:500,rows:6,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez votre mission, vos valeurs, ce qui vous anime..."}),o.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[f.mission_statement.length,"/500 caractres"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Localisation"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(CA,{value:f.location_city,timezone:f.timezone,country:f.location_country,onChange:(v,w,g)=>{m(y=>({...y,location_city:v,timezone:w,location_country:g})),l("Enregistrement...")}}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:f.show_local_time,onChange:v=>{m(w=>({...w,show_local_time:v.target.checked})),l("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher mon heure locale sur le profil"})]})]})]}),o.jsx("div",{children:o.jsx(NA,{userId:(r==null?void 0:r.id)||"",currentVideoUrl:f.video_url,currentThumbnailUrl:f.video_thumbnail_url,currentDuration:f.video_duration,currentFileSize:f.video_file_size,onUploadComplete:v=>{m(w=>({...w,video_url:v.videoUrl,video_thumbnail_url:v.thumbnailUrl,video_duration:v.duration,video_file_size:v.fileSize,total_video_storage:w.total_video_storage+v.fileSize})),l("Enregistrement...")},onDelete:()=>{m(v=>({...v,video_url:"",video_thumbnail_url:"",video_duration:0,total_video_storage:v.total_video_storage-v.video_file_size,video_file_size:0})),l("Enregistrement...")}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Options d'affichage"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:f.is_online,onChange:v=>{m(w=>({...w,is_online:v.target.checked})),l("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher comme en ligne (badge vert sur la photo de profil)"})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Rseaux sociaux"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Q,{label:"LinkedIn",type:"url",value:f.linkedin,onChange:v=>p("linkedin",v.target.value),placeholder:"https://linkedin.com/in/username"}),o.jsx(Q,{label:"Twitter",type:"url",value:f.twitter,onChange:v=>p("twitter",v.target.value),placeholder:"https://twitter.com/username"}),o.jsx(Q,{label:"Instagram",type:"url",value:f.instagram,onChange:v=>p("instagram",v.target.value),placeholder:"https://instagram.com/username"}),o.jsx(Q,{label:"Facebook",type:"url",value:f.facebook,onChange:v=>p("facebook",v.target.value),placeholder:"https://facebook.com/username"})]})]}),o.jsx("div",{className:"pt-6 border-t border-warmGray-200",children:o.jsx(wA,{fields:c,onChange:u,templateFields:d})})]})]}),o.jsx("div",{className:"lg:sticky lg:top-8 h-fit",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-4",children:"Aperu en direct"}),o.jsx("p",{className:"text-sm text-warmGray-500 mb-6",children:"Voici  quoi ressemble votre profil pour les visiteurs"}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-warmGray-50 rounded-lg p-6 border border-warmGray-200",children:[f.profile_photo_url?o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:f.profile_photo_url,alt:f.full_name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"})}):o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:f.full_name.charAt(0)||"?"})}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-2xl font-bold text-warmGray-900",children:f.full_name||"Votre nom"}),f.title&&o.jsx("p",{className:"text-lg text-warmGray-600",children:f.title})]}),f.bio&&o.jsx("p",{className:"text-center text-warmGray-700 mb-4 text-sm leading-relaxed",children:f.bio}),o.jsxs("div",{className:"space-y-2",children:[f.email&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Email: "}),o.jsx("span",{className:"text-warmGray-900",children:f.email})]}),f.phone&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Tlphone : "}),o.jsx("span",{className:"text-warmGray-900",children:f.phone})]}),f.website&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Site web : "}),o.jsx("span",{className:"text-blue-600",children:f.website})]})]}),(f.linkedin||f.twitter||f.instagram||f.facebook)&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-warmGray-200",children:[o.jsx("p",{className:"text-xs text-center text-warmGray-500 mb-2",children:"RSEAUX SOCIAUX"}),o.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[f.linkedin&&o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-navy-700 rounded text-xs",children:"LinkedIn"}),f.twitter&&o.jsx("span",{className:"px-2 py-1 bg-sky-100 text-sky-800 rounded text-xs",children:"Twitter"}),f.instagram&&o.jsx("span",{className:"px-2 py-1 bg-pink-100 text-pink-800 rounded text-xs",children:"Instagram"}),f.facebook&&o.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs",children:"Facebook"})]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(q,{fullWidth:!0,onClick:()=>n(`/${e.username}`),variant:"outline",children:"Voir le profil complet"})})]})})]})]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})})}function Fn({children:e,delay:t=0,className:r=""}){const[n,s]=Dl({triggerOnce:!0,threshold:.1});return o.jsx(C.div,{ref:n,initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:t},className:r,children:e})}function Ja({icon:e,label:t,value:r,href:n,onClick:s,className:i=""}){const a=o.jsx(C.div,{className:`bg-white border border-neutral-200 rounded-xl p-4 shadow-sm transition-all duration-200 ${i}`,whileHover:{scale:1.02,y:-2,borderColor:"rgb(245, 158, 11)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.1), 0 8px 10px -6px rgba(245, 158, 11, 0.1)"},whileTap:{scale:.98},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(C.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:o.jsx(e,{className:"w-5 h-5 text-amber-600 flex-shrink-0"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-sm text-neutral-500 mb-1",children:t}),o.jsx("div",{className:"text-neutral-900 font-medium truncate",children:r})]})]})});return n?o.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block",onClick:s,children:a}):s?o.jsx("button",{type:"button",onClick:s,className:"w-full text-left",children:a}):a}const TA={instagram:{icon:zT,bgColor:"bg-gradient-to-r from-purple-600 to-pink-600",hoverColor:"hover:from-purple-700 hover:to-pink-700",defaultLabel:"Follow on Instagram"},twitter:{icon:nR,bgColor:"bg-blue-500",hoverColor:"hover:bg-blue-600",defaultLabel:"Follow on Twitter"},linkedin:{icon:GT,bgColor:"bg-blue-700",hoverColor:"hover:bg-blue-800",defaultLabel:"Connect on LinkedIn"},email:{icon:Sf,bgColor:"bg-green-600",hoverColor:"hover:bg-green-700",defaultLabel:"Send Email"},phone:{icon:Ef,bgColor:"bg-blue-600",hoverColor:"hover:bg-blue-700",defaultLabel:"Call Me"},website:{icon:C1,bgColor:"bg-neutral-700",hoverColor:"hover:bg-neutral-800",defaultLabel:"Visit Website"}};function Bc({platform:e,url:t,label:r,variant:n="default"}){const s=TA[e],i=s.icon,a=r||s.defaultLabel;return n==="compact"?o.jsx(C.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center w-12 h-12 ${s.bgColor} ${s.hoverColor} rounded-lg shadow-md transition-colors`,whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:o.jsx(i,{className:"w-5 h-5 text-white"})}):o.jsxs(C.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center space-x-3 px-6 py-4 ${s.bgColor} ${s.hoverColor} rounded-xl shadow-md transition-colors`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[o.jsx(i,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-white font-medium",children:a})]})}function RA({videoUrl:e,thumbnailUrl:t,duration:r}){const[n,s]=b.useState(!1);return n?o.jsx("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden",children:o.jsx("video",{src:e,controls:!0,autoPlay:!0,className:"w-full h-full",onEnded:()=>s(!1)})}):o.jsxs("button",{onClick:()=>s(!0),className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden group",style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"},children:[o.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/60 transition-colors"}),o.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:"VIDEO INTRO"}),o.jsx("div",{className:"absolute bottom-4 right-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:nb(r)}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center transform group-hover:scale-110 transition-transform",children:o.jsx(QT,{className:"w-8 h-8 text-black ml-1",fill:"currentColor"})})})]})}const AA={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};function OA({isOnline:e,size:t="md"}){return o.jsx("div",{className:"absolute bottom-0 right-0 bg-gray-900 rounded-full p-1",children:o.jsx(C.div,{className:`${AA[t]} rounded-full ${e?"bg-green-500":"bg-gray-500"}`,animate:e?{scale:[1,1.2,1],opacity:[1,.8,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})})}function IA(e){const[t,r]=b.useState("");return b.useEffect(()=>{const n=()=>{try{const i=new Date,a=new Intl.DateTimeFormat("fr-FR",{timeZone:e,hour:"2-digit",minute:"2-digit",hour12:!1});r(a.format(i))}catch(i){console.error("Error formatting time:",i),r("--:--")}};n();const s=setInterval(n,6e4);return()=>clearInterval(s)},[e]),t}function LA({timezone:e,city:t}){const r=IA(e);return o.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[o.jsx(sl,{className:"w-4 h-4"}),o.jsxs("span",{children:["Heure locale  ",t,": ",o.jsx("span",{className:"text-yellow-500 font-medium",children:r})]})]})}function DA({fullName:e,title:t,tagline:r,profilePhotoUrl:n,isOnline:s,locationCity:i,timezone:a,showLocalTime:l}){return o.jsxs("div",{className:"relative bg-gradient-to-br from-amber-50 via-white to-amber-50 rounded-t-2xl overflow-hidden border-b border-neutral-100",children:[o.jsx(C.div,{className:"absolute inset-0 opacity-30",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),o.jsxs("div",{className:"relative px-8 py-12 text-center",children:[o.jsxs(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative inline-block mb-6",children:[n?o.jsx("img",{src:n,alt:e,className:"w-32 h-32 rounded-full border-4 border-amber-500 object-cover shadow-xl"}):o.jsx("div",{className:"w-32 h-32 bg-gradient-amber rounded-full flex items-center justify-center text-white text-4xl font-bold shadow-xl",children:e.charAt(0)}),o.jsx(OA,{isOnline:s,size:"lg"})]}),o.jsx(C.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl font-bold text-neutral-900 mb-2",children:e}),t&&o.jsx(C.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-amber-600 mb-4 font-medium",children:t}),r&&o.jsx(C.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-neutral-600 max-w-2xl mx-auto mb-6",children:r}),l&&i&&a&&o.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-center",children:o.jsx(LA,{timezone:a,city:i})})]})]})}function Q0({onDownloadContact:e}){return o.jsx("div",{className:"flex justify-center px-6 py-6",children:o.jsxs(C.button,{onClick:e,className:"px-8 py-4 bg-gradient-amber text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center gap-2",whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[o.jsx(Ss,{className:"w-5 h-5"}),"Enregistrer dans les contacts"]})})}function MA({title:e,description:t,image:r,url:n,type:s="website"}){return b.useEffect(()=>{document.title=e;const i=(a,l,c)=>{const u=c?"property":"name";let d=document.querySelector(`meta[${u}="${a}"]`);d||(d=document.createElement("meta"),d.setAttribute(u,a),document.head.appendChild(d)),d.setAttribute("content",l)};return i("description",t),i("og:title",e,!0),i("og:description",t,!0),i("og:type",s,!0),n&&i("og:url",n,!0),r&&(i("og:image",r,!0),i("twitter:image",r)),i("twitter:card",r?"summary_large_image":"summary"),i("twitter:title",e),i("twitter:description",t),()=>{document.title="Obsi - Cartes de visite numriques premium"}},[e,t,r,n,s]),null}function be({className:e="",variant:t="rectangular",width:r,height:n,animation:s=!0}){const i="bg-neutral-200",a={text:"rounded h-4",circular:"rounded-full",rectangular:"rounded-lg"},l={width:r||"100%",height:n||(t==="text"?"1rem":"100%")};return s?o.jsx(C.div,{className:`${i} ${a[t]} ${e}`,style:l,animate:{opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}):o.jsx("div",{className:`${i} ${a[t]} ${e}`,style:l})}function $A(){return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx(be,{width:80,height:32}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(be,{width:100,height:40}),o.jsx(be,{width:120,height:40})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx(be,{width:200,height:48,className:"rounded-full"})}),o.jsxs("div",{className:"bg-white border border-neutral-200 rounded-2xl overflow-hidden shadow-xl",children:[o.jsx("div",{className:"relative bg-gradient-to-br from-amber-50 via-white to-amber-50 border-b border-neutral-100 px-8 py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(be,{variant:"circular",width:128,height:128})}),o.jsx(be,{width:200,height:32,className:"mx-auto mb-2"}),o.jsx(be,{width:150,height:24,className:"mx-auto mb-4"}),o.jsx(be,{width:300,height:20,className:"mx-auto"})]})}),o.jsxs("div",{className:"px-6 py-8 space-y-8",children:[o.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6",children:[o.jsx(be,{width:120,height:24,className:"mb-3"}),o.jsx(be,{height:20,className:"mb-2"}),o.jsx(be,{height:20,className:"mb-2"}),o.jsx(be,{width:"70%",height:20})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(be,{height:80}),o.jsx(be,{height:80})]}),o.jsx(be,{height:200}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(be,{height:80}),o.jsx(be,{height:80})]}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx(be,{variant:"circular",width:48,height:48}),o.jsx(be,{variant:"circular",width:48,height:48}),o.jsx(be,{variant:"circular",width:48,height:48})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(be,{width:250,height:56,className:"rounded-xl"})})]})]})]})]})}function FA(e){const t=["BEGIN:VCARD","VERSION:3.0",`FN:${e.full_name}`];return e.title&&t.push(`TITLE:${e.title}`),e.phone&&t.push(`TEL;TYPE=CELL:${e.phone}`),e.email&&t.push(`EMAIL:${e.email}`),e.website&&t.push(`URL:${e.website}`),e.bio&&t.push(`NOTE:${e.bio.replace(/\n/g,"\\n")}`),e.social_links&&(e.social_links.linkedin&&t.push(`X-SOCIALPROFILE;TYPE=linkedin:${e.social_links.linkedin}`),e.social_links.twitter&&t.push(`X-SOCIALPROFILE;TYPE=twitter:${e.social_links.twitter}`),e.social_links.instagram&&t.push(`X-SOCIALPROFILE;TYPE=instagram:${e.social_links.instagram}`),e.social_links.facebook&&t.push(`X-SOCIALPROFILE;TYPE=facebook:${e.social_links.facebook}`)),t.push("END:VCARD"),t.join(`\r
`)}function VA(e){const t=FA(e),r=new Blob([t],{type:"text/vcard;charset=utf-8"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=`${e.username||"contact"}.vcf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}async function sn(e,t,r){const n=UA(),s=navigator.userAgent,i=document.referrer;await B.from("profile_analytics").insert({profile_id:e,event_type:t,device_type:n,user_agent:s,referrer:i,ip_hash:"",country_code:"",metadata:r||{}})}function UA(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}async function BA(e){await B.rpc("increment_view_count",{profile_id:e}).catch(()=>{B.from("profiles").select("view_count").eq("id",e).single().then(({data:t})=>{t&&B.from("profiles").update({view_count:(t.view_count||0)+1}).eq("id",e)})})}function zA(){const{username:e}=x_(),{showToast:t}=hR(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[a,l]=b.useState("web");if(b.useEffect(()=>{async function d(){if(!e){i(!1);return}try{const{data:h,error:f}=await B.from("profiles").select("*").eq("username",e).eq("is_active",!0).maybeSingle();if(f){console.error("Error loading profile:",f),i(!1);return}h&&(n(h),sn(h.id,"view").catch(console.warn),BA(h.id).catch(console.warn))}catch(h){console.error("Unexpected error:",h)}finally{i(!1)}}d()},[e]),s)return o.jsx($A,{});if(!r)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:o.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"Profil introuvable"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"Ce profil n'existe pas ou a t dsactiv."}),o.jsx(W,{to:"/",className:"inline-flex items-center gap-2 text-amber-600 hover:text-amber-700 font-medium transition-colors",children:"Retour  l'accueil"})]})});const c=async()=>{VA(r),sn(r.id,"vcard_download").catch(console.warn),t("Contact enregistr avec succs","success")},u=async()=>{const d=window.location.href;if(navigator.share)try{await navigator.share({title:`Profil de ${r.full_name}`,text:r.tagline||`Dcouvrez le profil professionnel de ${r.full_name}`,url:d}),sn(r.id,"profile_share",{method:"native"}).catch(console.warn),t("Profil partag avec succs","success")}catch(h){h.name!=="AbortError"&&console.error("Error sharing:",h)}else try{await navigator.clipboard.writeText(d),sn(r.id,"profile_share",{method:"clipboard"}).catch(console.warn),t("Lien copi dans le presse-papiers","success")}catch(h){console.error("Error copying:",h),t("Erreur lors de la copie du lien","error")}};return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx(MA,{title:`${r.full_name}${r.title?` - ${r.title}`:""} | Obsi`,description:r.tagline||`Dcouvrez le profil professionnel de ${r.full_name} sur Obsi`,image:r.profile_photo_url||void 0,url:window.location.href,type:"profile"}),o.jsx(C.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx(W,{to:"/",className:"text-2xl font-bold bg-gradient-amber bg-clip-text text-transparent hover:scale-105 transition-transform",children:"Obsi"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(C.button,{onClick:u,className:"flex items-center gap-2 px-4 py-2 text-neutral-600 hover:text-amber-600 font-medium transition-colors rounded-lg hover:bg-amber-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(Cf,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Partager"})]}),o.jsx(W,{to:"/signup",className:"px-4 py-2 bg-gradient-amber text-white font-medium rounded-lg hover:shadow-lg transition-all",children:"Crer mon profil"})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-center mb-6",children:o.jsxs("div",{className:"flex items-center gap-2 bg-white backdrop-blur-md border border-neutral-200 rounded-full p-1 shadow-sm",children:[o.jsxs(C.button,{onClick:()=>l("web"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="web"?"bg-gradient-amber text-white shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(FT,{className:"w-4 h-4 inline mr-1.5"}),"Web"]}),o.jsxs(C.button,{onClick:()=>l("card"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="card"?"bg-gradient-amber text-white shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(jf,{className:"w-4 h-4 inline mr-1.5"}),"Carte"]})]})}),o.jsx(tl,{mode:"wait",children:a==="card"?o.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"max-w-2xl mx-auto",children:[o.jsx(tb,{profile:r}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(Q0,{onDownloadContact:c})})]},"card-view"):o.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white border border-neutral-200 rounded-2xl overflow-hidden shadow-xl",children:[o.jsx(DA,{fullName:r.full_name,title:r.title||void 0,tagline:r.tagline||void 0,profilePhotoUrl:r.profile_photo_url||void 0,isOnline:r.is_online||!0,locationCity:r.location_city||void 0,timezone:r.timezone||void 0,showLocalTime:r.show_local_time||!1}),o.jsxs("div",{className:"px-6 py-8 space-y-8",children:[r.mission_statement&&o.jsx(Fn,{delay:.1,children:o.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-3",children:"Ma Mission"}),o.jsx("p",{className:"text-neutral-700 leading-relaxed whitespace-pre-wrap",children:r.mission_statement})]})}),r.location_city&&o.jsx(Fn,{delay:.2,children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Ja,{icon:kf,label:"Localisation",value:`${r.location_city}, ${r.location_country||"France"}`}),r.email&&o.jsx(Ja,{icon:Sf,label:"Email",value:r.email,href:`mailto:${r.email}`,onClick:()=>sn(r.id,"link_click",{type:"email"}).catch(console.warn)})]})}),r.video_url&&r.video_thumbnail_url&&o.jsx(Fn,{delay:.3,children:o.jsx(RA,{videoUrl:r.video_url,thumbnailUrl:r.video_thumbnail_url,duration:r.video_duration||0})}),o.jsx(Fn,{delay:.4,children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.phone&&o.jsx(Ja,{icon:Ef,label:"Tlphone",value:r.phone,href:`tel:${r.phone}`,onClick:()=>sn(r.id,"link_click",{type:"phone"}).catch(console.warn)}),r.website&&o.jsx(Ja,{icon:C1,label:"Site web",value:r.website,href:r.website,onClick:()=>sn(r.id,"link_click",{type:"website"}).catch(console.warn)})]})}),r.social_links&&Object.keys(r.social_links).length>0&&o.jsxs(Fn,{delay:.5,children:[o.jsx("h3",{className:"text-center text-sm font-semibold text-amber-600 uppercase tracking-wider mb-4",children:"Me contacter"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.social_links.linkedin&&o.jsx(Bc,{platform:"linkedin",url:r.social_links.linkedin,label:"Connect"}),r.social_links.twitter&&o.jsx(Bc,{platform:"twitter",url:r.social_links.twitter,label:"Follow"}),r.social_links.instagram&&o.jsx(Bc,{platform:"instagram",url:r.social_links.instagram,label:"Follow"})]})]}),o.jsx(Fn,{delay:.6,children:o.jsx(Q0,{onDownloadContact:c})})]})]},"web-view")}),o.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-8 px-4",children:o.jsx(W,{to:"/",className:"text-sm text-neutral-500 hover:text-amber-600 transition-colors inline-block",children:"Crez votre propre profil professionnel numrique avec Obsi"})})]})]})}function WA(){const e=ct(),{profile:t}=Fl(),{analytics:r,periods:n,loading:s,error:i}=eb(t==null?void 0:t.id);if(s)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center",children:o.jsx(C.div,{className:"h-12 w-12 border-4 border-gold-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(i)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center p-4",children:o.jsx(ke,{variant:"glassmorphism",className:"max-w-md",children:o.jsxs(Me,{children:[o.jsx("p",{className:"text-red-400 text-center",children:i}),o.jsx(q,{onClick:()=>e("/dashboard"),variant:"outline",fullWidth:!0,className:"mt-4",children:"Retour au tableau de bord"})]})})});if(!r||!n)return null;const a=r.deviceBreakdown.mobile+r.deviceBreakdown.desktop+r.deviceBreakdown.tablet,l=a>0?r.deviceBreakdown.mobile/a*100:0,c=a>0?r.deviceBreakdown.desktop/a*100:0,u=a>0?r.deviceBreakdown.tablet/a*100:0,d=f=>{const m=new Date(f);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(m)},h=f=>{switch(f){case"view":return"Vue";case"vcard_download":return"Tlchargement";case"link_click":return"Clic";default:return f}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900",children:[o.jsx("nav",{className:"bg-navy-900/80 backdrop-blur-md border-b border-gold-500/20 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-warmGray-300 hover:text-white transition-colors",children:[o.jsx(xf,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Retour"})]}),o.jsx("h1",{className:"text-xl font-bold bg-gradient-gold bg-clip-text text-transparent",children:"Statistiques dtailles"}),o.jsx("div",{className:"w-24"})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(rb,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Statistiques"}],className:"mb-6"}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Sn,{to:"/edit",label:"Optimiser votre profil",description:"Amliorer vos informations pour plus de visibilit",icon:o.jsx(bd,{className:"w-5 h-5"}),variant:"card"}),o.jsx(Sn,{to:"/dashboard",label:"Partager votre carte",description:"Diffuser votre profil sur vos rseaux",icon:o.jsx(Cf,{className:"w-5 h-5"}),variant:"card"}),o.jsx(Sn,{to:`/${t==null?void 0:t.username}`,label:"Voir votre profil public",description:"Dcouvrir comment les visiteurs vous voient",icon:o.jsx(ks,{className:"w-5 h-5"}),variant:"card"})]}),o.jsxs(C.div,{variants:X1,initial:"initial",animate:"animate",className:"space-y-8",children:[o.jsxs(C.div,{variants:gt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(xo,{className:"w-6 h-6 text-gold-400"}),"Vue d'ensemble"]}),o.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[o.jsx(ke,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(Me,{className:"text-center p-6",children:[o.jsx(ks,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(fs,{value:r.totalViews,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Vues totales"})]})}),o.jsx(ke,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(Me,{className:"text-center p-6",children:[o.jsx(Ss,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(fs,{value:r.totalDownloads,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Tlchargements"})]})}),o.jsx(ke,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(Me,{className:"text-center p-6",children:[o.jsx(R1,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(fs,{value:r.totalLinkClicks,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Clics sur liens"})]})}),o.jsx(ke,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(Me,{className:"text-center p-6",children:[o.jsx(xo,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsxs("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:[r.conversionRate.toFixed(1),"%"]}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Taux conversion"})]})})]})]}),o.jsxs(C.div,{variants:gt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Fc,{className:"w-6 h-6 text-gold-400"}),"Par priode"]}),o.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{label:"Aujourd'hui",data:n.today,icon:sl},{label:"Cette semaine",data:n.thisWeek,icon:Fc},{label:"Ce mois",data:n.thisMonth,icon:Fc},{label:"Total",data:n.total,icon:xo}].map(f=>o.jsx(ke,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(Me,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(f.icon,{className:"w-5 h-5 text-gold-400"}),o.jsx("h3",{className:"font-semibold text-white",children:f.label})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Vues"}),o.jsx("span",{className:"text-lg font-bold text-white",children:f.data.views})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Tlchargements"}),o.jsx("span",{className:"text-lg font-bold text-white",children:f.data.downloads})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Clics"}),o.jsx("span",{className:"text-lg font-bold text-white",children:f.data.clicks})]})]})]})},f.label))})]}),o.jsxs(C.div,{variants:gt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(z0,{className:"w-6 h-6 text-gold-400"}),"Rpartition par appareil"]}),o.jsx(ke,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsx(Me,{className:"p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(z0,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Mobile"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.mobile," (",l.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${l}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(JT,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Desktop"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.desktop," (",c.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${c}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eR,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Tablette"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.tablet," (",u.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${u}%`}})})]})]})})})]}),o.jsxs(C.div,{variants:gt,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(sl,{className:"w-6 h-6 text-gold-400"}),"vnements rcents"]}),o.jsx(ke,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsx(Me,{className:"p-6",children:r.recentEvents.length===0?o.jsx("p",{className:"text-center text-warmGray-400 py-8",children:"Aucun vnement enregistr"}):o.jsx("div",{className:"space-y-3",children:r.recentEvents.map(f=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-navy-700/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-gold-400 rounded-full"}),o.jsx("span",{className:"text-white font-medium",children:h(f.event_type)}),o.jsx("span",{className:"text-sm text-warmGray-400 capitalize",children:f.device_type})]}),o.jsx("span",{className:"text-sm text-warmGray-400",children:d(f.created_at)})]},f.id))})})})]})]})]})]})}function X0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X0(Object(r),!0).forEach(function(n){sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bo=function(t){return typeof t}:bo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function sb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GA(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function HA(e,t){if(e==null)return{};var r=GA(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ib(e,t){return qA(e)||KA(e,t)||JA(e,t)||YA()}function qA(e){if(Array.isArray(e))return e}function KA(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,a,l;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function JA(e,t){if(e){if(typeof e=="string")return eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eg(e,t)}}function eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Je=function(t,r,n){var s=!!n,i=ne.useRef(n);ne.useEffect(function(){i.current=n},[n]),ne.useEffect(function(){if(!s||!t)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,a),function(){t.off(r,a)}},[s,r,t,i])},_d=function(t){var r=ne.useRef(t);return ne.useEffect(function(){r.current=t},[t]),r.current},Ns=function(t){return t!==null&&bo(t)==="object"},QA=function(t){return Ns(t)&&typeof t.then=="function"},XA=function(t){return Ns(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},tg="[object Object]",ZA=function e(t,r){if(!Ns(t)||!Ns(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(t)===tg,a=Object.prototype.toString.call(r)===tg;if(i!==a)return!1;if(!i&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var f=Object.keys(u);if(f.length!==l.length)return!1;var m=t,p=r,v=function(g){return e(m[g],p[g])};return f.every(v)},ab=function(t,r,n){return Ns(t)?Object.keys(t).reduce(function(s,i){var a=!Ns(r)||!ZA(t[i],r[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?Z0(Z0({},s||{}),{},sb({},i,t[i])):s},null):null},ob="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",rg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ob;if(t===null||XA(t))return t;throw new Error(r)},e6=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ob;if(QA(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return rg(s,r)})};var n=rg(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},t6=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.5.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.5.0",url:"https://stripe.com/docs/stripe-js/react"}))},Vl=ne.createContext(null);Vl.displayName="ElementsContext";var lb=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},cb=function(t){var r=t.stripe,n=t.options,s=t.children,i=ne.useMemo(function(){return e6(r)},[r]),a=ne.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=ib(a,2),c=l[0],u=l[1];ne.useEffect(function(){var f=!0,m=function(v){u(function(w){return w.stripe?w:{stripe:v,elements:v.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(p){p&&f&&m(p)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){f=!1}},[i,c,n]);var d=_d(r);ne.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var h=_d(n);return ne.useEffect(function(){if(c.elements){var f=ab(n,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[n,h,c.elements]),ne.useEffect(function(){t6(c.stripe)},[c.stripe]),ne.createElement(Vl.Provider,{value:c},s)};cb.propTypes={stripe:te.any,options:te.object};var r6=function(t){var r=ne.useContext(Vl);return lb(r,t)},n6=function(){var t=r6("calls useElements()"),r=t.elements;return r};te.func.isRequired;var ub=ne.createContext(null);ub.displayName="CheckoutContext";te.any,te.shape({clientSecret:te.oneOfType([te.string,te.instanceOf(Promise)]).isRequired,elementsOptions:te.object}).isRequired;var Sd=function(t){var r=ne.useContext(ub),n=ne.useContext(Vl);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r}else return lb(n,t)},s6=["mode"],i6=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ut=function(t,r){var n="".concat(i6(t),"Element"),s=function(c){var u=c.id,d=c.className,h=c.options,f=h===void 0?{}:h,m=c.onBlur,p=c.onFocus,v=c.onReady,w=c.onChange,g=c.onEscape,y=c.onClick,x=c.onLoadError,j=c.onLoaderStart,_=c.onNetworksChange,S=c.onConfirm,N=c.onCancel,k=c.onShippingAddressChange,E=c.onShippingRateChange,R=c.onSavedPaymentMethodRemove,$=c.onSavedPaymentMethodUpdate,X=Sd("mounts <".concat(n,">")),J="elements"in X?X.elements:null,ge="checkoutState"in X?X.checkoutState:null,le=(ge==null?void 0:ge.type)==="success"||(ge==null?void 0:ge.type)==="loading"?ge.sdk:null,Ue=ne.useState(null),G=ib(Ue,2),P=G[0],D=G[1],I=ne.useRef(null),F=ne.useRef(null);Je(P,"blur",m),Je(P,"focus",p),Je(P,"escape",g),Je(P,"click",y),Je(P,"loaderror",x),Je(P,"loaderstart",j),Je(P,"networkschange",_),Je(P,"confirm",S),Je(P,"cancel",N),Je(P,"shippingaddresschange",k),Je(P,"shippingratechange",E),Je(P,"savedpaymentmethodremove",R),Je(P,"savedpaymentmethodupdate",$),Je(P,"change",w);var z;v&&(t==="expressCheckout"?z=v:z=function(){v(P)}),Je(P,"ready",z),ne.useLayoutEffect(function(){if(I.current===null&&F.current!==null&&(J||le)){var K=null;if(le)switch(t){case"paymentForm":K=le.createPaymentFormElement(f);break;case"payment":K=le.createPaymentElement(f);break;case"address":if("mode"in f){var Be=f.mode,Ke=HA(f,s6);if(Be==="shipping")K=le.createShippingAddressElement(Ke);else if(Be==="billing")K=le.createBillingAddressElement(Ke);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":K=le.createExpressCheckoutElement(f);break;case"currencySelector":K=le.createCurrencySelectorElement();break;case"taxId":K=le.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else J&&(K=J.create(t,f));I.current=K,D(K),K&&K.mount(F.current)}},[J,le,f]);var ee=_d(f);return ne.useEffect(function(){if(I.current){var K=ab(f,ee,["paymentRequest"]);K&&"update"in I.current&&I.current.update(K)}},[f,ee]),ne.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),ne.createElement("div",{id:u,className:d,ref:F})},i=function(c){Sd("mounts <".concat(n,">"));var u=c.id,d=c.className;return ne.createElement("div",{id:u,className:d})},a=r?i:s;return a.propTypes={id:te.string,className:te.string,onChange:te.func,onBlur:te.func,onFocus:te.func,onReady:te.func,onEscape:te.func,onClick:te.func,onLoadError:te.func,onLoaderStart:te.func,onNetworksChange:te.func,onConfirm:te.func,onCancel:te.func,onShippingAddressChange:te.func,onShippingRateChange:te.func,onSavedPaymentMethodRemove:te.func,onSavedPaymentMethodUpdate:te.func,options:te.object},a.displayName=n,a.__elementType=t,a},dt=typeof window>"u",a6=ne.createContext(null);a6.displayName="EmbeddedCheckoutProviderContext";var o6=function(){var t=Sd("calls useStripe()"),r=t.stripe;return r};ut("auBankAccount",dt);ut("card",dt);ut("cardNumber",dt);ut("cardExpiry",dt);ut("cardCvc",dt);ut("iban",dt);var l6=ut("payment",dt);ut("expressCheckout",dt);ut("paymentRequestButton",dt);ut("linkAuthentication",dt);ut("address",dt);ut("shippingAddress",dt);ut("paymentMethodMessaging",dt);ut("taxId",dt);function jo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jo=function(t){return typeof t}:jo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}var db="clover",c6=function(t){return t===3?"v3":t},hb="https://js.stripe.com",u6="".concat(hb,"/").concat(db,"/stripe.js"),d6=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,h6=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var f6=function(t){return d6.test(t)||h6.test(t)},m6=function(){for(var t=document.querySelectorAll('script[src^="'.concat(hb,'"]')),r=0;r<t.length;r++){var n=t[r];if(f6(n.src))return n}return null},ng=function(t){var r="",n=document.createElement("script");n.src="".concat(u6).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},p6=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.6.4",startTime:r})},Xs=null,Ya=null,Qa=null,g6=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},y6=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},v6=function(t){return Xs!==null?Xs:(Xs=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=m6();if(!(s&&t)){if(!s)s=ng(t);else if(s&&Qa!==null&&Ya!==null){var i;s.removeEventListener("load",Qa),s.removeEventListener("error",Ya),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=ng(t)}}Qa=y6(r,n),Ya=g6(n),s.addEventListener("load",Qa),s.addEventListener("error",Ya)}catch(a){n(a);return}}),Xs.catch(function(r){return Xs=null,Promise.reject(r)}))},x6=function(t,r,n){if(t===null)return null;var s=r[0];if(typeof s!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(jo(s)," instead."));var i=s.match(/^pk_test/),a=c6(t.version),l=db;i&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.6.4"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,r);return p6(c,n),c},Zs,fb=!1,mb=function(){return Zs||(Zs=v6(null).catch(function(t){return Zs=null,Promise.reject(t)}),Zs)};Promise.resolve().then(function(){return mb()}).catch(function(e){fb||console.warn(e)});var w6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];fb=!0;var s=Date.now();return mb().then(function(i){return x6(i,r,s)})};function b6({orderData:e,totalAmount:t,onBack:r}){const n=o6(),s=n6(),i=ct(),[a,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState(null);b.useEffect(()=>{f()},[]);const f=async()=>{try{const w=await fetch("https://zyzoszfbwtryqiwmrkgm.supabase.co/functions/v1/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5em9zemZid3RyeXFpd21ya2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODM5OTMsImV4cCI6MjA4NDU1OTk5M30._U2m-HjTsWOGU2fltAczSW0GJFvauCzdMFN8yUC0q7g"},body:JSON.stringify(e)});if(!w.ok){const y=await w.json();throw new Error(y.error||"Erreur lors de la cration du paiement")}const g=await w.json();h(g.clientSecret)}catch(p){console.error("Error creating payment intent:",p),u(p instanceof Error?p.message:"Erreur lors de la cration du paiement")}},m=async p=>{if(p.preventDefault(),!(!n||!s||!d)){l(!0),u(null);try{const{error:v}=await s.submit();if(v)throw new Error(v.message);const{error:w,paymentIntent:g}=await n.confirmPayment({elements:s,clientSecret:d,confirmParams:{return_url:`${window.location.origin}/order/confirmation`},redirect:"if_required"});if(w)throw new Error(w.message);g&&g.status==="succeeded"&&i(`/order/confirmation?payment_intent=${g.id}`)}catch(v){console.error("Payment error:",v),u(v instanceof Error?v.message:"Erreur lors du paiement"),l(!1)}}};return c&&!d?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-red-600 mb-4",children:c}),o.jsx(q,{variant:"outline",onClick:f,children:"Ressayer"})]}):d?o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c&&o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-700",children:c})}),o.jsx(l6,{}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:[o.jsx(qT,{className:"w-4 h-4"}),o.jsx("span",{children:"Paiement scuris par Stripe"})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsxs(q,{type:"button",variant:"outline",onClick:r,disabled:a,children:[o.jsx(wd,{className:"w-5 h-5 mr-2"}),"Retour"]}),o.jsx(q,{type:"submit",disabled:!n||a,className:"flex-1",children:a?"Traitement...":`Payer ${(t/100).toFixed(2)} `})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Prparation du paiement..."})]})}function j6(e){return/^[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(e.toUpperCase())}function Xa(e){return{roc:2990,saphir:4990,emeraude:7990}[e]}function ea(e){return{roc:"Roc",saphir:"Saphir",emeraude:"meraude"}[e]}function al(e){return`${(e/100).toFixed(2)} `}function _6(e){return{pending:"bg-yellow-100 text-yellow-800",activated:"bg-green-100 text-green-800",deactivated:"bg-gray-100 text-gray-800",shipped:"bg-blue-100 text-blue-800"}[e]||"bg-gray-100 text-gray-800"}function S6(e){return{pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"}function k6(e){return{pending:"bg-yellow-100 text-yellow-800",succeeded:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800"}function ol(e){const t=new Date(e);return new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric"}).format(t)}const N6=w6("");function E6(){const[e]=El(),t=ct(),[r,n]=b.useState(1),[s,i]=b.useState({tier:e.get("tier")||"roc",quantity:1,customerName:"",customerEmail:"",customerPhone:"",shippingAddress:{street:"",city:"",postal_code:"",country:"France"}}),[a,l]=b.useState({}),c=[{id:"roc",name:"Roc",price:Xa("roc"),features:["Carte NFC premium","Profil digital personnalis","QR Code personnalisable","Statistiques de base"]},{id:"saphir",name:"Saphir",price:Xa("saphir"),features:["Tout de Roc","Design templates premium","Analytiques avances","Intgrations API"]},{id:"emeraude",name:"meraude",price:Xa("emeraude"),features:["Tout de Saphir","Support prioritaire","Personnalisation avance","Fonctionnalits exclusives"]}],u=w=>{i(g=>({...g,tier:w}))},d=()=>{const w={};return(s.quantity<1||s.quantity>100)&&(w.quantity="Quantit invalide (1-100)"),l(w),Object.keys(w).length===0},h=()=>{const w={};return s.customerName.trim()||(w.customerName="Le nom est requis"),s.customerEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.customerEmail)||(w.customerEmail="Email invalide"):w.customerEmail="L'email est requis",l(w),Object.keys(w).length===0},f=()=>{const w={};return s.shippingAddress.street.trim()||(w.street="L'adresse est requise"),s.shippingAddress.city.trim()||(w.city="La ville est requise"),s.shippingAddress.postal_code.trim()||(w.postal_code="Le code postal est requis"),l(w),Object.keys(w).length===0},m=()=>{r===1&&!d()||r===2&&!h()||r===3&&!f()||n(r+1)},p=()=>{n(r-1)},v=Xa(s.tier)*s.quantity;return o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Commander votre carte Obsi"}),o.jsx("p",{className:"text-gray-600",children:"Suivez les tapes pour finaliser votre commande"})]}),o.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3,4].map(w=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${w<=r?"bg-gray-900 text-white":"bg-gray-200 text-gray-500"}`,children:w}),w<4&&o.jsx("div",{className:`w-16 h-1 ${w<r?"bg-gray-900":"bg-gray-200"}`})]},w))}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[r===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choisissez votre pack"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(w=>o.jsxs("button",{onClick:()=>u(w.id),className:`p-6 border-2 rounded-xl text-left transition-all ${s.tier===w.id?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:w.name}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-4",children:al(w.price)}),o.jsx("ul",{className:"space-y-2",children:w.features.map((g,y)=>o.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 mt-1",children:""}),o.jsx("span",{children:g})]},y))})]},w.id))}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantit"}),o.jsx(Q,{type:"number",min:"1",max:"100",value:s.quantity,onChange:w=>i({...s,quantity:parseInt(w.target.value)||1}),error:a.quantity})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(q,{onClick:m,children:["Suivant",o.jsx(vo,{className:"w-5 h-5 ml-2"})]})})]}),r===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vos informations"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet"}),o.jsx(Q,{value:s.customerName,onChange:w=>i({...s,customerName:w.target.value}),placeholder:"Jean Dupont",error:a.customerName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx(Q,{type:"email",value:s.customerEmail,onChange:w=>i({...s,customerEmail:w.target.value}),placeholder:"jean@exemple.com",error:a.customerEmail})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone (optionnel)"}),o.jsx(Q,{type:"tel",value:s.customerPhone,onChange:w=>i({...s,customerPhone:w.target.value}),placeholder:"+33 6 12 34 56 78"})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(q,{variant:"outline",onClick:p,children:[o.jsx(wd,{className:"w-5 h-5 mr-2"}),"Retour"]}),o.jsxs(q,{onClick:m,children:["Suivant",o.jsx(vo,{className:"w-5 h-5 ml-2"})]})]})]}),r===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Adresse de livraison"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),o.jsx(Q,{value:s.shippingAddress.street,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,street:w.target.value}}),placeholder:"12 rue de la Rpublique",error:a.street})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code postal"}),o.jsx(Q,{value:s.shippingAddress.postal_code,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,postal_code:w.target.value}}),placeholder:"75001",error:a.postal_code})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),o.jsx(Q,{value:s.shippingAddress.city,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,city:w.target.value}}),placeholder:"Paris",error:a.city})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pays"}),o.jsx(Q,{value:s.shippingAddress.country,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,country:w.target.value}}),placeholder:"France"})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(q,{variant:"outline",onClick:p,children:[o.jsx(wd,{className:"w-5 h-5 mr-2"}),"Retour"]}),o.jsxs(q,{onClick:m,children:["Suivant",o.jsx(vo,{className:"w-5 h-5 ml-2"})]})]})]}),r===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Paiement"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rcapitulatif"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Pack"}),o.jsx("span",{className:"font-medium",children:ea(s.tier)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Quantit"}),o.jsx("span",{className:"font-medium",children:s.quantity})]}),o.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:o.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:al(v)})]})})]})]}),o.jsx(cb,{stripe:N6,children:o.jsx(b6,{orderData:s,totalAmount:v,onBack:p})})]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs(q,{variant:"outline",onClick:()=>t("/"),children:[o.jsx(Pf,{className:"w-4 h-4 mr-2"}),"Annuler la commande"]})})]})})}function C6({code:e,size:t="md"}){const[r,n]=b.useState(!1),s=async()=>{try{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)}catch(a){console.error("Failed to copy:",a)}},i={sm:"text-lg px-4 py-2",md:"text-2xl px-6 py-3",lg:"text-4xl px-8 py-4"};return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`bg-gray-900 text-white rounded-lg font-mono tracking-wider ${i[t]} border-2 border-gray-700`,children:e}),o.jsx("button",{onClick:s,className:"p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Copier le code",children:r?o.jsx(ye,{className:"w-5 h-5 text-green-600"}):o.jsx(MT,{className:"w-5 h-5 text-gray-600"})})]})}function P6(){var d;const[e]=El(),t=ct(),[r,n]=b.useState(!0),[s,i]=b.useState(null),[a,l]=b.useState([]),c=e.get("payment_intent");b.useEffect(()=>{c?u():n(!1)},[c]);const u=async()=>{try{const{data:h,error:f}=await B.from("orders").select("*").eq("stripe_payment_intent_id",c).maybeSingle();if(f)throw f;if(h){i(h);const{data:m,error:p}=await B.from("cards").select("*").eq("order_id",h.id);if(p)throw p;l(m||[])}}catch(h){console.error("Error fetching order details:",h)}finally{n(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Fs,{className:"w-12 h-12 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Commande confirme !"}),o.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Merci pour votre achat. Votre commande ",s.order_number," a t traite avec succs."]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vos codes d'activation"}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Utilisez ces codes pour activer vos cartes Obsi"}),o.jsx("div",{className:"space-y-4",children:a.map((h,f)=>o.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Carte ",f+1," - ",h.card_code]}),o.jsx(C6,{code:h.activation_code,size:"sm"})]},h.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(W,{to:`/activate?code=${(d=a[0])==null?void 0:d.activation_code}&email=${encodeURIComponent(s.customer_email)}`,children:o.jsxs(q,{className:"w-full",children:["Activer ma carte maintenant",o.jsx(vd,{className:"w-5 h-5 ml-2"})]})}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Un email de confirmation avec vos codes d'activation a t envoy "," ",o.jsx("span",{className:"font-medium",children:s.customer_email})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prochaines tapes"}),o.jsxs("ol",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-900 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Activez votre carte"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Utilisez le code d'activation pour activer votre carte et crer votre profil"})]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-900 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"2"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Personnalisez votre profil"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Ajoutez vos informations, photo, liens et personnalisez votre carte digitale"})]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-900 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"3"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Recevez votre carte physique"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Votre carte NFC sera expdie sous 2-3 jours ouvrs"})]})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Commande non trouve"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Nous n'avons pas pu trouver votre commande. Si vous avez des questions, contactez notre support."}),o.jsx(q,{onClick:()=>t("/"),children:"Retour  l'accueil"})]})})}function T6(){const[e,t]=b.useState(!1),[r,n]=b.useState(null);return{activateCard:async(i,a)=>{t(!0),n(null);try{const u=await fetch("https://zyzoszfbwtryqiwmrkgm.supabase.co/functions/v1/activate-card",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5em9zemZid3RyeXFpd21ya2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODM5OTMsImV4cCI6MjA4NDU1OTk5M30._U2m-HjTsWOGU2fltAczSW0GJFvauCzdMFN8yUC0q7g"},body:JSON.stringify({activationCode:i,email:a})});if(!u.ok){const h=await u.json();throw new Error(h.error||"Activation failed")}const d=await u.json();return{success:!0,message:d.message,profileId:d.profileId,shouldOnboard:d.shouldOnboard}}catch(l){const c=l instanceof Error?l.message:"Activation failed";return n(c),{success:!1,message:c}}finally{t(!1)}},loading:e,error:r}}function R6(){const[e]=El(),t=ct(),{activateCard:r,loading:n,error:s}=T6(),[i,a]=b.useState({activationCode:e.get("code")||"",email:e.get("email")||""}),[l,c]=b.useState(!1),[u,d]=b.useState({}),h=p=>{const{name:v,value:w}=p.target;a(g=>({...g,[v]:w})),u[v]&&d(g=>{const y={...g};return delete y[v],y})},f=()=>{const p={},v=i.activationCode.trim().toUpperCase();return v?j6(v)||(p.activationCode="Format de code invalide (ex: ABCD-1234)"):p.activationCode="Le code d'activation est requis",i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(p.email="Format d'email invalide"):p.email="L'email est requis",d(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!f())return;const v=await r(i.activationCode.trim().toUpperCase(),i.email.trim());v.success&&(c(!0),setTimeout(()=>{v.shouldOnboard?t(`/onboarding?email=${encodeURIComponent(i.email)}`):t("/dashboard")},2e3))};return l?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Fs,{className:"w-10 h-10 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activation russie !"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Votre carte Obsi a t active avec succs. Vous allez tre redirig..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Activez votre carte Obsi"}),o.jsx("p",{className:"text-gray-600",children:"Entrez votre code d'activation et votre email pour commencer"})]}),s&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[o.jsx(_i,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-900",children:"Erreur d'activation"}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:s})]})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"activationCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Code d'activation"}),o.jsx(Q,{id:"activationCode",name:"activationCode",type:"text",value:i.activationCode,onChange:h,placeholder:"ABCD-1234",className:"text-center font-mono tracking-wider text-lg uppercase",error:u.activationCode}),u.activationCode&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.activationCode})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),o.jsx(Q,{id:"email",name:"email",type:"email",value:i.email,onChange:h,placeholder:"vous@exemple.com",error:u.email}),u.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),o.jsx(q,{type:"submit",disabled:n,className:"w-full",children:n?"Activation en cours...":"Activer ma carte"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",o.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Se connecter"})]})})]})})}function A6(){const[e,t]=b.useState(null),[r,n]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:{user:c}}=await B.auth.getUser();if(!c){t(null),n(!1);return}const{data:u,error:d}=await B.from("user_roles").select("role").eq("user_id",c.id).maybeSingle();if(d)throw d;if(u)t(u.role);else{const{error:h}=await B.from("user_roles").insert({user_id:c.id,role:"customer"});h||t("customer")}}catch(c){console.error("Error fetching user role:",c)}finally{n(!1)}};return{role:e,loading:r,isAdmin:e==="admin",isReseller:e==="reseller",isCustomer:e==="customer",refetch:s}}function ll({children:e}){const t=ir(),r=ct(),{signOut:n}=ar(),{role:s,loading:i}=A6(),a=async()=>{await n(),r("/login")};if(i)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});if(s!=="admin")return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Accs refus"}),o.jsx("p",{className:"text-gray-600",children:"Vous n'avez pas les permissions ncessaires."}),o.jsx(W,{to:"/dashboard",className:"mt-4 inline-block text-blue-600 hover:underline",children:"Retour au tableau de bord"})]})});const l=[{name:"Tableau de bord",href:"/admin",icon:WT},{name:"Cartes",href:"/admin/cards",icon:jf},{name:"Commandes",href:"/admin/orders",icon:Pf},{name:"Revendeurs",href:"/admin/resellers",icon:Tf},{name:"Batches",href:"/admin/batches",icon:YT}];return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"flex",children:[o.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-screen fixed left-0 top-0",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Administration Obsi"})}),o.jsx("nav",{className:"p-4 space-y-1",children:l.map(c=>{const u=c.icon,d=t.pathname===c.href||c.href!=="/admin"&&t.pathname.startsWith(c.href);return o.jsxs(W,{to:c.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${d?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(u,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:c.name})]},c.href)})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:o.jsxs("button",{onClick:a,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 w-full transition-colors",children:[o.jsx(T1,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Dconnexion"})]})})]}),o.jsx("main",{className:"flex-1 ml-64 p-8",children:e})]})})}function O6(){const[e,t]=b.useState({totalCards:0,activatedCards:0,pendingCards:0,totalOrders:0,pendingOrders:0,completedOrders:0}),[r,n]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{const[{count:a},{count:l},{count:c},{count:u},{count:d},{count:h}]=await Promise.all([B.from("cards").select("*",{count:"exact",head:!0}),B.from("cards").select("*",{count:"exact",head:!0}).eq("status","activated"),B.from("cards").select("*",{count:"exact",head:!0}).eq("status","pending"),B.from("orders").select("*",{count:"exact",head:!0}),B.from("orders").select("*",{count:"exact",head:!0}).eq("status","pending"),B.from("orders").select("*",{count:"exact",head:!0}).eq("status","completed")]);t({totalCards:a||0,activatedCards:l||0,pendingCards:c||0,totalOrders:u||0,pendingOrders:d||0,completedOrders:h||0})}catch(a){console.error("Error fetching stats:",a)}finally{n(!1)}},i=[{title:"Total Cartes",value:e.totalCards,icon:jf,color:"bg-blue-500",link:"/admin/cards"},{title:"Cartes Actives",value:e.activatedCards,icon:Fs,color:"bg-green-500",link:"/admin/cards?status=activated"},{title:"Cartes en Attente",value:e.pendingCards,icon:sl,color:"bg-yellow-500",link:"/admin/cards?status=pending"},{title:"Total Commandes",value:e.totalOrders,icon:Pf,color:"bg-purple-500",link:"/admin/orders"}];return r?o.jsx(ll,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})}):o.jsx(ll,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble de votre systme de cartes Obsi"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(a=>{const l=a.icon;return o.jsx(W,{to:a.link,className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:a.title}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.value})]}),o.jsx("div",{className:`${a.color} p-3 rounded-lg`,children:o.jsx(l,{className:"w-6 h-6 text-white"})})]})},a.title)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(W,{to:"/admin/cards/generate",className:"block p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Gnrer des cartes"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Crer un nouveau batch de codes d'activation"})]}),o.jsxs(W,{to:"/admin/orders",className:"block p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Grer les commandes"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Voir et traiter les commandes en cours"})]}),o.jsxs(W,{to:"/admin/resellers",className:"block p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Grer les revendeurs"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ajouter ou modifier des revendeurs"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-gray-600",children:"Taux d'activation"}),o.jsxs("span",{className:"font-medium text-gray-900",children:[e.totalCards>0?Math.round(e.activatedCards/e.totalCards*100):0,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${e.totalCards>0?e.activatedCards/e.totalCards*100:0}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-gray-600",children:"Commandes compltes"}),o.jsxs("span",{className:"font-medium text-gray-900",children:[e.totalOrders>0?Math.round(e.completedOrders/e.totalOrders*100):0,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all",style:{width:`${e.totalOrders>0?e.completedOrders/e.totalOrders*100:0}%`}})})]})]})]})]})]})})}function I6(e={}){const[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,a]=b.useState(null),l=async()=>{s(!0),a(null);try{let d=B.from("cards").select("*").order("created_at",{ascending:!1});e.status&&(d=d.eq("status",e.status)),e.tier&&(d=d.eq("tier",e.tier)),e.resellerId&&(d=d.eq("reseller_id",e.resellerId));const{data:h,error:f}=await d;if(f)throw f;r(h||[])}catch(d){console.error("Error fetching cards:",d),a(d instanceof Error?d.message:"Failed to fetch cards")}finally{s(!1)}},c=async(d,h)=>{try{const{error:f}=await B.from("cards").update(h).eq("id",d);if(f)throw f;return r(m=>m.map(p=>p.id===d?{...p,...h}:p)),{success:!0}}catch(f){return console.error("Error updating card:",f),{success:!1,error:f instanceof Error?f.message:"Failed to update card"}}},u=async d=>{s(!0),a(null);try{const{data:h,error:f}=await B.from("cards").select("*").or(`card_code.ilike.%${d}%,activation_code.ilike.%${d}%`).order("created_at",{ascending:!1});if(f)throw f;r(h||[])}catch(h){console.error("Error searching cards:",h),a(h instanceof Error?h.message:"Failed to search cards")}finally{s(!1)}};return b.useEffect(()=>{e.autoFetch!==!1&&l()},[e.status,e.tier,e.resellerId]),{cards:t,loading:n,error:i,fetchCards:l,updateCard:c,searchCards:u}}const L6={pending:"En attente",activated:"Active",deactivated:"Dsactive",shipped:"Expdie"};function D6({status:e}){return o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${_6(e)}`,children:L6[e]})}function M6(){const[e,t]=b.useState("all"),[r,n]=b.useState("all"),[s,i]=b.useState(""),{cards:a,loading:l,searchCards:c,fetchCards:u}=I6({autoFetch:!0}),d=m=>{m.preventDefault(),s.trim()?c(s):u()},h=a.filter(m=>!(e!=="all"&&m.status!==e||r!=="all"&&m.tier!==r)),f=()=>{const m=["Code Carte","Code Activation","Tier","Statut","Date Cration"],p=h.map(y=>[y.card_code,y.activation_code,ea(y.tier),y.status,ol(y.created_at)]),v=[m.join(","),...p.map(y=>y.join(","))].join(`
`),w=new Blob([v],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a");g.href=URL.createObjectURL(w),g.download=`obsi-cards-${new Date().toISOString().split("T")[0]}.csv`,g.click()};return o.jsx(ll,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des cartes"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:[h.length," carte(s)"]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:f,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[o.jsx(Ss,{className:"w-4 h-4"}),"Exporter CSV"]}),o.jsxs(W,{to:"/admin/cards/generate",className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors flex items-center gap-2",children:[o.jsx(O1,{className:"w-4 h-4"}),"Gnrer des cartes"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsx("form",{onSubmit:d,className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(I1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:m=>i(m.target.value),placeholder:"Rechercher par code carte ou code activation...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent"})]})}),o.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"activated",children:"Active"}),o.jsx("option",{value:"shipped",children:"Expdie"}),o.jsx("option",{value:"deactivated",children:"Dsactive"})]}),o.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les tiers"}),o.jsx("option",{value:"roc",children:"Roc"}),o.jsx("option",{value:"saphir",children:"Saphir"}),o.jsx("option",{value:"emeraude",children:"meraude"})]})]})}),l?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):h.length===0?o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:o.jsx("p",{className:"text-gray-600",children:"Aucune carte trouve"})}):o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code Carte"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code Activation"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Cration"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.card_code}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.activation_code}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ea(m.tier)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(D6,{status:m.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ol(m.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx(W,{to:`/admin/cards/${m.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Voir dtails"})})]},m.id))})]})})})]})})}function $6(e={}){const[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,a]=b.useState(null),l=async()=>{s(!0),a(null);try{let h=B.from("orders").select("*").order("created_at",{ascending:!1});e.status&&(h=h.eq("status",e.status)),e.paymentStatus&&(h=h.eq("payment_status",e.paymentStatus)),e.userId&&(h=h.eq("user_id",e.userId));const{data:f,error:m}=await h;if(m)throw m;r(f||[])}catch(h){console.error("Error fetching orders:",h),a(h instanceof Error?h.message:"Failed to fetch orders")}finally{s(!1)}},c=async h=>{try{const{data:f,error:m}=await B.from("orders").select("*").eq("id",h).maybeSingle();if(m)throw m;return{data:f,error:null}}catch(f){return console.error("Error fetching order:",f),{data:null,error:f instanceof Error?f.message:"Failed to fetch order"}}},u=async(h,f)=>{try{const{error:m}=await B.from("orders").update(f).eq("id",h);if(m)throw m;return r(p=>p.map(v=>v.id===h?{...v,...f}:v)),{success:!0}}catch(m){return console.error("Error updating order:",m),{success:!1,error:m instanceof Error?m.message:"Failed to update order"}}},d=async h=>{s(!0),a(null);try{const{data:f,error:m}=await B.from("orders").select("*").or(`order_number.ilike.%${h}%,customer_email.ilike.%${h}%,customer_name.ilike.%${h}%`).order("created_at",{ascending:!1});if(m)throw m;r(f||[])}catch(f){console.error("Error searching orders:",f),a(f instanceof Error?f.message:"Failed to search orders")}finally{s(!1)}};return b.useEffect(()=>{e.autoFetch!==!1&&l()},[e.status,e.paymentStatus,e.userId]),{orders:t,loading:n,error:i,fetchOrders:l,getOrder:c,updateOrder:u,searchOrders:d}}const F6={pending:"En attente",confirmed:"Confirme",shipped:"Expdie",completed:"Complte",cancelled:"Annule"};function V6({status:e}){return o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${S6(e)}`,children:F6[e]})}const U6={pending:"En attente",succeeded:"Pay",failed:"chou",refunded:"Rembours"};function B6({status:e}){return o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${k6(e)}`,children:U6[e]})}function z6(){const[e,t]=b.useState("all"),[r,n]=b.useState("all"),[s,i]=b.useState(""),{orders:a,loading:l,searchOrders:c,fetchOrders:u}=$6({autoFetch:!0}),d=m=>{m.preventDefault(),s.trim()?c(s):u()},h=a.filter(m=>!(e!=="all"&&m.status!==e||r!=="all"&&m.payment_status!==r)),f=()=>{const m=["Numro","Client","Email","Tier","Montant","Statut","Paiement","Date"],p=h.map(y=>[y.order_number,y.customer_name,y.customer_email,ea(y.tier),al(y.total_amount),y.status,y.payment_status,ol(y.created_at)]),v=[m.join(","),...p.map(y=>y.map(x=>`"${x}"`).join(","))].join(`
`),w=new Blob([v],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a");g.href=URL.createObjectURL(w),g.download=`obsi-orders-${new Date().toISOString().split("T")[0]}.csv`,g.click()};return o.jsx(ll,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des commandes"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:[h.length," commande(s)"]})]}),o.jsxs("button",{onClick:f,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[o.jsx(Ss,{className:"w-4 h-4"}),"Exporter CSV"]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsx("form",{onSubmit:d,className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(I1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:m=>i(m.target.value),placeholder:"Rechercher par numro, email ou nom...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent"})]})}),o.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"confirmed",children:"Confirme"}),o.jsx("option",{value:"shipped",children:"Expdie"}),o.jsx("option",{value:"completed",children:"Complte"}),o.jsx("option",{value:"cancelled",children:"Annule"})]}),o.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les paiements"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"succeeded",children:"Pay"}),o.jsx("option",{value:"failed",children:"chou"}),o.jsx("option",{value:"refunded",children:"Rembours"})]})]})}),l?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):h.length===0?o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:o.jsx("p",{className:"text-gray-600",children:"Aucune commande trouve"})}):o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paiement"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.order_number}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.customer_name}),o.jsx("div",{className:"text-sm text-gray-500",children:m.customer_email})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ea(m.tier)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:al(m.total_amount)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(V6,{status:m.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(B6,{status:m.payment_status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ol(m.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx(W,{to:`/admin/orders/${m.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Voir dtails"})})]},m.id))})]})})})]})})}function an({children:e}){const{user:t,loading:r}=ar();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(Cv,{to:"/login"})}function sg({children:e}){const{user:t,loading:r}=ar();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?o.jsx(Cv,{to:"/dashboard"}):o.jsx(o.Fragment,{children:e})}function W6(){return o.jsx(sS,{children:o.jsx(LN,{children:o.jsx(dR,{children:o.jsxs(I_,{children:[o.jsx(Ye,{path:"/",element:o.jsx(lA,{})}),o.jsx(Ye,{path:"/login",element:o.jsx(sg,{children:o.jsx(cA,{})})}),o.jsx(Ye,{path:"/signup",element:o.jsx(sg,{children:o.jsx(uA,{})})}),o.jsx(Ye,{path:"/onboarding",element:o.jsx(an,{children:o.jsx(fA,{})})}),o.jsx(Ye,{path:"/dashboard",element:o.jsx(an,{children:o.jsx(mA,{})})}),o.jsx(Ye,{path:"/edit",element:o.jsx(an,{children:o.jsx(PA,{})})}),o.jsx(Ye,{path:"/analytics",element:o.jsx(an,{children:o.jsx(WA,{})})}),o.jsx(Ye,{path:"/order",element:o.jsx(E6,{})}),o.jsx(Ye,{path:"/order/confirmation",element:o.jsx(P6,{})}),o.jsx(Ye,{path:"/activate",element:o.jsx(R6,{})}),o.jsx(Ye,{path:"/admin",element:o.jsx(an,{children:o.jsx(O6,{})})}),o.jsx(Ye,{path:"/admin/cards",element:o.jsx(an,{children:o.jsx(M6,{})})}),o.jsx(Ye,{path:"/admin/orders",element:o.jsx(an,{children:o.jsx(z6,{})})}),o.jsx(Ye,{path:"/:username",element:o.jsx(zA,{})})]})})})})}vv(document.getElementById("root")).render(o.jsx(b.StrictMode,{children:o.jsx(W6,{})}));
