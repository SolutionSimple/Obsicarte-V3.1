function N1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function h0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var f0={exports:{}},gl={},m0={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=Symbol.for("react.element"),E1=Symbol.for("react.portal"),C1=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),T1=Symbol.for("react.profiler"),R1=Symbol.for("react.provider"),A1=Symbol.for("react.context"),O1=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),L1=Symbol.for("react.memo"),D1=Symbol.for("react.lazy"),Uf=Symbol.iterator;function M1(e){return e===null||typeof e!="object"?null:(e=Uf&&e[Uf]||e["@@iterator"],typeof e=="function"?e:null)}var p0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g0=Object.assign,y0={};function Rs(e,t,r){this.props=e,this.context=t,this.refs=y0,this.updater=r||p0}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v0(){}v0.prototype=Rs.prototype;function Ad(e,t,r){this.props=e,this.context=t,this.refs=y0,this.updater=r||p0}var Od=Ad.prototype=new v0;Od.constructor=Ad;g0(Od,Rs.prototype);Od.isPureReactComponent=!0;var zf=Array.isArray,x0=Object.prototype.hasOwnProperty,Id={current:null},w0={key:!0,ref:!0,__self:!0,__source:!0};function b0(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)x0.call(t,n)&&!w0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:oa,type:e,key:i,ref:a,props:s,_owner:Id.current}}function $1(e,t){return{$$typeof:oa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===oa}function F1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gf=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F1(""+e.key):t.toString(36)}function io(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case oa:case E1:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ql(a,0):n,zf(s)?(r="",e!=null&&(r=e.replace(Gf,"$&/")+"/"),io(s,t,r,"",function(u){return u})):s!=null&&(Ld(s)&&(s=$1(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Gf,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",zf(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ql(i,l);a+=io(i,t,r,c,s)}else if(c=M1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ql(i,l++),a+=io(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ja(e,t,r){if(e==null)return e;var n=[],s=0;return io(e,n,"","",function(i){return t.call(r,i,s++)}),n}function V1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},ao={transition:null},B1={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ao,ReactCurrentOwner:Id};function j0(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ja,forEach:function(e,t,r){ja(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ja(e,function(){t++}),t},toArray:function(e){return ja(e,function(t){return t})||[]},only:function(e){if(!Ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Rs;J.Fragment=C1;J.Profiler=T1;J.PureComponent=Ad;J.StrictMode=P1;J.Suspense=I1;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B1;J.act=j0;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=g0({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Id.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x0.call(t,c)&&!w0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:oa,type:e.type,key:s,ref:i,props:n,_owner:a}};J.createContext=function(e){return e={$$typeof:A1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R1,_context:e},e.Consumer=e};J.createElement=b0;J.createFactory=function(e){var t=b0.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:O1,render:e}};J.isValidElement=Ld;J.lazy=function(e){return{$$typeof:D1,_payload:{_status:-1,_result:e},_init:V1}};J.memo=function(e,t){return{$$typeof:L1,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};J.unstable_act=j0;J.useCallback=function(e,t){return nt.current.useCallback(e,t)};J.useContext=function(e){return nt.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};J.useEffect=function(e,t){return nt.current.useEffect(e,t)};J.useId=function(){return nt.current.useId()};J.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return nt.current.useMemo(e,t)};J.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};J.useRef=function(e){return nt.current.useRef(e)};J.useState=function(e){return nt.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return nt.current.useTransition()};J.version="18.3.1";m0.exports=J;var b=m0.exports;const ae=h0(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1=b,z1=Symbol.for("react.element"),G1=Symbol.for("react.fragment"),W1=Object.prototype.hasOwnProperty,H1=U1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q1={key:!0,ref:!0,__self:!0,__source:!0};function _0(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)W1.call(t,n)&&!q1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:z1,type:e,key:i,ref:a,props:s,_owner:H1.current}}gl.Fragment=G1;gl.jsx=_0;gl.jsxs=_0;f0.exports=gl;var o=f0.exports,S0={exports:{}},bt={},N0={exports:{}},k0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,M){var I=P.length;P.push(M);e:for(;0<I;){var F=I-1>>>1,G=P[F];if(0<s(G,M))P[F]=M,P[I]=G,I=F;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var M=P[0],I=P.pop();if(I!==M){P[0]=I;e:for(var F=0,G=P.length,re=G>>>1;F<re;){var Q=2*(F+1)-1,ze=P[Q],Ye=Q+1,or=P[Ye];if(0>s(ze,I))Ye<G&&0>s(or,ze)?(P[F]=or,P[Ye]=I,F=Ye):(P[F]=ze,P[Q]=I,F=Q);else if(Ye<G&&0>s(or,I))P[F]=or,P[Ye]=I,F=Ye;else break e}}return M}function s(P,M){var I=P.sortIndex-M.sortIndex;return I!==0?I:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=P)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(P){if(v=!1,x(P),!p)if(r(c)!==null)p=!0,Ue(_);else{var M=r(u);M!==null&&K(j,M.startTime-P)}}function _(P,M){p=!1,v&&(v=!1,g(k),k=-1),m=!0;var I=h;try{for(x(M),f=r(c);f!==null&&(!(f.expirationTime>M)||P&&!D());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var G=F(f.expirationTime<=M);M=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),x(M)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var Q=r(u);Q!==null&&K(j,Q.startTime-M),re=!1}return re}finally{f=null,h=I,m=!1}}var S=!1,N=null,k=-1,C=5,R=-1;function D(){return!(e.unstable_now()-R<C)}function U(){if(N!==null){var P=e.unstable_now();R=P;var M=!0;try{M=N(!0,P)}finally{M?H():(S=!1,N=null)}}else S=!1}var H;if(typeof y=="function")H=function(){y(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=U,H=function(){te.postMessage(null)}}else H=function(){w(U,0)};function Ue(P){N=P,S||(S=!0,H())}function K(P,M){k=w(function(){P(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,Ue(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var I=h;h=M;try{return P()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=h;h=P;try{return M()}finally{h=I}},e.unstable_scheduleCallback=function(P,M,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,P={id:d++,callback:M,priorityLevel:P,startTime:I,expirationTime:G,sortIndex:-1},I>F?(P.sortIndex=I,t(u,P),r(c)===null&&P===r(u)&&(v?(g(k),k=-1):v=!0,K(j,I-F))):(P.sortIndex=G,t(c,P),p||m||(p=!0,Ue(_))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var M=h;return function(){var I=h;h=M;try{return P.apply(this,arguments)}finally{h=I}}}})(k0);N0.exports=k0;var K1=N0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1=b,xt=K1;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E0=new Set,Ti={};function In(e,t){ys(e,t),ys(e+"Capture",t)}function ys(e,t){for(Ti[e]=t,e=0;e<t.length;e++)E0.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=Object.prototype.hasOwnProperty,Q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wf={},Hf={};function Y1(e){return Yc.call(Hf,e)?!0:Yc.call(Wf,e)?!1:Q1.test(e)?Hf[e]=!0:(Wf[e]=!0,!1)}function X1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z1(e,t,r,n){if(t===null||typeof t>"u"||X1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dd=/[\-:]([a-z])/g;function Md(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dd,Md);Be[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dd,Md);Be[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dd,Md);Be[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function $d(e,t,r,n){var s=Be.hasOwnProperty(t)?Be[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z1(t,r,s,n)&&(r=null),n||s===null?Y1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nr=J1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_a=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),P0=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),eu=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),T0=Symbol.for("react.offscreen"),qf=Symbol.iterator;function Hs(e){return e===null||typeof e!="object"?null:(e=qf&&e[qf]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Yl;function ai(e){if(Yl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Yl=t&&t[1]||""}return`
`+Yl+e}var Xl=!1;function Zl(e,t){if(!e||Xl)return"";Xl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Xl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ai(e):""}function ej(e){switch(e.tag){case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return e=Zl(e.type,!1),e;case 11:return e=Zl(e.type.render,!1),e;case 1:return e=Zl(e.type,!0),e;default:return""}}function tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case Gn:return"Portal";case Xc:return"Profiler";case Fd:return"StrictMode";case Zc:return"Suspense";case eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P0:return(e.displayName||"Context")+".Consumer";case C0:return(e._context.displayName||"Context")+".Provider";case Vd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bd:return t=e.displayName||null,t!==null?t:tu(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return tu(e(t))}catch{}}return null}function tj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tu(t);case 8:return t===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function R0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rj(e){var t=R0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sa(e){e._valueTracker||(e._valueTracker=rj(e))}function A0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=R0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ru(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Kf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function O0(e,t){t=t.checked,t!=null&&$d(e,"checked",t,!1)}function nu(e,t){O0(e,t);var r=Kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?su(e,t.type,r):t.hasOwnProperty("defaultValue")&&su(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function su(e,t,r){(t!=="number"||Po(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oi=Array.isArray;function os(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Kr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function iu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(oi(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kr(r)}}function I0(e,t){var r=Kr(t.value),n=Kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,D0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nj=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){nj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function M0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function $0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=M0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var sj=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ou(e,t){if(t){if(sj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=null;function Ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uu=null,ls=null,cs=null;function Xf(e){if(e=ua(e)){if(typeof uu!="function")throw Error(T(280));var t=e.stateNode;t&&(t=bl(t),uu(e.stateNode,e.type,t))}}function F0(e){ls?cs?cs.push(e):cs=[e]:ls=e}function V0(){if(ls){var e=ls,t=cs;if(cs=ls=null,Xf(e),t)for(e=0;e<t.length;e++)Xf(t[e])}}function B0(e,t){return e(t)}function U0(){}var ec=!1;function z0(e,t,r){if(ec)return e(t,r);ec=!0;try{return B0(e,t,r)}finally{ec=!1,(ls!==null||cs!==null)&&(U0(),V0())}}function Ai(e,t){var r=e.stateNode;if(r===null)return null;var n=bl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var du=!1;if(gr)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){du=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{du=!1}function ij(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var fi=!1,To=null,Ro=!1,hu=null,aj={onError:function(e){fi=!0,To=e}};function oj(e,t,r,n,s,i,a,l,c){fi=!1,To=null,ij.apply(aj,arguments)}function lj(e,t,r,n,s,i,a,l,c){if(oj.apply(this,arguments),fi){if(fi){var u=To;fi=!1,To=null}else throw Error(T(198));Ro||(Ro=!0,hu=u)}}function Ln(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function G0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zf(e){if(Ln(e)!==e)throw Error(T(188))}function cj(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Zf(s),e;if(i===n)return Zf(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function W0(e){return e=cj(e),e!==null?H0(e):null}function H0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H0(e);if(t!==null)return t;e=e.sibling}return null}var q0=xt.unstable_scheduleCallback,em=xt.unstable_cancelCallback,uj=xt.unstable_shouldYield,dj=xt.unstable_requestPaint,Se=xt.unstable_now,hj=xt.unstable_getCurrentPriorityLevel,zd=xt.unstable_ImmediatePriority,K0=xt.unstable_UserBlockingPriority,Ao=xt.unstable_NormalPriority,fj=xt.unstable_LowPriority,J0=xt.unstable_IdlePriority,yl=null,nr=null;function mj(e){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(yl,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:yj,pj=Math.log,gj=Math.LN2;function yj(e){return e>>>=0,e===0?32:31-(pj(e)/gj|0)|0}var ka=64,Ea=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=li(l):(i&=a,i!==0&&(n=li(i)))}else a=r&~s,a!==0?n=li(a):i!==0&&(n=li(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wt(t),s=1<<r,n|=e[r],t&=~s;return n}function vj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Wt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=vj(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q0(){var e=ka;return ka<<=1,!(ka&4194240)&&(ka=64),e}function tc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function la(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=r}function wj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Wt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Gd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ee=0;function Y0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X0,Wd,Z0,ey,ty,mu=!1,Ca=[],Fr=null,Vr=null,Br=null,Oi=new Map,Ii=new Map,Ir=[],bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tm(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function Ks(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ua(t),t!==null&&Wd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jj(e,t,r,n,s){switch(t){case"focusin":return Fr=Ks(Fr,e,t,r,n,s),!0;case"dragenter":return Vr=Ks(Vr,e,t,r,n,s),!0;case"mouseover":return Br=Ks(Br,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Oi.set(i,Ks(Oi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ii.set(i,Ks(Ii.get(i)||null,e,t,r,n,s)),!0}return!1}function ry(e){var t=gn(e.target);if(t!==null){var r=Ln(t);if(r!==null){if(t=r.tag,t===13){if(t=G0(r),t!==null){e.blockedOn=t,ty(e.priority,function(){Z0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);cu=n,r.target.dispatchEvent(n),cu=null}else return t=ua(r),t!==null&&Wd(t),e.blockedOn=r,!1;t.shift()}return!0}function rm(e,t,r){oo(e)&&r.delete(t)}function _j(){mu=!1,Fr!==null&&oo(Fr)&&(Fr=null),Vr!==null&&oo(Vr)&&(Vr=null),Br!==null&&oo(Br)&&(Br=null),Oi.forEach(rm),Ii.forEach(rm)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,_j)))}function Li(e){function t(s){return Js(s,e)}if(0<Ca.length){Js(Ca[0],e);for(var r=1;r<Ca.length;r++){var n=Ca[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fr!==null&&Js(Fr,e),Vr!==null&&Js(Vr,e),Br!==null&&Js(Br,e),Oi.forEach(t),Ii.forEach(t),r=0;r<Ir.length;r++)n=Ir[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ir.length&&(r=Ir[0],r.blockedOn===null);)ry(r),r.blockedOn===null&&Ir.shift()}var us=Nr.ReactCurrentBatchConfig,Io=!0;function Sj(e,t,r,n){var s=ee,i=us.transition;us.transition=null;try{ee=1,Hd(e,t,r,n)}finally{ee=s,us.transition=i}}function Nj(e,t,r,n){var s=ee,i=us.transition;us.transition=null;try{ee=4,Hd(e,t,r,n)}finally{ee=s,us.transition=i}}function Hd(e,t,r,n){if(Io){var s=pu(e,t,r,n);if(s===null)dc(e,t,n,Lo,r),tm(e,n);else if(jj(s,e,t,r,n))n.stopPropagation();else if(tm(e,n),t&4&&-1<bj.indexOf(e)){for(;s!==null;){var i=ua(s);if(i!==null&&X0(i),i=pu(e,t,r,n),i===null&&dc(e,t,n,Lo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else dc(e,t,n,null,r)}}var Lo=null;function pu(e,t,r,n){if(Lo=null,e=Ud(n),e=gn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(r=t.tag,r===13){if(e=G0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lo=e,null}function ny(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hj()){case zd:return 1;case K0:return 4;case Ao:case fj:return 16;case J0:return 536870912;default:return 16}default:return 16}}var Mr=null,qd=null,lo=null;function sy(){if(lo)return lo;var e,t=qd,r=t.length,n,s="value"in Mr?Mr.value:Mr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return lo=s.slice(e,1<n?1-n:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function nm(){return!1}function jt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pa:nm,this.isPropagationStopped=nm,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=jt(As),ca=xe({},As,{view:0,detail:0}),kj=jt(ca),rc,nc,Qs,vl=xe({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(rc=e.screenX-Qs.screenX,nc=e.screenY-Qs.screenY):nc=rc=0,Qs=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),sm=jt(vl),Ej=xe({},vl,{dataTransfer:0}),Cj=jt(Ej),Pj=xe({},ca,{relatedTarget:0}),sc=jt(Pj),Tj=xe({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Rj=jt(Tj),Aj=xe({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oj=jt(Aj),Ij=xe({},As,{data:0}),im=jt(Ij),Lj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $j(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mj[e])?!!t[e]:!1}function Jd(){return $j}var Fj=xe({},ca,{key:function(e){if(e.key){var t=Lj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vj=jt(Fj),Bj=xe({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),am=jt(Bj),Uj=xe({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),zj=jt(Uj),Gj=xe({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wj=jt(Gj),Hj=xe({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qj=jt(Hj),Kj=[9,13,27,32],Qd=gr&&"CompositionEvent"in window,mi=null;gr&&"documentMode"in document&&(mi=document.documentMode);var Jj=gr&&"TextEvent"in window&&!mi,iy=gr&&(!Qd||mi&&8<mi&&11>=mi),om=" ",lm=!1;function ay(e,t){switch(e){case"keyup":return Kj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function Qj(e,t){switch(e){case"compositionend":return oy(t);case"keypress":return t.which!==32?null:(lm=!0,om);case"textInput":return e=t.data,e===om&&lm?null:e;default:return null}}function Yj(e,t){if(Hn)return e==="compositionend"||!Qd&&ay(e,t)?(e=sy(),lo=qd=Mr=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iy&&t.locale!=="ko"?null:t.data;default:return null}}var Xj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xj[e.type]:t==="textarea"}function ly(e,t,r,n){F0(n),t=Do(t,"onChange"),0<t.length&&(r=new Kd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pi=null,Di=null;function Zj(e){xy(e,0)}function xl(e){var t=Jn(e);if(A0(t))return e}function e2(e,t){if(e==="change")return t}var cy=!1;if(gr){var ic;if(gr){var ac="oninput"in document;if(!ac){var um=document.createElement("div");um.setAttribute("oninput","return;"),ac=typeof um.oninput=="function"}ic=ac}else ic=!1;cy=ic&&(!document.documentMode||9<document.documentMode)}function dm(){pi&&(pi.detachEvent("onpropertychange",uy),Di=pi=null)}function uy(e){if(e.propertyName==="value"&&xl(Di)){var t=[];ly(t,Di,e,Ud(e)),z0(Zj,t)}}function t2(e,t,r){e==="focusin"?(dm(),pi=t,Di=r,pi.attachEvent("onpropertychange",uy)):e==="focusout"&&dm()}function r2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(Di)}function n2(e,t){if(e==="click")return xl(t)}function s2(e,t){if(e==="input"||e==="change")return xl(t)}function i2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:i2;function Mi(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Yc.call(t,s)||!Kt(e[s],t[s]))return!1}return!0}function hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fm(e,t){var r=hm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hm(r)}}function dy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hy(){for(var e=window,t=Po();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Po(e.document)}return t}function Yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function a2(e){var t=hy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dy(r.ownerDocument.documentElement,r)){if(n!==null&&Yd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=fm(r,i);var a=fm(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o2=gr&&"documentMode"in document&&11>=document.documentMode,qn=null,gu=null,gi=null,yu=!1;function mm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yu||qn==null||qn!==Po(n)||(n=qn,"selectionStart"in n&&Yd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gi&&Mi(gi,n)||(gi=n,n=Do(gu,"onSelect"),0<n.length&&(t=new Kd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qn)))}function Ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Kn={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},oc={},fy={};gr&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function wl(e){if(oc[e])return oc[e];if(!Kn[e])return e;var t=Kn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fy)return oc[e]=t[r];return e}var my=wl("animationend"),py=wl("animationiteration"),gy=wl("animationstart"),yy=wl("transitionend"),vy=new Map,pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(e,t){vy.set(e,t),In(t,[e])}for(var lc=0;lc<pm.length;lc++){var cc=pm[lc],l2=cc.toLowerCase(),c2=cc[0].toUpperCase()+cc.slice(1);Yr(l2,"on"+c2)}Yr(my,"onAnimationEnd");Yr(py,"onAnimationIteration");Yr(gy,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(yy,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function gm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lj(n,t,void 0,e),e.currentTarget=null}function xy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;gm(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;gm(s,l,u),i=c}}}if(Ro)throw e=hu,Ro=!1,hu=null,e}function ce(e,t){var r=t[ju];r===void 0&&(r=t[ju]=new Set);var n=e+"__bubble";r.has(n)||(wy(t,e,2,!1),r.add(n))}function uc(e,t,r){var n=0;t&&(n|=4),wy(r,e,n,t)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[Ra]){e[Ra]=!0,E0.forEach(function(r){r!=="selectionchange"&&(u2.has(r)||uc(r,!1,e),uc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ra]||(t[Ra]=!0,uc("selectionchange",!1,t))}}function wy(e,t,r,n){switch(ny(t)){case 1:var s=Sj;break;case 4:s=Nj;break;default:s=Hd}r=s.bind(null,t,r,e),s=void 0,!du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function dc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=gn(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}z0(function(){var u=i,d=Ud(r),f=[];e:{var h=vy.get(e);if(h!==void 0){var m=Kd,p=e;switch(e){case"keypress":if(co(r)===0)break e;case"keydown":case"keyup":m=Vj;break;case"focusin":p="focus",m=sc;break;case"focusout":p="blur",m=sc;break;case"beforeblur":case"afterblur":m=sc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zj;break;case my:case py:case gy:m=Rj;break;case yy:m=Wj;break;case"scroll":m=kj;break;case"wheel":m=qj;break;case"copy":case"cut":case"paste":m=Oj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=am}var v=(t&4)!==0,w=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,g!==null&&(j=Ai(y,g),j!=null&&v.push(Fi(y,j,x)))),w)break;y=y.return}0<v.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==cu&&(p=r.relatedTarget||r.fromElement)&&(gn(p)||p[yr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?gn(p):null,p!==null&&(w=Ln(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=sm,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=am,j="onPointerLeave",g="onPointerEnter",y="pointer"),w=m==null?h:Jn(m),x=p==null?h:Jn(p),h=new v(j,y+"leave",m,r,d),h.target=w,h.relatedTarget=x,j=null,gn(d)===u&&(v=new v(g,y+"enter",p,r,d),v.target=x,v.relatedTarget=w,j=v),w=j,m&&p)t:{for(v=m,g=p,y=0,x=v;x;x=Dn(x))y++;for(x=0,j=g;j;j=Dn(j))x++;for(;0<y-x;)v=Dn(v),y--;for(;0<x-y;)g=Dn(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Dn(v),g=Dn(g)}v=null}else v=null;m!==null&&ym(f,h,m,v,!1),p!==null&&w!==null&&ym(f,w,p,v,!0)}}e:{if(h=u?Jn(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=e2;else if(cm(h))if(cy)_=s2;else{_=r2;var S=t2}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=n2);if(_&&(_=_(e,u))){ly(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&su(h,"number",h.value)}switch(S=u?Jn(u):window,e){case"focusin":(cm(S)||S.contentEditable==="true")&&(qn=S,gu=u,gi=null);break;case"focusout":gi=gu=qn=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,mm(f,r,d);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":mm(f,r,d)}var N;if(Qd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?ay(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(iy&&r.locale!=="ko"&&(Hn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Hn&&(N=sy()):(Mr=d,qd="value"in Mr?Mr.value:Mr.textContent,Hn=!0)),S=Do(u,k),0<S.length&&(k=new im(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=oy(r),N!==null&&(k.data=N)))),(N=Jj?Qj(e,r):Yj(e,r))&&(u=Do(u,"onBeforeInput"),0<u.length&&(d=new im("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}xy(f,t)})}function Fi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Do(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ai(e,r),i!=null&&n.unshift(Fi(e,i,s)),i=Ai(e,t),i!=null&&n.push(Fi(e,i,s))),e=e.return}return n}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ym(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ai(r,i),c!=null&&a.unshift(Fi(r,c,l))):s||(c=Ai(r,i),c!=null&&a.push(Fi(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var d2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function vm(e){return(typeof e=="string"?e:""+e).replace(d2,`
`).replace(h2,"")}function Aa(e,t,r){if(t=vm(t),vm(e)!==t&&r)throw Error(T(425))}function Mo(){}var vu=null,xu=null;function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(e){return xm.resolve(null).then(e).catch(p2)}:bu;function p2(e){setTimeout(function(){throw e})}function hc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Li(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Li(t)}function Ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),er="__reactFiber$"+Os,Vi="__reactProps$"+Os,yr="__reactContainer$"+Os,ju="__reactEvents$"+Os,g2="__reactListeners$"+Os,y2="__reactHandles$"+Os;function gn(e){var t=e[er];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yr]||r[er]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wm(e);e!==null;){if(r=e[er])return r;e=wm(e)}return t}e=r,r=e.parentNode}return null}function ua(e){return e=e[er]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function bl(e){return e[Vi]||null}var _u=[],Qn=-1;function Xr(e){return{current:e}}function ue(e){0>Qn||(e.current=_u[Qn],_u[Qn]=null,Qn--)}function le(e,t){Qn++,_u[Qn]=e.current,e.current=t}var Jr={},Je=Xr(Jr),lt=Xr(!1),En=Jr;function vs(e,t){var r=e.type.contextTypes;if(!r)return Jr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function $o(){ue(lt),ue(Je)}function bm(e,t,r){if(Je.current!==Jr)throw Error(T(168));le(Je,t),le(lt,r)}function by(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,tj(e)||"Unknown",s));return xe({},r,n)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jr,En=Je.current,le(Je,e),le(lt,lt.current),!0}function jm(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=by(e,t,En),n.__reactInternalMemoizedMergedChildContext=e,ue(lt),ue(Je),le(Je,e)):ue(lt),le(lt,r)}var dr=null,jl=!1,fc=!1;function jy(e){dr===null?dr=[e]:dr.push(e)}function v2(e){jl=!0,jy(e)}function Zr(){if(!fc&&dr!==null){fc=!0;var e=0,t=ee;try{var r=dr;for(ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dr=null,jl=!1}catch(s){throw dr!==null&&(dr=dr.slice(e+1)),q0(zd,Zr),s}finally{ee=t,fc=!1}}return null}var Yn=[],Xn=0,Vo=null,Bo=0,Ct=[],Pt=0,Cn=null,hr=1,fr="";function cn(e,t){Yn[Xn++]=Bo,Yn[Xn++]=Vo,Vo=e,Bo=t}function _y(e,t,r){Ct[Pt++]=hr,Ct[Pt++]=fr,Ct[Pt++]=Cn,Cn=e;var n=hr;e=fr;var s=32-Wt(n)-1;n&=~(1<<s),r+=1;var i=32-Wt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,hr=1<<32-Wt(t)+s|r<<s|n,fr=i+e}else hr=1<<i|r<<s|n,fr=e}function Xd(e){e.return!==null&&(cn(e,1),_y(e,1,0))}function Zd(e){for(;e===Vo;)Vo=Yn[--Xn],Yn[Xn]=null,Bo=Yn[--Xn],Yn[Xn]=null;for(;e===Cn;)Cn=Ct[--Pt],Ct[Pt]=null,fr=Ct[--Pt],Ct[Pt]=null,hr=Ct[--Pt],Ct[Pt]=null}var vt=null,yt=null,he=!1,zt=null;function Sy(e,t){var r=Tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _m(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cn!==null?{id:hr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vt=e,yt=null,!0):!1;default:return!1}}function Su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nu(e){if(he){var t=yt;if(t){var r=t;if(!_m(e,t)){if(Su(e))throw Error(T(418));t=Ur(r.nextSibling);var n=vt;t&&_m(e,t)?Sy(n,r):(e.flags=e.flags&-4097|2,he=!1,vt=e)}}else{if(Su(e))throw Error(T(418));e.flags=e.flags&-4097|2,he=!1,vt=e}}}function Sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Oa(e){if(e!==vt)return!1;if(!he)return Sm(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wu(e.type,e.memoizedProps)),t&&(t=yt)){if(Su(e))throw Ny(),Error(T(418));for(;t;)Sy(e,t),t=Ur(t.nextSibling)}if(Sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=Ur(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Ur(e.stateNode.nextSibling):null;return!0}function Ny(){for(var e=yt;e;)e=Ur(e.nextSibling)}function xs(){yt=vt=null,he=!1}function eh(e){zt===null?zt=[e]:zt.push(e)}var x2=Nr.ReactCurrentBatchConfig;function Ys(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Ia(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nm(e){var t=e._init;return t(e._payload)}function ky(e){function t(g,y){if(e){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Hr(g,y),g.index=0,g.sibling=null,g}function i(g,y,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,x,j){return y===null||y.tag!==6?(y=wc(x,g.mode,j),y.return=g,y):(y=s(y,x),y.return=g,y)}function c(g,y,x,j){var _=x.type;return _===Wn?d(g,y,x.props.children,j,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rr&&Nm(_)===y.type)?(j=s(y,x.props),j.ref=Ys(g,y,x),j.return=g,j):(j=yo(x.type,x.key,x.props,null,g.mode,j),j.ref=Ys(g,y,x),j.return=g,j)}function u(g,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=bc(x,g.mode,j),y.return=g,y):(y=s(y,x.children||[]),y.return=g,y)}function d(g,y,x,j,_){return y===null||y.tag!==7?(y=_n(x,g.mode,j,_),y.return=g,y):(y=s(y,x),y.return=g,y)}function f(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wc(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:return x=yo(y.type,y.key,y.props,null,g.mode,x),x.ref=Ys(g,null,y),x.return=g,x;case Gn:return y=bc(y,g.mode,x),y.return=g,y;case Rr:var j=y._init;return f(g,j(y._payload),x)}if(oi(y)||Hs(y))return y=_n(y,g.mode,x,null),y.return=g,y;Ia(g,y)}return null}function h(g,y,x,j){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(g,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _a:return x.key===_?c(g,y,x,j):null;case Gn:return x.key===_?u(g,y,x,j):null;case Rr:return _=x._init,h(g,y,_(x._payload),j)}if(oi(x)||Hs(x))return _!==null?null:d(g,y,x,j,null);Ia(g,x)}return null}function m(g,y,x,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(x)||null,l(y,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _a:return g=g.get(j.key===null?x:j.key)||null,c(y,g,j,_);case Gn:return g=g.get(j.key===null?x:j.key)||null,u(y,g,j,_);case Rr:var S=j._init;return m(g,y,x,S(j._payload),_)}if(oi(j)||Hs(j))return g=g.get(x)||null,d(y,g,j,_,null);Ia(y,j)}return null}function p(g,y,x,j){for(var _=null,S=null,N=y,k=y=0,C=null;N!==null&&k<x.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var R=h(g,N,x[k],j);if(R===null){N===null&&(N=C);break}e&&N&&R.alternate===null&&t(g,N),y=i(R,y,k),S===null?_=R:S.sibling=R,S=R,N=C}if(k===x.length)return r(g,N),he&&cn(g,k),_;if(N===null){for(;k<x.length;k++)N=f(g,x[k],j),N!==null&&(y=i(N,y,k),S===null?_=N:S.sibling=N,S=N);return he&&cn(g,k),_}for(N=n(g,N);k<x.length;k++)C=m(N,g,k,x[k],j),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),y=i(C,y,k),S===null?_=C:S.sibling=C,S=C);return e&&N.forEach(function(D){return t(g,D)}),he&&cn(g,k),_}function v(g,y,x,j){var _=Hs(x);if(typeof _!="function")throw Error(T(150));if(x=_.call(x),x==null)throw Error(T(151));for(var S=_=null,N=y,k=y=0,C=null,R=x.next();N!==null&&!R.done;k++,R=x.next()){N.index>k?(C=N,N=null):C=N.sibling;var D=h(g,N,R.value,j);if(D===null){N===null&&(N=C);break}e&&N&&D.alternate===null&&t(g,N),y=i(D,y,k),S===null?_=D:S.sibling=D,S=D,N=C}if(R.done)return r(g,N),he&&cn(g,k),_;if(N===null){for(;!R.done;k++,R=x.next())R=f(g,R.value,j),R!==null&&(y=i(R,y,k),S===null?_=R:S.sibling=R,S=R);return he&&cn(g,k),_}for(N=n(g,N);!R.done;k++,R=x.next())R=m(N,g,k,R.value,j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?k:R.key),y=i(R,y,k),S===null?_=R:S.sibling=R,S=R);return e&&N.forEach(function(U){return t(g,U)}),he&&cn(g,k),_}function w(g,y,x,j){if(typeof x=="object"&&x!==null&&x.type===Wn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _a:e:{for(var _=x.key,S=y;S!==null;){if(S.key===_){if(_=x.type,_===Wn){if(S.tag===7){r(g,S.sibling),y=s(S,x.props.children),y.return=g,g=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rr&&Nm(_)===S.type){r(g,S.sibling),y=s(S,x.props),y.ref=Ys(g,S,x),y.return=g,g=y;break e}r(g,S);break}else t(g,S);S=S.sibling}x.type===Wn?(y=_n(x.props.children,g.mode,j,x.key),y.return=g,g=y):(j=yo(x.type,x.key,x.props,null,g.mode,j),j.ref=Ys(g,y,x),j.return=g,g=j)}return a(g);case Gn:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(g,y.sibling),y=s(y,x.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=bc(x,g.mode,j),y.return=g,g=y}return a(g);case Rr:return S=x._init,w(g,y,S(x._payload),j)}if(oi(x))return p(g,y,x,j);if(Hs(x))return v(g,y,x,j);Ia(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,x),y.return=g,g=y):(r(g,y),y=wc(x,g.mode,j),y.return=g,g=y),a(g)):r(g,y)}return w}var ws=ky(!0),Ey=ky(!1),Uo=Xr(null),zo=null,Zn=null,th=null;function rh(){th=Zn=zo=null}function nh(e){var t=Uo.current;ue(Uo),e._currentValue=t}function ku(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ds(e,t){zo=e,th=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(th!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(zo===null)throw Error(T(308));Zn=e,zo.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var yn=null;function sh(e){yn===null?yn=[e]:yn.push(e)}function Cy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sh(t)):(r.next=s.next,s.next=r),t.interleaved=r,vr(e,n)}function vr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ar=!1;function ih(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Py(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Y&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,vr(e,r)}return s=n.interleaved,s===null?(t.next=t,sh(n)):(t.next=s.next,s.next=t),n.interleaved=t,vr(e,r)}function uo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gd(e,r)}}function km(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Go(e,t,r,n){var s=e.updateQueue;Ar=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(h=t,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=xe({},f,h);break e;case 2:Ar=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Tn|=a,e.lanes=a,e.memoizedState=f}}function Em(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var da={},sr=Xr(da),Bi=Xr(da),Ui=Xr(da);function vn(e){if(e===da)throw Error(T(174));return e}function ah(e,t){switch(le(Ui,t),le(Bi,e),le(sr,da),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=au(t,e)}ue(sr),le(sr,t)}function bs(){ue(sr),ue(Bi),ue(Ui)}function Ty(e){vn(Ui.current);var t=vn(sr.current),r=au(t,e.type);t!==r&&(le(Bi,e),le(sr,r))}function oh(e){Bi.current===e&&(ue(sr),ue(Bi))}var ge=Xr(0);function Wo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mc=[];function lh(){for(var e=0;e<mc.length;e++)mc[e]._workInProgressVersionPrimary=null;mc.length=0}var ho=Nr.ReactCurrentDispatcher,pc=Nr.ReactCurrentBatchConfig,Pn=0,ve=null,Pe=null,Re=null,Ho=!1,yi=!1,zi=0,w2=0;function Ge(){throw Error(T(321))}function ch(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kt(e[r],t[r]))return!1;return!0}function uh(e,t,r,n,s,i){if(Pn=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=e===null||e.memoizedState===null?S2:N2,e=r(n,s),yi){i=0;do{if(yi=!1,zi=0,25<=i)throw Error(T(301));i+=1,Re=Pe=null,t.updateQueue=null,ho.current=k2,e=r(n,s)}while(yi)}if(ho.current=qo,t=Pe!==null&&Pe.next!==null,Pn=0,Re=Pe=ve=null,Ho=!1,t)throw Error(T(300));return e}function dh(){var e=zi!==0;return zi=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ve.memoizedState=Re=e:Re=Re.next=e,Re}function Lt(){if(Pe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?ve.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(T(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?ve.memoizedState=Re=e:Re=Re.next=e}return Re}function Gi(e,t){return typeof t=="function"?t(e):t}function gc(e){var t=Lt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=Pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Pn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,ve.lanes|=d,Tn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Kt(n,t.memoizedState)||(at=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ve.lanes|=i,Tn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yc(e){var t=Lt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Kt(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ry(){}function Ay(e,t){var r=ve,n=Lt(),s=t(),i=!Kt(n.memoizedState,s);if(i&&(n.memoizedState=s,at=!0),n=n.queue,hh(Ly.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,Wi(9,Iy.bind(null,r,n,s,t),void 0,null),Oe===null)throw Error(T(349));Pn&30||Oy(r,t,s)}return s}function Oy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Iy(e,t,r,n){t.value=r,t.getSnapshot=n,Dy(t)&&My(e)}function Ly(e,t,r){return r(function(){Dy(t)&&My(e)})}function Dy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kt(e,r)}catch{return!0}}function My(e){var t=vr(e,1);t!==null&&Ht(t,e,1,-1)}function Cm(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=_2.bind(null,ve,e),[t.memoizedState,e]}function Wi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $y(){return Lt().memoizedState}function fo(e,t,r,n){var s=Zt();ve.flags|=e,s.memoizedState=Wi(1|t,r,void 0,n===void 0?null:n)}function _l(e,t,r,n){var s=Lt();n=n===void 0?null:n;var i=void 0;if(Pe!==null){var a=Pe.memoizedState;if(i=a.destroy,n!==null&&ch(n,a.deps)){s.memoizedState=Wi(t,r,i,n);return}}ve.flags|=e,s.memoizedState=Wi(1|t,r,i,n)}function Pm(e,t){return fo(8390656,8,e,t)}function hh(e,t){return _l(2048,8,e,t)}function Fy(e,t){return _l(4,2,e,t)}function Vy(e,t){return _l(4,4,e,t)}function By(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uy(e,t,r){return r=r!=null?r.concat([e]):null,_l(4,4,By.bind(null,t,e),r)}function fh(){}function zy(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ch(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Gy(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ch(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wy(e,t,r){return Pn&21?(Kt(r,t)||(r=Q0(),ve.lanes|=r,Tn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=r)}function b2(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var n=pc.transition;pc.transition={};try{e(!1),t()}finally{ee=r,pc.transition=n}}function Hy(){return Lt().memoizedState}function j2(e,t,r){var n=Wr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qy(e))Ky(t,r);else if(r=Cy(e,t,r,n),r!==null){var s=rt();Ht(r,e,n,s),Jy(r,t,n)}}function _2(e,t,r){var n=Wr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qy(e))Ky(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Kt(l,a)){var c=t.interleaved;c===null?(s.next=s,sh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Cy(e,t,s,n),r!==null&&(s=rt(),Ht(r,e,n,s),Jy(r,t,n))}}function qy(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Ky(e,t){yi=Ho=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gd(e,r)}}var qo={readContext:It,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},S2={readContext:It,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Pm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fo(4194308,4,By.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var r=Zt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=j2.bind(null,ve,e),[n.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Cm,useDebugValue:fh,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Cm(!1),t=e[0];return e=b2.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ve,s=Zt();if(he){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Oe===null)throw Error(T(349));Pn&30||Oy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Pm(Ly.bind(null,n,i,e),[e]),n.flags|=2048,Wi(9,Iy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Zt(),t=Oe.identifierPrefix;if(he){var r=fr,n=hr;r=(n&~(1<<32-Wt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N2={readContext:It,useCallback:zy,useContext:It,useEffect:hh,useImperativeHandle:Uy,useInsertionEffect:Fy,useLayoutEffect:Vy,useMemo:Gy,useReducer:gc,useRef:$y,useState:function(){return gc(Gi)},useDebugValue:fh,useDeferredValue:function(e){var t=Lt();return Wy(t,Pe.memoizedState,e)},useTransition:function(){var e=gc(Gi)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Ry,useSyncExternalStore:Ay,useId:Hy,unstable_isNewReconciler:!1},k2={readContext:It,useCallback:zy,useContext:It,useEffect:hh,useImperativeHandle:Uy,useInsertionEffect:Fy,useLayoutEffect:Vy,useMemo:Gy,useReducer:yc,useRef:$y,useState:function(){return yc(Gi)},useDebugValue:fh,useDeferredValue:function(e){var t=Lt();return Pe===null?t.memoizedState=e:Wy(t,Pe.memoizedState,e)},useTransition:function(){var e=yc(Gi)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Ry,useSyncExternalStore:Ay,useId:Hy,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Eu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sl={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rt(),s=Wr(e),i=mr(n,s);i.payload=t,r!=null&&(i.callback=r),t=zr(e,i,s),t!==null&&(Ht(t,e,s,n),uo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rt(),s=Wr(e),i=mr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=zr(e,i,s),t!==null&&(Ht(t,e,s,n),uo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),n=Wr(e),s=mr(r,n);s.tag=2,t!=null&&(s.callback=t),t=zr(e,s,n),t!==null&&(Ht(t,e,n,r),uo(t,e,n))}};function Tm(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Mi(r,n)||!Mi(s,i):!0}function Qy(e,t,r){var n=!1,s=Jr,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=ct(t)?En:Je.current,n=t.contextTypes,i=(n=n!=null)?vs(e,s):Jr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sl.enqueueReplaceState(t,t.state,null)}function Cu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ih(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=ct(t)?En:Je.current,s.context=vs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Eu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sl.enqueueReplaceState(s,s.state,null),Go(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var r="",n=t;do r+=ej(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function vc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var E2=typeof WeakMap=="function"?WeakMap:Map;function Yy(e,t,r){r=mr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jo||(Jo=!0,Fu=n),Pu(e,t)},r}function Xy(e,t,r){r=mr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Pu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Pu(e,t),typeof n!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Am(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new E2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=B2.bind(null,e,t,r),t.then(e,e))}function Om(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Im(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mr(-1,1),t.tag=2,zr(r,t,1))),r.lanes|=1),e)}var C2=Nr.ReactCurrentOwner,at=!1;function Ze(e,t,r,n){t.child=e===null?Ey(t,null,r,n):ws(t,e.child,r,n)}function Lm(e,t,r,n,s){r=r.render;var i=t.ref;return ds(t,s),n=uh(e,t,r,n,i,s),r=dh(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xr(e,t,s)):(he&&r&&Xd(t),t.flags|=1,Ze(e,t,n,s),t.child)}function Dm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!bh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Zy(e,t,i,n,s)):(e=yo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mi,r(a,n)&&e.ref===t.ref)return xr(e,t,s)}return t.flags|=1,e=Hr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Zy(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Mi(i,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,xr(e,t,s)}return Tu(e,t,r,n,s)}function ev(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(ts,mt),mt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(ts,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,le(ts,mt),mt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,le(ts,mt),mt|=n;return Ze(e,t,s,r),t.child}function tv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,r,n,s){var i=ct(r)?En:Je.current;return i=vs(t,i),ds(t,s),r=uh(e,t,r,n,i,s),n=dh(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xr(e,t,s)):(he&&n&&Xd(t),t.flags|=1,Ze(e,t,r,s),t.child)}function Mm(e,t,r,n,s){if(ct(r)){var i=!0;Fo(t)}else i=!1;if(ds(t,s),t.stateNode===null)mo(e,t),Qy(t,r,n),Cu(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=It(u):(u=ct(r)?En:Je.current,u=vs(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Rm(t,a,n,u),Ar=!1;var h=t.memoizedState;a.state=h,Go(t,n,a,s),c=t.memoizedState,l!==n||h!==c||lt.current||Ar?(typeof d=="function"&&(Eu(t,r,d,n),c=t.memoizedState),(l=Ar||Tm(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Py(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ft(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=It(c):(c=ct(r)?En:Je.current,c=vs(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Rm(t,a,n,c),Ar=!1,h=t.memoizedState,a.state=h,Go(t,n,a,s);var p=t.memoizedState;l!==f||h!==p||lt.current||Ar?(typeof m=="function"&&(Eu(t,r,m,n),p=t.memoizedState),(u=Ar||Tm(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ru(e,t,r,n,i,s)}function Ru(e,t,r,n,s,i){tv(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&jm(t,r,!1),xr(e,t,i);n=t.stateNode,C2.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ws(t,e.child,null,i),t.child=ws(t,null,l,i)):Ze(e,t,l,i),t.memoizedState=n.state,s&&jm(t,r,!0),t.child}function rv(e){var t=e.stateNode;t.pendingContext?bm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bm(e,t.context,!1),ah(e,t.containerInfo)}function $m(e,t,r,n,s){return xs(),eh(s),t.flags|=256,Ze(e,t,r,n),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function nv(e,t,r){var n=t.pendingProps,s=ge.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(ge,s&1),e===null)return Nu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=El(a,n,0,null),e=_n(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ou(r),t.memoizedState=Au,e):mh(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return P2(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Hr(l,i):(i=_n(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Ou(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Au,n}return i=e.child,e=i.sibling,n=Hr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function mh(e,t){return t=El({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function La(e,t,r,n){return n!==null&&eh(n),ws(t,e.child,null,r),e=mh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P2(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=vc(Error(T(422))),La(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=El({mode:"visible",children:n.children},s,0,null),i=_n(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ws(t,e.child,null,a),t.child.memoizedState=Ou(a),t.memoizedState=Au,i);if(!(t.mode&1))return La(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=vc(i,n,void 0),La(e,t,a,n)}if(l=(a&e.childLanes)!==0,at||l){if(n=Oe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vr(e,s),Ht(n,e,s,-1))}return wh(),n=vc(Error(T(421))),La(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=U2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yt=Ur(s.nextSibling),vt=t,he=!0,zt=null,e!==null&&(Ct[Pt++]=hr,Ct[Pt++]=fr,Ct[Pt++]=Cn,hr=e.id,fr=e.overflow,Cn=t),t=mh(t,n.children),t.flags|=4096,t)}function Fm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ku(e.return,t,r)}function xc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function sv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ze(e,t,n.children,r),n=ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,r,t);else if(e.tag===19)Fm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(le(ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Wo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),xc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Wo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}xc(t,!0,r,null,i);break;case"together":xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Hr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function T2(e,t,r){switch(t.tag){case 3:rv(t),xs();break;case 5:Ty(t);break;case 1:ct(t.type)&&Fo(t);break;case 4:ah(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;le(Uo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(le(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?nv(e,t,r):(le(ge,ge.current&1),e=xr(e,t,r),e!==null?e.sibling:null);le(ge,ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(ge,ge.current),n)break;return null;case 22:case 23:return t.lanes=0,ev(e,t,r)}return xr(e,t,r)}var iv,Iu,av,ov;iv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Iu=function(){};av=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vn(sr.current);var i=null;switch(r){case"input":s=ru(e,s),n=ru(e,n),i=[];break;case"select":s=xe({},s,{value:void 0}),n=xe({},n,{value:void 0}),i=[];break;case"textarea":s=iu(e,s),n=iu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Mo)}ou(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ov=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xs(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function R2(e,t,r){var n=t.pendingProps;switch(Zd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return ct(t.type)&&$o(),We(t),null;case 3:return n=t.stateNode,bs(),ue(lt),ue(Je),lh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Uu(zt),zt=null))),Iu(e,t),We(t),null;case 5:oh(t);var s=vn(Ui.current);if(r=t.type,e!==null&&t.stateNode!=null)av(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return We(t),null}if(e=vn(sr.current),Oa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[er]=t,n[Vi]=i,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(s=0;s<ci.length;s++)ce(ci[s],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":Kf(n,i),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ce("invalid",n);break;case"textarea":Qf(n,i),ce("invalid",n)}ou(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Aa(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Aa(n.textContent,l,e),s=["children",""+l]):Ti.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ce("scroll",n)}switch(r){case"input":Sa(n),Jf(n,i,!0);break;case"textarea":Sa(n),Yf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Mo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[er]=t,e[Vi]=n,iv(e,t,!1,!1),t.stateNode=e;e:{switch(a=lu(r,n),r){case"dialog":ce("cancel",e),ce("close",e),s=n;break;case"iframe":case"object":case"embed":ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<ci.length;s++)ce(ci[s],e);s=n;break;case"source":ce("error",e),s=n;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=n;break;case"details":ce("toggle",e),s=n;break;case"input":Kf(e,n),s=ru(e,n),ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=xe({},n,{value:void 0}),ce("invalid",e);break;case"textarea":Qf(e,n),s=iu(e,n),ce("invalid",e);break;default:s=n}ou(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&D0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ri(e,c):typeof c=="number"&&Ri(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&$d(e,i,c,a))}switch(r){case"input":Sa(e),Jf(e,n,!1);break;case"textarea":Sa(e),Yf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?os(e,!!n.multiple,i,!1):n.defaultValue!=null&&os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Mo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)ov(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=vn(Ui.current),vn(sr.current),Oa(t)){if(n=t.stateNode,r=t.memoizedProps,n[er]=t,(i=n.nodeValue!==r)&&(e=vt,e!==null))switch(e.tag){case 3:Aa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Aa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[er]=t,t.stateNode=n}return We(t),null;case 13:if(ue(ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&yt!==null&&t.mode&1&&!(t.flags&128))Ny(),xs(),t.flags|=98560,i=!1;else if(i=Oa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[er]=t}else xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else zt!==null&&(Uu(zt),zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Te===0&&(Te=3):wh())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return bs(),Iu(e,t),e===null&&$i(t.stateNode.containerInfo),We(t),null;case 10:return nh(t.type._context),We(t),null;case 17:return ct(t.type)&&$o(),We(t),null;case 19:if(ue(ge),i=t.memoizedState,i===null)return We(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Xs(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Wo(e),a!==null){for(t.flags|=128,Xs(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>_s&&(t.flags|=128,n=!0,Xs(i,!1),t.lanes=4194304)}else{if(!n)if(e=Wo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!he)return We(t),null}else 2*Se()-i.renderingStartTime>_s&&r!==1073741824&&(t.flags|=128,n=!0,Xs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,r=ge.current,le(ge,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return xh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function A2(e,t){switch(Zd(t),t.tag){case 1:return ct(t.type)&&$o(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(),ue(lt),ue(Je),lh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oh(t),null;case 13:if(ue(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(ge),null;case 4:return bs(),null;case 10:return nh(t.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Da=!1,Ke=!1,O2=typeof WeakSet=="function"?WeakSet:Set,O=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){je(e,t,n)}else r.current=null}function Lu(e,t,r){try{r()}catch(n){je(e,t,n)}}var Vm=!1;function I2(e,t){if(vu=Io,e=hy(),Yd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xu={focusedElem:e,selectionRange:r},Io=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ft(t.type,v),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(j){je(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return p=Vm,Vm=!1,p}function vi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lu(t,r,i)}s=s.next}while(s!==n)}}function Nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Du(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lv(e){var t=e.alternate;t!==null&&(e.alternate=null,lv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[Vi],delete t[ju],delete t[g2],delete t[y2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cv(e){return e.tag===5||e.tag===3||e.tag===4}function Bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mo));else if(n!==4&&(e=e.child,e!==null))for(Mu(e,t,r),e=e.sibling;e!==null;)Mu(e,t,r),e=e.sibling}function $u(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($u(e,t,r),e=e.sibling;e!==null;)$u(e,t,r),e=e.sibling}var De=null,Bt=!1;function kr(e,t,r){for(r=r.child;r!==null;)uv(e,t,r),r=r.sibling}function uv(e,t,r){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(yl,r)}catch{}switch(r.tag){case 5:Ke||es(r,t);case 6:var n=De,s=Bt;De=null,kr(e,t,r),De=n,Bt=s,De!==null&&(Bt?(e=De,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):De.removeChild(r.stateNode));break;case 18:De!==null&&(Bt?(e=De,r=r.stateNode,e.nodeType===8?hc(e.parentNode,r):e.nodeType===1&&hc(e,r),Li(e)):hc(De,r.stateNode));break;case 4:n=De,s=Bt,De=r.stateNode.containerInfo,Bt=!0,kr(e,t,r),De=n,Bt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Lu(r,t,a),s=s.next}while(s!==n)}kr(e,t,r);break;case 1:if(!Ke&&(es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){je(r,t,l)}kr(e,t,r);break;case 21:kr(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,kr(e,t,r),Ke=n):kr(e,t,r);break;default:kr(e,t,r)}}function Um(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new O2),t.forEach(function(n){var s=z2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Bt=!1;break e;case 3:De=l.stateNode.containerInfo,Bt=!0;break e;case 4:De=l.stateNode.containerInfo,Bt=!0;break e}l=l.return}if(De===null)throw Error(T(160));uv(i,a,s),De=null,Bt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dv(t,e),t=t.sibling}function dv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Xt(e),n&4){try{vi(3,e,e.return),Nl(3,e)}catch(v){je(e,e.return,v)}try{vi(5,e,e.return)}catch(v){je(e,e.return,v)}}break;case 1:Dt(t,e),Xt(e),n&512&&r!==null&&es(r,r.return);break;case 5:if(Dt(t,e),Xt(e),n&512&&r!==null&&es(r,r.return),e.flags&32){var s=e.stateNode;try{Ri(s,"")}catch(v){je(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&O0(s,i),lu(l,a);var u=lu(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?$0(s,f):d==="dangerouslySetInnerHTML"?D0(s,f):d==="children"?Ri(s,f):$d(s,d,f,u)}switch(l){case"input":nu(s,i);break;case"textarea":I0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?os(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?os(s,!!i.multiple,i.defaultValue,!0):os(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vi]=i}catch(v){je(e,e.return,v)}}break;case 6:if(Dt(t,e),Xt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){je(e,e.return,v)}}break;case 3:if(Dt(t,e),Xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(v){je(e,e.return,v)}break;case 4:Dt(t,e),Xt(e);break;case 13:Dt(t,e),Xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yh=Se())),n&4&&Um(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||d,Dt(t,e),Ke=u):Dt(t,e),Xt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(f=O=d;O!==null;){switch(h=O,m=h.child,h.tag){case 0:case 11:case 14:case 15:vi(4,h,h.return);break;case 1:es(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){je(n,r,v)}}break;case 5:es(h,h.return);break;case 22:if(h.memoizedState!==null){Gm(f);continue}}m!==null?(m.return=h,O=m):Gm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=M0("display",a))}catch(v){je(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){je(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dt(t,e),Xt(e),n&4&&Um(e);break;case 21:break;default:Dt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cv(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ri(s,""),n.flags&=-33);var i=Bm(e);$u(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Bm(e);Mu(e,l,a);break;default:throw Error(T(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L2(e,t,r){O=e,hv(e)}function hv(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Da;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ke;l=Da;var u=Ke;if(Da=a,(Ke=c)&&!u)for(O=s;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?Wm(s):c!==null?(c.return=a,O=c):Wm(s);for(;i!==null;)O=i,hv(i),i=i.sibling;O=s,Da=l,Ke=u}zm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):zm(e)}}function zm(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Nl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ft(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Em(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Em(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Li(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ke||t.flags&512&&Du(t)}catch(h){je(t,t.return,h)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function Gm(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function Wm(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nl(4,t)}catch(c){je(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){je(t,s,c)}}var i=t.return;try{Du(t)}catch(c){je(t,i,c)}break;case 5:var a=t.return;try{Du(t)}catch(c){je(t,a,c)}}}catch(c){je(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var D2=Math.ceil,Ko=Nr.ReactCurrentDispatcher,ph=Nr.ReactCurrentOwner,At=Nr.ReactCurrentBatchConfig,Y=0,Oe=null,Ee=null,Ve=0,mt=0,ts=Xr(0),Te=0,Hi=null,Tn=0,kl=0,gh=0,xi=null,it=null,yh=0,_s=1/0,cr=null,Jo=!1,Fu=null,Gr=null,Ma=!1,$r=null,Qo=0,wi=0,Vu=null,po=-1,go=0;function rt(){return Y&6?Se():po!==-1?po:po=Se()}function Wr(e){return e.mode&1?Y&2&&Ve!==0?Ve&-Ve:x2.transition!==null?(go===0&&(go=Q0()),go):(e=ee,e!==0||(e=window.event,e=e===void 0?16:ny(e.type)),e):1}function Ht(e,t,r,n){if(50<wi)throw wi=0,Vu=null,Error(T(185));la(e,r,n),(!(Y&2)||e!==Oe)&&(e===Oe&&(!(Y&2)&&(kl|=r),Te===4&&Lr(e,Ve)),ut(e,n),r===1&&Y===0&&!(t.mode&1)&&(_s=Se()+500,jl&&Zr()))}function ut(e,t){var r=e.callbackNode;xj(e,t);var n=Oo(e,e===Oe?Ve:0);if(n===0)r!==null&&em(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&em(r),t===1)e.tag===0?v2(Hm.bind(null,e)):jy(Hm.bind(null,e)),m2(function(){!(Y&6)&&Zr()}),r=null;else{switch(Y0(n)){case 1:r=zd;break;case 4:r=K0;break;case 16:r=Ao;break;case 536870912:r=J0;break;default:r=Ao}r=wv(r,fv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function fv(e,t){if(po=-1,go=0,Y&6)throw Error(T(327));var r=e.callbackNode;if(hs()&&e.callbackNode!==r)return null;var n=Oo(e,e===Oe?Ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yo(e,n);else{t=n;var s=Y;Y|=2;var i=pv();(Oe!==e||Ve!==t)&&(cr=null,_s=Se()+500,jn(e,t));do try{F2();break}catch(l){mv(e,l)}while(!0);rh(),Ko.current=i,Y=s,Ee!==null?t=0:(Oe=null,Ve=0,t=Te)}if(t!==0){if(t===2&&(s=fu(e),s!==0&&(n=s,t=Bu(e,s))),t===1)throw r=Hi,jn(e,0),Lr(e,n),ut(e,Se()),r;if(t===6)Lr(e,n);else{if(s=e.current.alternate,!(n&30)&&!M2(s)&&(t=Yo(e,n),t===2&&(i=fu(e),i!==0&&(n=i,t=Bu(e,i))),t===1))throw r=Hi,jn(e,0),Lr(e,n),ut(e,Se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:un(e,it,cr);break;case 3:if(Lr(e,n),(n&130023424)===n&&(t=yh+500-Se(),10<t)){if(Oo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bu(un.bind(null,e,it,cr),t);break}un(e,it,cr);break;case 4:if(Lr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Wt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D2(n/1960))-n,10<n){e.timeoutHandle=bu(un.bind(null,e,it,cr),n);break}un(e,it,cr);break;case 5:un(e,it,cr);break;default:throw Error(T(329))}}}return ut(e,Se()),e.callbackNode===r?fv.bind(null,e):null}function Bu(e,t){var r=xi;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=Yo(e,t),e!==2&&(t=it,it=r,t!==null&&Uu(t)),e}function Uu(e){it===null?it=e:it.push.apply(it,e)}function M2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Kt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lr(e,t){for(t&=~gh,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),n=1<<r;e[r]=-1,t&=~n}}function Hm(e){if(Y&6)throw Error(T(327));hs();var t=Oo(e,0);if(!(t&1))return ut(e,Se()),null;var r=Yo(e,t);if(e.tag!==0&&r===2){var n=fu(e);n!==0&&(t=n,r=Bu(e,n))}if(r===1)throw r=Hi,jn(e,0),Lr(e,t),ut(e,Se()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,it,cr),ut(e,Se()),null}function vh(e,t){var r=Y;Y|=1;try{return e(t)}finally{Y=r,Y===0&&(_s=Se()+500,jl&&Zr())}}function Rn(e){$r!==null&&$r.tag===0&&!(Y&6)&&hs();var t=Y;Y|=1;var r=At.transition,n=ee;try{if(At.transition=null,ee=1,e)return e()}finally{ee=n,At.transition=r,Y=t,!(Y&6)&&Zr()}}function xh(){mt=ts.current,ue(ts)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,f2(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(Zd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$o();break;case 3:bs(),ue(lt),ue(Je),lh();break;case 5:oh(n);break;case 4:bs();break;case 13:ue(ge);break;case 19:ue(ge);break;case 10:nh(n.type._context);break;case 22:case 23:xh()}r=r.return}if(Oe=e,Ee=e=Hr(e.current,null),Ve=mt=t,Te=0,Hi=null,gh=kl=Tn=0,it=xi=null,yn!==null){for(t=0;t<yn.length;t++)if(r=yn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}yn=null}return e}function mv(e,t){do{var r=Ee;try{if(rh(),ho.current=qo,Ho){for(var n=ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ho=!1}if(Pn=0,Re=Pe=ve=null,yi=!1,zi=0,ph.current=null,r===null||r.return===null){Te=1,Hi=t,Ee=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Ve,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Om(a);if(m!==null){m.flags&=-257,Im(m,a,l,i,t),m.mode&1&&Am(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){Am(i,u,t),wh();break e}c=Error(T(426))}}else if(he&&l.mode&1){var w=Om(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Im(w,a,l,i,t),eh(js(c,l));break e}}i=c=js(c,l),Te!==4&&(Te=2),xi===null?xi=[i]:xi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Yy(i,c,t);km(i,g);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gr===null||!Gr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Xy(i,l,t);km(i,j);break e}}i=i.return}while(i!==null)}yv(r)}catch(_){t=_,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function pv(){var e=Ko.current;return Ko.current=qo,e===null?qo:e}function wh(){(Te===0||Te===3||Te===2)&&(Te=4),Oe===null||!(Tn&268435455)&&!(kl&268435455)||Lr(Oe,Ve)}function Yo(e,t){var r=Y;Y|=2;var n=pv();(Oe!==e||Ve!==t)&&(cr=null,jn(e,t));do try{$2();break}catch(s){mv(e,s)}while(!0);if(rh(),Y=r,Ko.current=n,Ee!==null)throw Error(T(261));return Oe=null,Ve=0,Te}function $2(){for(;Ee!==null;)gv(Ee)}function F2(){for(;Ee!==null&&!uj();)gv(Ee)}function gv(e){var t=xv(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?yv(e):Ee=t,ph.current=null}function yv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=A2(r,t),r!==null){r.flags&=32767,Ee=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ee=null;return}}else if(r=R2(r,t,mt),r!==null){Ee=r;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Te===0&&(Te=5)}function un(e,t,r){var n=ee,s=At.transition;try{At.transition=null,ee=1,V2(e,t,r,n)}finally{At.transition=s,ee=n}return null}function V2(e,t,r,n){do hs();while($r!==null);if(Y&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wj(e,i),e===Oe&&(Ee=Oe=null,Ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ma||(Ma=!0,wv(Ao,function(){return hs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=At.transition,At.transition=null;var a=ee;ee=1;var l=Y;Y|=4,ph.current=null,I2(e,r),dv(r,e),a2(xu),Io=!!vu,xu=vu=null,e.current=r,L2(r),dj(),Y=l,ee=a,At.transition=i}else e.current=r;if(Ma&&(Ma=!1,$r=e,Qo=s),i=e.pendingLanes,i===0&&(Gr=null),mj(r.stateNode),ut(e,Se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jo)throw Jo=!1,e=Fu,Fu=null,e;return Qo&1&&e.tag!==0&&hs(),i=e.pendingLanes,i&1?e===Vu?wi++:(wi=0,Vu=e):wi=0,Zr(),null}function hs(){if($r!==null){var e=Y0(Qo),t=At.transition,r=ee;try{if(At.transition=null,ee=16>e?16:e,$r===null)var n=!1;else{if(e=$r,$r=null,Qo=0,Y&6)throw Error(T(331));var s=Y;for(Y|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:vi(8,d,i)}var f=d.child;if(f!==null)f.return=d,O=f;else for(;O!==null;){d=O;var h=d.sibling,m=d.return;if(lv(d),d===u){O=null;break}if(h!==null){h.return=m,O=h;break}O=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var y=e.current;for(O=y;O!==null;){a=O;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,O=x;else e:for(a=y;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nl(9,l)}}catch(_){je(l,l.return,_)}if(l===a){O=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,O=j;break e}O=l.return}}if(Y=s,Zr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(yl,e)}catch{}n=!0}return n}finally{ee=r,At.transition=t}}return!1}function qm(e,t,r){t=js(r,t),t=Yy(e,t,1),e=zr(e,t,1),t=rt(),e!==null&&(la(e,1,t),ut(e,t))}function je(e,t,r){if(e.tag===3)qm(e,e,r);else for(;t!==null;){if(t.tag===3){qm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gr===null||!Gr.has(n))){e=js(r,e),e=Xy(t,e,1),t=zr(t,e,1),e=rt(),t!==null&&(la(t,1,e),ut(t,e));break}}t=t.return}}function B2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Oe===e&&(Ve&r)===r&&(Te===4||Te===3&&(Ve&130023424)===Ve&&500>Se()-yh?jn(e,0):gh|=r),ut(e,t)}function vv(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var r=rt();e=vr(e,t),e!==null&&(la(e,t,r),ut(e,r))}function U2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vv(e,r)}function z2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),vv(e,r)}var xv;xv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)at=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return at=!1,T2(e,t,r);at=!!(e.flags&131072)}else at=!1,he&&t.flags&1048576&&_y(t,Bo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mo(e,t),e=t.pendingProps;var s=vs(t,Je.current);ds(t,r),s=uh(null,t,n,e,s,r);var i=dh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(n)?(i=!0,Fo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ih(t),s.updater=Sl,t.stateNode=s,s._reactInternals=t,Cu(t,n,e,r),t=Ru(null,t,n,!0,i,r)):(t.tag=0,he&&i&&Xd(t),Ze(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=W2(n),e=Ft(n,e),s){case 0:t=Tu(null,t,n,e,r);break e;case 1:t=Mm(null,t,n,e,r);break e;case 11:t=Lm(null,t,n,e,r);break e;case 14:t=Dm(null,t,n,Ft(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),Tu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),Mm(e,t,n,s,r);case 3:e:{if(rv(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Py(e,t),Go(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=js(Error(T(423)),t),t=$m(e,t,n,r,s);break e}else if(n!==s){s=js(Error(T(424)),t),t=$m(e,t,n,r,s);break e}else for(yt=Ur(t.stateNode.containerInfo.firstChild),vt=t,he=!0,zt=null,r=Ey(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xs(),n===s){t=xr(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return Ty(t),e===null&&Nu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,wu(n,s)?a=null:i!==null&&wu(n,i)&&(t.flags|=32),tv(e,t),Ze(e,t,a,r),t.child;case 6:return e===null&&Nu(t),null;case 13:return nv(e,t,r);case 4:return ah(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ws(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),Lm(e,t,n,s,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,le(Uo,n._currentValue),n._currentValue=a,i!==null)if(Kt(i.value,a)){if(i.children===s.children&&!lt.current){t=xr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=mr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ku(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ku(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ze(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ds(t,r),s=It(s),n=n(s),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,s=Ft(n,t.pendingProps),s=Ft(n.type,s),Dm(e,t,n,s,r);case 15:return Zy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),mo(e,t),t.tag=1,ct(n)?(e=!0,Fo(t)):e=!1,ds(t,r),Qy(t,n,s),Cu(t,n,s,r),Ru(null,t,n,!0,e,r);case 19:return sv(e,t,r);case 22:return ev(e,t,r)}throw Error(T(156,t.tag))};function wv(e,t){return q0(e,t)}function G2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,r,n){return new G2(e,t,r,n)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W2(e){if(typeof e=="function")return bh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vd)return 11;if(e===Bd)return 14}return 2}function Hr(e,t){var r=e.alternate;return r===null?(r=Tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yo(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")bh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wn:return _n(r.children,s,i,t);case Fd:a=8,s|=8;break;case Xc:return e=Tt(12,r,t,s|2),e.elementType=Xc,e.lanes=i,e;case Zc:return e=Tt(13,r,t,s),e.elementType=Zc,e.lanes=i,e;case eu:return e=Tt(19,r,t,s),e.elementType=eu,e.lanes=i,e;case T0:return El(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C0:a=10;break e;case P0:a=9;break e;case Vd:a=11;break e;case Bd:a=14;break e;case Rr:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Tt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function _n(e,t,r,n){return e=Tt(7,e,n,t),e.lanes=r,e}function El(e,t,r,n){return e=Tt(22,e,n,t),e.elementType=T0,e.lanes=r,e.stateNode={isHidden:!1},e}function wc(e,t,r){return e=Tt(6,e,null,t),e.lanes=r,e}function bc(e,t,r){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jh(e,t,r,n,s,i,a,l,c){return e=new H2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(i),e}function q2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bv(e){if(!e)return Jr;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(ct(r))return by(e,r,t)}return t}function jv(e,t,r,n,s,i,a,l,c){return e=jh(r,n,!0,e,s,i,a,l,c),e.context=bv(null),r=e.current,n=rt(),s=Wr(r),i=mr(n,s),i.callback=t??null,zr(r,i,s),e.current.lanes=s,la(e,s,n),ut(e,n),e}function Cl(e,t,r,n){var s=t.current,i=rt(),a=Wr(s);return r=bv(r),t.context===null?t.context=r:t.pendingContext=r,t=mr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zr(s,t,a),e!==null&&(Ht(e,s,a,i),uo(e,s,a)),a}function Xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _h(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function K2(){return null}var _v=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sh(e){this._internalRoot=e}Pl.prototype.render=Sh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Cl(e,t,null,null)};Pl.prototype.unmount=Sh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){Cl(null,e,null,null)}),t[yr]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ey();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ir.length&&t!==0&&t<Ir[r].priority;r++);Ir.splice(r,0,e),r===0&&ry(e)}};function Nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jm(){}function J2(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Xo(a);i.call(u)}}var a=jv(t,n,e,0,null,!1,!1,"",Jm);return e._reactRootContainer=a,e[yr]=a.current,$i(e.nodeType===8?e.parentNode:e),Rn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Xo(c);l.call(u)}}var c=jh(e,0,!1,null,null,!1,!1,"",Jm);return e._reactRootContainer=c,e[yr]=c.current,$i(e.nodeType===8?e.parentNode:e),Rn(function(){Cl(t,c,r,n)}),c}function Rl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Xo(a);l.call(c)}}Cl(t,a,e,s)}else a=J2(r,t,e,s,n);return Xo(a)}X0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=li(t.pendingLanes);r!==0&&(Gd(t,r|1),ut(t,Se()),!(Y&6)&&(_s=Se()+500,Zr()))}break;case 13:Rn(function(){var n=vr(e,1);if(n!==null){var s=rt();Ht(n,e,1,s)}}),_h(e,1)}};Wd=function(e){if(e.tag===13){var t=vr(e,134217728);if(t!==null){var r=rt();Ht(t,e,134217728,r)}_h(e,134217728)}};Z0=function(e){if(e.tag===13){var t=Wr(e),r=vr(e,t);if(r!==null){var n=rt();Ht(r,e,t,n)}_h(e,t)}};ey=function(){return ee};ty=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};uu=function(e,t,r){switch(t){case"input":if(nu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bl(n);if(!s)throw Error(T(90));A0(n),nu(n,s)}}}break;case"textarea":I0(e,r);break;case"select":t=r.value,t!=null&&os(e,!!r.multiple,t,!1)}};B0=vh;U0=Rn;var Q2={usingClientEntryPoint:!1,Events:[ua,Jn,bl,F0,V0,vh]},Zs={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W0(e),e===null?null:e.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{yl=$a.inject(Y2),nr=$a}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nh(t))throw Error(T(200));return q2(e,t,null,r)};bt.createRoot=function(e,t){if(!Nh(e))throw Error(T(299));var r=!1,n="",s=_v;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jh(e,1,!1,null,null,r,!1,n,s),e[yr]=t.current,$i(e.nodeType===8?e.parentNode:e),new Sh(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=W0(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Rn(e)};bt.hydrate=function(e,t,r){if(!Tl(t))throw Error(T(200));return Rl(null,e,t,!0,r)};bt.hydrateRoot=function(e,t,r){if(!Nh(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=_v;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=jv(t,null,e,1,r??null,s,!1,i,a),e[yr]=t.current,$i(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pl(t)};bt.render=function(e,t,r){if(!Tl(t))throw Error(T(200));return Rl(null,e,t,!1,r)};bt.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(T(40));return e._reactRootContainer?(Rn(function(){Rl(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1};bt.unstable_batchedUpdates=vh;bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tl(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Rl(e,t,r,!1,n)};bt.version="18.3.1-next-f1338f8080-20240426";function Sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sv)}catch(e){console.error(e)}}Sv(),S0.exports=bt;var X2=S0.exports,Nv,Qm=X2;Nv=Qm.createRoot,Qm.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ym="popstate";function Z2(e={}){function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return zu("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:qi(s)}return t_(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e_(){return Math.random().toString(36).substring(2,10)}function Xm(e,t){return{usr:e.state,key:e.key,idx:t}}function zu(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Is(t):t,state:r,key:t&&t.key||n||e_()}}function qi({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Is(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function t_(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let w=d(),g=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:g})}function h(w,g){l="PUSH";let y=zu(v.location,w,g);u=d()+1;let x=Xm(y,u),j=v.createHref(y);try{a.pushState(x,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function m(w,g){l="REPLACE";let y=zu(v.location,w,g);u=d();let x=Xm(y,u),j=v.createHref(y);a.replaceState(x,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function p(w){return r_(w)}let v={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ym,f),c=w,()=>{s.removeEventListener(Ym,f),c=null}},createHref(w){return t(s,w)},createURL:p,encodeLocation(w){let g=p(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(w){return a.go(w)}};return v}function r_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),me(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:qi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function kv(e,t,r="/"){return n_(e,t,r,!1)}function n_(e,t,r,n){let s=typeof t=="string"?Is(t):t,i=wr(s.pathname||"/",r);if(i==null)return null;let a=Ev(e);s_(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=p_(i);l=f_(a[c],u,n)}return l}function Ev(e,t=[],r=[],n="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;me(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=pr([n,d.relativePath]),h=r.concat(d);a.children&&a.children.length>0&&(me(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Ev(a.children,t,h,f,c)),!(a.path==null&&!a.index)&&t.push({path:f,score:d_(f,a.index),routesMeta:h})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of Cv(a.path))i(a,l,!0,u)}),t}function Cv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Cv(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function s_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:h_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var i_=/^:[\w-]+$/,a_=3,o_=2,l_=1,c_=10,u_=-2,Zm=e=>e==="*";function d_(e,t){let r=e.split("/"),n=r.length;return r.some(Zm)&&(n+=u_),t&&(n+=o_),r.filter(s=>!Zm(s)).reduce((s,i)=>s+(i_.test(i)?a_:i===""?l_:c_),n)}function h_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function f_(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Zo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Zo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:pr([i,f.pathname]),pathnameBase:w_(pr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=pr([i,f.pathnameBase]))}return a}function Zo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=m_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let p=l[h]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function m_(e,t=!1,r=!0){wt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function p_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var g_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y_=e=>g_.test(e);function v_(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Is(e):e,i;if(r)if(y_(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=ep(r.substring(1),"/"):i=ep(r,t)}else i=t;return{pathname:i,search:b_(n),hash:j_(s)}}function ep(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jc(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kh(e){let t=x_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Eh(e,t,r,n=!1){let s;typeof e=="string"?s=Is(e):(s={...e},me(!s.pathname||!s.pathname.includes("?"),jc("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),jc("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),jc("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=v_(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var pr=e=>e.join("/").replace(/\/\/+/g,"/"),w_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function __(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pv=["POST","PUT","PATCH","DELETE"];new Set(Pv);var S_=["GET",...Pv];new Set(S_);var Ls=b.createContext(null);Ls.displayName="DataRouter";var Al=b.createContext(null);Al.displayName="DataRouterState";b.createContext(!1);var Tv=b.createContext({isTransitioning:!1});Tv.displayName="ViewTransition";var N_=b.createContext(new Map);N_.displayName="Fetchers";var k_=b.createContext(null);k_.displayName="Await";var Jt=b.createContext(null);Jt.displayName="Navigation";var ha=b.createContext(null);ha.displayName="Location";var Qt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Qt.displayName="Route";var Ch=b.createContext(null);Ch.displayName="RouteError";function E_(e,{relative:t}={}){me(Ds(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Jt),{hash:s,pathname:i,search:a}=fa(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:pr([r,i])),n.createHref({pathname:l,search:a,hash:s})}function Ds(){return b.useContext(ha)!=null}function ar(){return me(Ds(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ha).location}var Rv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Av(e){b.useContext(Jt).static||b.useLayoutEffect(e)}function Qe(){let{isDataRoute:e}=b.useContext(Qt);return e?B_():C_()}function C_(){me(Ds(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Ls),{basename:t,navigator:r}=b.useContext(Jt),{matches:n}=b.useContext(Qt),{pathname:s}=ar(),i=JSON.stringify(kh(n)),a=b.useRef(!1);return Av(()=>{a.current=!0}),b.useCallback((c,u={})=>{if(wt(a.current,Rv),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Eh(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:pr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}b.createContext(null);function P_(){let{matches:e}=b.useContext(Qt),t=e[e.length-1];return t?t.params:{}}function fa(e,{relative:t}={}){let{matches:r}=b.useContext(Qt),{pathname:n}=ar(),s=JSON.stringify(kh(r));return b.useMemo(()=>Eh(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function T_(e,t){return Ov(e,t)}function Ov(e,t,r,n,s){var y;me(Ds(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Jt),{matches:a}=b.useContext(Qt),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let x=f&&f.path||"";Iv(u,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=ar(),m;if(t){let x=typeof t=="string"?Is(t):t;me(d==="/"||((y=x.pathname)==null?void 0:y.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=h;let p=m.pathname||"/",v=p;if(d!=="/"){let x=d.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=kv(e,{pathname:v});wt(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),wt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=L_(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:pr([d,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:pr([d,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),a,r,n,s);return t&&g?b.createElement(ha.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function R_(){let e=V_(),t=__(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}var A_=b.createElement(R_,null),O_=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Qt.Provider,{value:this.props.routeContext},b.createElement(Ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I_({routeContext:e,match:t,children:r}){let n=b.useContext(Ls);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Qt.Provider,{value:e},r)}function L_(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);me(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let m,p=!1,v=null,w=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||A_,l&&(c<0&&h===0?(Iv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):c===h&&(p=!0,w=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,h+1)),y=()=>{let x;return m?x=v:p?x=w:f.route.Component?x=b.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,b.createElement(I_,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(O_,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):y()},null)}function Ph(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(e){let t=b.useContext(Ls);return me(t,Ph(e)),t}function M_(e){let t=b.useContext(Al);return me(t,Ph(e)),t}function $_(e){let t=b.useContext(Qt);return me(t,Ph(e)),t}function Th(e){let t=$_(e),r=t.matches[t.matches.length-1];return me(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function F_(){return Th("useRouteId")}function V_(){var n;let e=b.useContext(Ch),t=M_("useRouteError"),r=Th("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function B_(){let{router:e}=D_("useNavigate"),t=Th("useNavigate"),r=b.useRef(!1);return Av(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{wt(r.current,Rv),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var tp={};function Iv(e,t,r){!t&&!tp[e]&&(tp[e]=!0,wt(!1,r))}b.memo(U_);function U_({routes:e,future:t,state:r,unstable_onError:n}){return Ov(e,void 0,r,n,t)}function Lv({to:e,replace:t,state:r,relative:n}){me(Ds(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Jt);wt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Qt),{pathname:a}=ar(),l=Qe(),c=Eh(e,kh(i),a,n==="path"),u=JSON.stringify(c);return b.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function He(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){me(!Ds(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=Is(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=b.useMemo(()=>{let p=wr(c,a);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:h},navigationType:n}},[a,c,u,d,f,h,n]);return wt(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(Jt.Provider,{value:l},b.createElement(ha.Provider,{children:t,value:m}))}function G_({children:e,location:t}){return T_(Gu(e),t)}function Gu(e,t=[]){let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,Gu(n.props.children,i));return}me(n.type===He,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Gu(n.props.children,i)),r.push(a)}),r}var vo="get",xo="application/x-www-form-urlencoded";function Ol(e){return e!=null&&typeof e.tagName=="string"}function W_(e){return Ol(e)&&e.tagName.toLowerCase()==="button"}function H_(e){return Ol(e)&&e.tagName.toLowerCase()==="form"}function q_(e){return Ol(e)&&e.tagName.toLowerCase()==="input"}function K_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J_(e,t){return e.button===0&&(!t||t==="_self")&&!K_(e)}function Wu(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Q_(e,t){let r=Wu(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Fa=null;function Y_(){if(Fa===null)try{new FormData(document.createElement("form"),0),Fa=!1}catch{Fa=!0}return Fa}var X_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _c(e){return e!=null&&!X_.has(e)?(wt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xo}"`),null):e}function Z_(e,t){let r,n,s,i,a;if(H_(e)){let l=e.getAttribute("action");n=l?wr(l,t):null,r=e.getAttribute("method")||vo,s=_c(e.getAttribute("enctype"))||xo,i=new FormData(e)}else if(W_(e)||q_(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?wr(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||vo,s=_c(e.getAttribute("formenctype"))||_c(l.getAttribute("enctype"))||xo,i=new FormData(l,e),!Y_()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Ol(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vo,n=null,s=xo,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eS(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function tS(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function nS(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await tS(i,r);return a.links?a.links():[]}return[]}));return oS(n.flat(1).filter(rS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rp(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function sS(e,t,{includeHydrateFallback:r}={}){return iS(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function iS(e){return[...new Set(e)]}function aS(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function oS(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(aS(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Dv(){let e=b.useContext(Ls);return Rh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lS(){let e=b.useContext(Al);return Rh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ah=b.createContext(void 0);Ah.displayName="FrameworkContext";function Mv(){let e=b.useContext(Ah);return Rh(e,"You must render this element inside a <HydratedRouter> element"),e}function cS(e,t){let r=b.useContext(Ah),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let v=g=>{g.forEach(y=>{a(y.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(n){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{s(!0)},p=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:ei(l,m),onBlur:ei(c,p),onMouseEnter:ei(u,m),onMouseLeave:ei(d,p),onTouchStart:ei(f,m)}]:[!1,h,{}]}function ei(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function uS({page:e,...t}){let{router:r}=Dv(),n=b.useMemo(()=>kv(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(hS,{page:e,matches:n,...t}):null}function dS(e){let{manifest:t,routeModules:r}=Mv(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return nS(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function hS({page:e,matches:t,...r}){let n=ar(),{manifest:s,routeModules:i}=Mv(),{basename:a}=Dv(),{loaderData:l,matches:c}=lS(),u=b.useMemo(()=>rp(e,t,c,s,n,"data"),[e,t,c,s,n]),d=b.useMemo(()=>rp(e,t,c,s,n,"assets"),[e,t,c,s,n]),f=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,v=!1;if(t.forEach(g=>{var x;let y=s.routes[g.route.id];!y||!y.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((x=i[g.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?v=!0:p.add(g.route.id))}),p.size===0)return[];let w=eS(e,a,"data");return v&&p.size>0&&w.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[a,l,n,s,u,t,e,i]),h=b.useMemo(()=>sS(d,s),[d,s]),m=dS(d);return b.createElement(b.Fragment,null,f.map(p=>b.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>b.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:v})=>b.createElement("link",{key:p,nonce:r.nonce,...v})))}function fS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var $v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$v&&(window.__reactRouterVersion="7.9.6")}catch{}function mS({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=Z2({window:r,v5Compat:!0}));let s=n.current,[i,a]=b.useState({action:s.action,location:s.location}),l=b.useCallback(c=>{b.startTransition(()=>a(c))},[a]);return b.useLayoutEffect(()=>s.listen(l),[s,l]),b.createElement(z_,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:p}=b.useContext(Jt),v=typeof u=="string"&&Fv.test(u),w,g=!1;if(typeof u=="string"&&v&&(w=u,$v))try{let C=new URL(window.location.href),R=u.startsWith("//")?new URL(C.protocol+u):new URL(u),D=wr(R.pathname,p);R.origin===C.origin&&D!=null?u=D+R.search+R.hash:g=!0}catch{wt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=E_(u,{relative:s}),[x,j,_]=cS(n,h),S=vS(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function N(C){t&&t(C),C.defaultPrevented||S(C)}let k=b.createElement("a",{...h,..._,href:w||y,onClick:g||i?t:N,ref:fS(m,j),target:c,"data-discover":!v&&r==="render"?"true":void 0});return x&&!v?b.createElement(b.Fragment,null,k,b.createElement(uS,{page:y})):k});q.displayName="Link";var pS=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let f=fa(a,{relative:u.relative}),h=ar(),m=b.useContext(Al),{navigator:p,basename:v}=b.useContext(Jt),w=m!=null&&_S(f)&&l===!0,g=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,y=h.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(y=y.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&v&&(x=wr(x,v)||x);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let _=y===g||!s&&y.startsWith(g)&&y.charAt(j)==="/",S=x!=null&&(x===g||!s&&x.startsWith(g)&&x.charAt(g.length)==="/"),N={isActive:_,isPending:S,isTransitioning:w},k=_?t:void 0,C;typeof n=="function"?C=n(N):C=[n,_?"active":null,S?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(N):i;return b.createElement(q,{...u,"aria-current":k,className:C,ref:d,style:R,to:a,viewTransition:l},typeof c=="function"?c(N):c)});pS.displayName="NavLink";var gS=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=vo,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let p=bS(),v=jS(l,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&Fv.test(l),y=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let j=x.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||a;p(j||x.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return b.createElement("form",{ref:m,method:w,action:v,onSubmit:n?c:y,...h,"data-discover":!g&&e==="render"?"true":void 0})});gS.displayName="Form";function yS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vv(e){let t=b.useContext(Ls);return me(t,yS(e)),t}function vS(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=Qe(),c=ar(),u=fa(e,{relative:i});return b.useCallback(d=>{if(J_(d,t)){d.preventDefault();let f=r!==void 0?r:qi(c)===qi(u);l(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,r,n,t,e,s,i,a])}function Il(e){wt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Wu(e)),r=b.useRef(!1),n=ar(),s=b.useMemo(()=>Q_(n.search,r.current?null:t.current),[n.search]),i=Qe(),a=b.useCallback((l,c)=>{const u=Wu(typeof l=="function"?l(new URLSearchParams(s)):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var xS=0,wS=()=>`__${String(++xS)}__`;function bS(){let{router:e}=Vv("useSubmit"),{basename:t}=b.useContext(Jt),r=F_();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=Z_(n,t);if(s.navigate===!1){let d=s.fetcherKey||wS();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function jS(e,{relative:t}={}){let{basename:r}=b.useContext(Jt),n=b.useContext(Qt);me(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...fa(e||".",{relative:t})},a=ar();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:pr([r,i.pathname])),qi(i)}function _S(e,{relative:t}={}){let r=b.useContext(Tv);me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Vv("useViewTransitionState"),s=fa(e,{relative:t});if(!r.isTransitioning)return!1;let i=wr(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=wr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zo(s.pathname,a)!=null||Zo(s.pathname,i)!=null}var Hu=function(e,t){return Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Hu(e,t)};function Bv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var el=function(){return el=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},el.apply(this,arguments)};function Ms(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Uv(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function zv(e,t){return function(r,n){t(r,n,e)}}function Gv(e,t,r,n,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var v in n)p[v]=v==="access"?{}:n[v];for(var v in n.access)p.access[v]=n.access[v];p.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var w=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=a(w.get))&&(d.get=f),(f=a(w.set))&&(d.set=f),(f=a(w.init))&&s.unshift(f)}else(f=a(w))&&(l==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function Wv(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Hv(e){return typeof e=="symbol"?e:"".concat(e)}function qv(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Kv(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function L(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Jv(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ll=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Qv(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ll(t,e,r)}function tl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Yv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Oh(arguments[t]));return e}function Xv(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function Zv(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ss(e){return this instanceof Ss?(this.v=e,this):new Ss(e)}function ex(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(m){return function(p){return Promise.resolve(p).then(m,f)}}function l(m,p){n[m]&&(s[m]=function(v){return new Promise(function(w,g){i.push([m,v,w,g])>1||c(m,v)})},p&&(s[m]=p(s[m])))}function c(m,p){try{u(n[m](p))}catch(v){h(i[0][3],v)}}function u(m){m.value instanceof Ss?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,p){m(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function tx(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:Ss(e[s](a)),done:!1}:i?i(a):a}:i}}function rx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof tl=="function"?tl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,c){a=e[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function nx(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var SS=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},qu=function(e){return qu=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},qu(e)};function sx(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=qu(e),n=0;n<r.length;n++)r[n]!=="default"&&Ll(t,e,r[n]);return SS(t,e),t}function ix(e){return e&&e.__esModule?e:{default:e}}function ax(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function ox(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function lx(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function cx(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var NS=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function ux(e){function t(i){e.error=e.hasError?new NS(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function dx(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const kS={__extends:Bv,__assign:el,__rest:Ms,__decorate:Uv,__param:zv,__esDecorate:Gv,__runInitializers:Wv,__propKey:Hv,__setFunctionName:qv,__metadata:Kv,__awaiter:L,__generator:Jv,__createBinding:Ll,__exportStar:Qv,__values:tl,__read:Oh,__spread:Yv,__spreadArrays:Xv,__spreadArray:Zv,__await:Ss,__asyncGenerator:ex,__asyncDelegator:tx,__asyncValues:rx,__makeTemplateObject:nx,__importStar:sx,__importDefault:ix,__classPrivateFieldGet:ax,__classPrivateFieldSet:ox,__classPrivateFieldIn:lx,__addDisposableResource:cx,__disposeResources:ux,__rewriteRelativeImportExtension:dx},ES=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cx,get __assign(){return el},__asyncDelegator:tx,__asyncGenerator:ex,__asyncValues:rx,__await:Ss,__awaiter:L,__classPrivateFieldGet:ax,__classPrivateFieldIn:lx,__classPrivateFieldSet:ox,__createBinding:Ll,__decorate:Uv,__disposeResources:ux,__esDecorate:Gv,__exportStar:Qv,__extends:Bv,__generator:Jv,__importDefault:ix,__importStar:sx,__makeTemplateObject:nx,__metadata:Kv,__param:zv,__propKey:Hv,__read:Oh,__rest:Ms,__rewriteRelativeImportExtension:dx,__runInitializers:Wv,__setFunctionName:qv,__spread:Yv,__spreadArray:Zv,__spreadArrays:Xv,__values:tl,default:kS},Symbol.toStringTag,{value:"Module"})),CS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ih extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class PS extends Ih{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class np extends Ih{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sp extends Ih{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ku;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ku||(Ku={}));class TS{constructor(t,{headers:r={},customFetch:n,region:s=Ku.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=CS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return L(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let w=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const g=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:v,signal:w}).catch(_=>{throw new PS(_)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new np(g);if(!g.ok)throw new sp(g);let x=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield g.json():x==="application/octet-stream"||x==="application/pdf"?j=yield g.blob():x==="text/event-stream"?j=g:x==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof sp||l instanceof np?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var et={};const $s=k1(ES);var Va={},Ba={},Ua={},za={},Ga={},Wa={},ip;function hx(){if(ip)return Wa;ip=1,Object.defineProperty(Wa,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wa.default=e,Wa}var ap;function fx(){if(ap)return Ga;ap=1,Object.defineProperty(Ga,"__esModule",{value:!0});const t=$s.__importDefault(hx());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let m=null,p=null,v=null,w=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=_:p=JSON.parse(_))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,w=406,g="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{m=JSON.parse(x),Array.isArray(m)&&c.status===404&&(p=[],m=null,w=200,g="OK")}catch{c.status===404&&x===""?(w=204,g="No Content"):m={message:x}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,w=200,g="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:p,count:v,status:w,statusText:g}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f,h,m,p;let v="";const w=c==null?void 0:c.cause;if(w){const g=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",y=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";v=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,v+=`

Caused by: ${(h=w==null?void 0:w.name)!==null&&h!==void 0?h:"Error"}: ${g}`,y&&(v+=` (${y})`),w!=null&&w.stack&&(v+=`
${w.stack}`)}else v=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"FetchError"}: ${c==null?void 0:c.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Ga.default=r,Ga}var op;function mx(){if(op)return za;op=1,Object.defineProperty(za,"__esModule",{value:!0});const t=$s.__importDefault(fx());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return za.default=r,za}var lp;function Lh(){if(lp)return Ua;lp=1,Object.defineProperty(Ua,"__esModule",{value:!0});const t=$s.__importDefault(mx()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Ua.default=n,Ua}var cp;function px(){if(cp)return Ba;cp=1,Object.defineProperty(Ba,"__esModule",{value:!0});const t=$s.__importDefault(Lh());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ba.default=r,Ba}var up;function RS(){if(up)return Va;up=1,Object.defineProperty(Va,"__esModule",{value:!0});const e=$s,t=e.__importDefault(px()),r=e.__importDefault(Lh());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{h.searchParams.append(v,w)})):(f="POST",m=a);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Va.default=n,Va}Object.defineProperty(et,"__esModule",{value:!0});var gx=et.PostgrestError=kx=et.PostgrestBuilder=Sx=et.PostgrestTransformBuilder=jx=et.PostgrestFilterBuilder=wx=et.PostgrestQueryBuilder=vx=et.PostgrestClient=void 0;const Fs=$s,yx=Fs.__importDefault(RS());var vx=et.PostgrestClient=yx.default;const xx=Fs.__importDefault(px());var wx=et.PostgrestQueryBuilder=xx.default;const bx=Fs.__importDefault(Lh());var jx=et.PostgrestFilterBuilder=bx.default;const _x=Fs.__importDefault(mx());var Sx=et.PostgrestTransformBuilder=_x.default;const Nx=Fs.__importDefault(fx());var kx=et.PostgrestBuilder=Nx.default;const Ex=Fs.__importDefault(hx());gx=et.PostgrestError=Ex.default;var Cx=et.default={PostgrestClient:yx.default,PostgrestQueryBuilder:xx.default,PostgrestFilterBuilder:bx.default,PostgrestTransformBuilder:_x.default,PostgrestBuilder:Nx.default,PostgrestError:Ex.default};const AS=N1({__proto__:null,get PostgrestBuilder(){return kx},get PostgrestClient(){return vx},get PostgrestError(){return gx},get PostgrestFilterBuilder(){return jx},get PostgrestQueryBuilder(){return wx},get PostgrestTransformBuilder(){return Sx},default:Cx},[et]),{PostgrestClient:OS,PostgrestQueryBuilder:d5,PostgrestFilterBuilder:h5,PostgrestTransformBuilder:f5,PostgrestBuilder:m5,PostgrestError:p5}=Cx||AS;class IS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const LS="2.84.0",DS=`realtime-js/${LS}`,Px="1.0.0",MS="2.0.0",dp=Px,Ju=1e4,$S=1e3,FS=100;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var Ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ce||(Ce={}));var Ut;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ut||(Ut={}));var Qu;(function(e){e.websocket="websocket"})(Qu||(Qu={}));var mn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mn||(mn={}));class VS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,c.length),m.setUint8(p++,l.length),m.setUint8(p++,a.length),m.setUint8(p++,u.length),m.setUint8(p++,this.BINARY_ENCODING),Array.from(c,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(l,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(p++,w.charCodeAt(0))),Array.from(u,w=>m.setUint8(p++,w.charCodeAt(0)));var v=new Uint8Array(h.byteLength+d.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(d),h.byteLength),v.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(p),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,c.length),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,u.length),v.setUint8(w++,this.JSON_ENCODING),Array.from(c,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(w++,y.charCodeAt(0)));var g=new Uint8Array(p.byteLength+h.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(h),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+a));c=c+a;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,p={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(p.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Tx{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const hp=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=BS(a,e,t,s),i),{}):{}},BS=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Rx(i,a):Yu(a)},Rx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WS(t,r)}switch(e){case se.bool:return US(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return zS(t);case se.json:case se.jsonb:return GS(t);case se.timestamp:return HS(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Yu(t);default:return Yu(t)}},Yu=e=>e,US=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Rx(t,l))}return e},HS=e=>typeof e=="string"?e.replace(" ","T"):e,Ax=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sc{constructor(t,r,n={},s=Ju){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fp||(fp={}));class bi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=bi.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bi.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),v=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mp||(mp={}));var ji;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ji||(ji={}));var ur;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Dh{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sc(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new Tx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new bi(this),this.broadcastEndpointURL=Ax(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ce.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ji.PRESENCE]&&this.bindings[ji.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ur.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(ur.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<w;y++){const x=v[y],{filter:{event:j,schema:_,table:S,filter:N}}=x,k=m&&m[y];if(k&&k.event===j&&k.schema===_&&k.table===S&&k.filter===N)g.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=Ce.errored,t==null||t(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ur.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ce.errored,t==null||t(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ce.joined&&t===ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Sc(this,Ut.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ce.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sc(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>FS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ut;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,v,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,v,w,g,y,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:v,table:w,commit_timestamp:g,type:y,errors:x}=p;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Dh.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ut.close,{},t)}_onError(t){this._on(Ut.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hp(t.columns,t.old_record)),r}}const Nc=()=>{},Ha={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qS=[1e3,2e3,5e3,1e4],KS=1e4,JS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ju,this.transport=null,this.heartbeatIntervalMs=Ha.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nc,this.ref=0,this.reconnectTimer=null,this.vsn=dp,this.logger=Nc,this.conn=null,this.sendBuffer=[],this.serializer=new VS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Qu.websocket}`,this.httpEndpoint=Ax(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return mn.Connecting;case fn.open:return mn.Open;case fn.closing:return mn.Closing;default:return mn.Closed}}isConnected(){return this.connectionState()===mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Dh(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($S,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ha.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fn.open||this.conn.readyState===fn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ut.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([JS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:DS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ut.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Tx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ha.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ju,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ha.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Nc,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:dp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>qS[p-1]||KS,this.vsn){case Px:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,v)=>v(JSON.stringify(p)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(p,v)=>v(JSON.parse(p));break;case MS:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Mh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class YS extends Mh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xu extends Mh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const $h=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XS=()=>Response,Zu=e=>{if(Array.isArray(e))return e.map(r=>Zu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Zu(n)}),t},ZS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},eN=(e,t,r)=>L(void 0,void 0,void 0,function*(){const n=yield XS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new YS(kc(s),i,a))}).catch(s=>{t(new Xu(kc(s),s))}):t(new Xu(kc(e),e))}),tN=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(ZS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ma(e,t,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,tN(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>eN(c,l,n))})})}function Ki(e,t,r,n){return L(this,void 0,void 0,function*(){return ma(e,"GET",t,r,n)})}function Vt(e,t,r,n,s){return L(this,void 0,void 0,function*(){return ma(e,"POST",t,n,s,r)})}function ed(e,t,r,n,s){return L(this,void 0,void 0,function*(){return ma(e,"PUT",t,n,s,r)})}function rN(e,t,r,n){return L(this,void 0,void 0,function*(){return ma(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fh(e,t,r,n,s){return L(this,void 0,void 0,function*(){return ma(e,"DELETE",t,n,s,r)})}class nN{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}}var Ox;class sN{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Ox]="BlobDownloadBuilder",this.promise=null}asStream(){return new nN(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}}Ox=Symbol.toStringTag;const iN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aN{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=$h(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return L(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},pp),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ed:Vt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return L(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:pp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ed(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return L(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Mh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return L(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return L(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Vt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return L(this,void 0,void 0,function*(){try{const s=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Ki(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new sN(c,this.shouldThrowOnError)}info(t){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ki(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}exists(t){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield rN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n)&&n instanceof Xu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return L(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return L(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},iN),r),{prefix:t||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}listV2(t,r){return L(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ix="2.84.0",Lx={"X-Client-Info":`storage-js/${Ix}`};class oN{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lx),r),this.fetch=$h(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return L(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ki(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}getBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}createBucket(t){return L(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return L(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class lN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lx),r),this.fetch=$h(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}listBuckets(t){return L(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ki(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}}const Vh={"X-Client-Info":`storage-js/${Ix}`,"Content-Type":"application/json"};class Dx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ec extends Dx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cN extends Dx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gp;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gp||(gp={}));const Bh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dN=(e,t,r)=>L(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new Ec(yp(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ec(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ec(l,s,a))}}else t(new cN(yp(e),e))}),hN=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(uN(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function fN(e,t,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,hN(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>dN(c,l,n))})})}function gt(e,t,r,n,s){return L(this,void 0,void 0,function*(){return fN(e,"POST",t,n,s,r)})}class mN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return L(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return L(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}listIndexes(t){return L(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return L(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}class pN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return L(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getVectors(t){return L(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listVectors(t){return L(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield gt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}queryVectors(t){return L(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return L(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}}class gN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return L(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBuckets(){return L(this,arguments,void 0,function*(t={}){try{return{data:yield gt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}}class yN extends gN{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new vN(this.url,this.headers,t,this.fetch)}}class vN extends mN{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new xN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class xN extends pN{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wN extends oN{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new aN(this.url,this.headers,t,this.fetch)}get vectors(){return new yN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lN(this.url+"/iceberg",this.headers,this.fetch)}}const bN="2.84.0";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const jN={"X-Client-Info":`supabase-js-${ui}/${bN}`},_N={headers:jN},SN={schema:"public"},NN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kN={},EN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),CN=()=>Headers,PN=(e,t,r)=>{const n=EN(r),s=CN();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))}};function TN(e){return e.endsWith("/")?e:e+"/"}function RN(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function AN(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(TN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mx="2.84.0",Un=30*1e3,td=3,Cc=td*Un,ON="http://localhost:9999",IN="supabase.auth.token",LN={"X-Client-Info":`gotrue-js/${Mx}`},rd="X-Supabase-Api-Version",$x={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MN=10*60*1e3;class Ji extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $N extends Ji{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function FN(e){return $(e)&&e.name==="AuthApiError"}class pn extends Ji{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class en extends Ji{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ft extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VN(e){return $(e)&&e.name==="AuthSessionMissingError"}class Mn extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qa extends en{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ka extends en{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BN(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class vp extends en{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nd extends en{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Pc(e){return $(e)&&e.name==="AuthRetryableFetchError"}class xp extends en{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sd extends en{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wp=` 	
\r=`.split(""),UN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wp.length;t+=1)e[wp[t].charCodeAt(0)]=-2;for(let t=0;t<rl.length;t+=1)e[rl[t].charCodeAt(0)]=t;return e})();function bp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rl[n]),t.queuedBits-=6}}function Fx(e,t,r){const n=UN[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jp(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{WN(a,n,r)};for(let a=0;a<e.length;a+=1)Fx(e.charCodeAt(a),s,i);return t.join("")}function zN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GN(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}zN(n,t)}}function WN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Fx(e.charCodeAt(s),r,n);return new Uint8Array(t)}function HN(e){const t=[];return GN(e,r=>t.push(r)),new Uint8Array(t)}function xn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bp(s,r,n)),bp(null,r,n),t.join("")}function qN(e){return Math.round(Date.now()/1e3)+e}function KN(){return Symbol("auth-callback")}const Le=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},Vx=()=>{if(!Le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function JN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Bx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Er=async(e,t)=>{await e.removeItem(t)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dl.promiseConstructor=Promise;function Tc(e){const t=e.split(".");if(t.length!==3)throw new sd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!DN.test(t[n]))throw new sd("JWT not in base64url format");return{header:JSON.parse(jp(t[0])),payload:JSON.parse(jp(t[1])),signature:fs(t[2]),raw:{header:t[0],payload:t[1]}}}async function YN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XN(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function ZN(e){return("0"+e.toString(16)).substr(-2)}function ek(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ZN).join("")}async function tk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await tk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $n(e,t,r=!1){const n=ek();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zn(e,`${t}-code-verifier`,s);const i=await rk(n);return[i,n===i?"plain":"s256"]}const nk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sk(e){const t=e.headers.get(rd);if(!t||!t.match(nk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ik(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ak(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ok=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fn(e){if(!ok.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lk(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function _p(e){return JSON.parse(JSON.stringify(e))}const dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ck=[502,503,504];async function Sp(e){var t;if(!QN(e))throw new nd(dn(e),0);if(ck.includes(e.status))throw new nd(dn(e),e.status);let r;try{r=await e.json()}catch(i){throw new pn(dn(i),i)}let n;const s=sk(e);if(s&&s.getTime()>=$x["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xp(dn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new xp(dn(r),e.status,r.weak_password.reasons);throw new $N(dn(r),e.status||500,n)}const uk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function V(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[rd]||(i[rd]=$x["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await dk(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function dk(e,t,r,n,s,i){const a=uk(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new nd(dn(c),0)}if(l.ok||await Sp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Sp(c)}}function Mt(e){var t;let r=null;mk(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qN(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Np(e){const t=Mt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hk(e){return{data:e,error:null}}function fk(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Ms(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function kp(e){return e}function mk(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ac=["global","local","others"];class pk{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Bx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ac[0]){if(Ac.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ac.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ms(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kp});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fn(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fn(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Dr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fn(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fn(t.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fn(t.userId),Fn(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kp});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}}function Ep(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Vn={debug:!!(globalThis&&Vx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ux extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gk extends Ux{}async function yk(e,t,r){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function vk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function xk(e){return parseInt(e,16)}function wk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function bk(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=zx(e.address),p=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${m}

${v}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}g+=y}return`${w}
${g}`}class Ne extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class nl extends Ne{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function jk({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Gx(a)){if(i.rp.id!==a)return new Ne({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _k({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Gx(n)){if(r.rpId!==n)return new Ne({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Sk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Nk=new Sk;function kk(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ms(e,["challenge","user","excludeCredentials"]),i=fs(t).buffer,a=Object.assign(Object.assign({},r),{id:fs(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:fs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Ek(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ms(e,["challenge","allowCredentials"]),s=fs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:fs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Ck(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xn(new Uint8Array(s.authenticatorData)),clientDataJSON:xn(new Uint8Array(s.clientDataJSON)),signature:xn(new Uint8Array(s.signature)),userHandle:s.userHandle?xn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Cp(){var e,t;return!!(Le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Tk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nl("Browser returned unexpected credential type",t)}:{data:null,error:new nl("Empty credential response",t)}}catch(t){return{data:null,error:jk({error:t,options:e})}}}async function Rk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nl("Browser returned unexpected credential type",t)}:{data:null,error:new nl("Empty credential response",t)}}catch(t){return{data:null,error:_k({error:t,options:e})}}}const Ak={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ok={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sl(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=sl(l,a):n[i]=sl(a)}else n[i]=a}return n}function Ik(e,t){return sl(Ak,e,t||{})}function Lk(e,t){return sl(Ok,e,t||{})}class Dk{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??Nk.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Ik(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Tk({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Lk(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Rk(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return $(a)?{data:null,error:a}:{data:null,error:new pn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ji("rpId is required for WebAuthn authentication")};try{if(!Cp())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return $(a)?{data:null,error:a}:{data:null,error:new pn("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ji("rpId is required for WebAuthn registration")};try{if(!Cp())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return $(a)?{data:null,error:a}:{data:null,error:new pn("Unexpected error in register",a)}}}}vk();const Mk={url:ON,storageKey:IN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Pp(e,t,r){return await r()}const Bn={};class Qi{get jwks(){var t,r;return(r=(t=Bn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Bn[this.storageKey]=Object.assign(Object.assign({},Bn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Bn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bn[this.storageKey]=Object.assign(Object.assign({},Bn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Mk),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Qi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Le()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bx(i.fetch),this.lock=i.lock||Pp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Le()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yk:this.lock=Pp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Vx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ep(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ep(this.memoryStorage)),Le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Le()&&(r=JN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Le()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),BN(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?this._returnResult({error:r}):this._returnResult({error:new pn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mt}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await $n(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Mt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mt})}else throw new qa("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Np})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Np})}else throw new qa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Mn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:v,wallet:w,statement:g,options:y}=t;let x;if(Le())if(typeof w=="object")x=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")x=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),_=await x.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=zx(_[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await x.request({method:"eth_chainId"});N=xk(C)}const k={domain:j.host,address:S,statement:g,uri:j.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=bk(k),p=await x.request({method:"personal_sign",params:[wk(m),S]})}try{const{data:v,error:w}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Mt});if(w)throw w;if(!v||!v.session||!v.user){const g=new Mn;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if($(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,f,h,m;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:w,wallet:g,statement:y,options:x}=t;let j;if(Le())if(typeof g=="object")j=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)p=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:w,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:xn(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Mt});if(g)throw g;if(!w||!w.session||!w.user){const y=new Mn;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if($(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await sn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mt});if(await Er(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Mn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $n(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new qa("You must provide either an email or phone number.")}catch(l){if($(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Mt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if($(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await $n(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:hk});return!((i=u.data)===null||i===void 0)&&i.url&&Le()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if($(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ft;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if($(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new qa("You must provide either an email or phone number and a type")}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await sn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Rc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=lk(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dr})})}catch(r){if($(r))return VN(r)&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ft;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $n(this.storage,this.storageKey));const{data:u,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Dr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if($(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ft;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Tc(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ft;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Le())throw new Ka("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ka(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ka("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vp("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Ka("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if($(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(FN(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=KN(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await $n(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Le()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,f=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mt}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if($(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XN(async s=>(s>0&&await YN(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Pc(i)&&Date.now()+a-n<Un})}catch(n){if(this._debug(r,"error",n),$(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Le()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await zn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Rc()}else if(s&&!s.user&&!s.user){const a=await sn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Er(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,s)):s.user=Rc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Cc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Pc(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const a={data:null,error:i};return Pc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=_p(s);await zn(this.storage,this.storageKey,i)}else{const s=_p(r);await zn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Er(this.storage,this.storageKey),await Er(this.storage,this.storageKey+"-code-verifier"),await Er(this.storage,this.storageKey+"-user"),this.userStorage&&await Er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Le()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Un}ms, refresh threshold is ${td} ticks`),s<=td&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ux)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Le()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await $n(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Ck(t.webauthn.credential_response):Pk(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:kk(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Ek(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tc(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ft})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ft});const a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ft});const a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ft})})}catch(t){if($(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new ft})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+MN>s)return n;const{data:i,error:a}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Tc(n);r!=null&&r.allowExpired||ik(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=ak(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,HN(`${l}.${c}`)))throw new sd("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}}Qi.nextInstanceID={};const $k=Qi;class Fk extends $k{constructor(t){super(t)}}class Vk{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=AN(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:SN,realtime:kN,auth:Object.assign(Object.assign({},NN),{storageKey:c}),global:_N},d=RN(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=PN(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new OS(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new wN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new TS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fk({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new QS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bk=(e,t,r)=>new Vk(e,t,r);function Uk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Uk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zk="https://zyzoszfbwtryqiwmrkgm.supabase.co",Gk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5em9zemZid3RyeXFpd21ya2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODM5OTMsImV4cCI6MjA4NDU1OTk5M30._U2m-HjTsWOGU2fltAczSW0GJFvauCzdMFN8yUC0q7g",z=Bk(zk,Gk,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Wx=b.createContext(void 0);function Wk({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{z.auth.getSession().then(({data:{session:h}})=>{s(h),r((h==null?void 0:h.user)??null),a(!1)});const{data:{subscription:f}}=z.auth.onAuthStateChange((h,m)=>{(async()=>(s(m),r((m==null?void 0:m.user)??null)))()});return()=>f.unsubscribe()},[]);const d={user:t,session:n,loading:i,signUp:async(f,h)=>{const{error:m}=await z.auth.signUp({email:f,password:h});return{error:m}},signIn:async(f,h)=>{const{error:m}=await z.auth.signInWithPassword({email:f,password:h});return{error:m}},signOut:async()=>{const{error:f}=await z.auth.signOut();return{error:f}}};return o.jsx(Wx.Provider,{value:d,children:e})}function Yt(){const e=b.useContext(Wx);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Uh=b.createContext({});function pa(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const zh=typeof window<"u",Gh=zh?b.useLayoutEffect:b.useEffect,Ml=b.createContext(null);function Wh(e,t){e.indexOf(t)===-1&&e.push(t)}function $l(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const br=(e,t,r)=>r>t?t:r<e?e:r;let Hh=()=>{};const jr={},Hx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function qx(e){return typeof e=="object"&&e!==null}const Kx=e=>/^0[^.\s]+$/u.test(e);function qh(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ot=e=>e,Hk=(e,t)=>r=>t(e(r)),ga=(...e)=>e.reduce(Hk),Ns=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Kh{constructor(){this.subscriptions=[]}add(t){return Wh(this.subscriptions,t),()=>$l(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qt=e=>e*1e3,Rt=e=>e/1e3;function Jx(e,t){return t?e*(1e3/t):0}const qk=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},Qx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Kk=1e-7,Jk=12;function Qk(e,t,r,n,s){let i,a,l=0;do a=t+(r-t)/2,i=Qx(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>Kk&&++l<Jk);return a}function ya(e,t,r,n){if(e===t&&r===n)return Ot;const s=i=>Qk(i,0,1,e,r);return i=>i===0||i===1?i:Qx(s(i),t,n)}const Yx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Xx=e=>t=>1-e(1-t),Zx=ya(.33,1.53,.69,.99),Jh=Xx(Zx),ew=Yx(Jh),tw=e=>(e*=2)<1?.5*Jh(e):.5*(2-Math.pow(2,-10*(e-1))),Qh=e=>1-Math.sin(Math.acos(e)),rw=Xx(Qh),nw=Yx(Qh),Yk=ya(.42,0,1,1),Xk=ya(0,0,.58,1),sw=ya(.42,0,.58,1),iw=e=>Array.isArray(e)&&typeof e[0]!="number";function aw(e,t){return iw(e)?e[qk(0,e.length,t)]:e}const ow=e=>Array.isArray(e)&&typeof e[0]=="number",Zk={linear:Ot,easeIn:Yk,easeInOut:sw,easeOut:Xk,circIn:Qh,circInOut:nw,circOut:rw,backIn:Jh,backInOut:ew,backOut:Zx,anticipate:tw},eE=e=>typeof e=="string",Tp=e=>{if(ow(e)){Hh(e.length===4);const[t,r,n,s]=e;return ya(t,r,n,s)}else if(eE(e))return Zk[e];return e},Ja=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tE(e,t){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const p=h&&s?r:n;return f&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const rE=40;function lw(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Ja.reduce((x,j)=>(x[j]=tE(i),x),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,v=()=>{const x=jr.useManualTiming?s.timestamp:performance.now();r=!1,jr.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,rE),1)),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),m.process(s),p.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(v))},w=()=>{r=!0,n=!0,s.isProcessing||e(v)};return{schedule:Ja.reduce((x,j)=>{const _=a[j];return x[j]=(S,N=!1,k=!1)=>(r||w(),_.schedule(S,N,k)),x},{}),cancel:x=>{for(let j=0;j<Ja.length;j++)a[Ja[j]].cancel(x)},state:s,steps:a}}const{schedule:de,cancel:_r,state:Me,steps:Oc}=lw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ot,!0);let wo;function nE(){wo=void 0}const ot={now:()=>(wo===void 0&&ot.set(Me.isProcessing||jr.useManualTiming?Me.timestamp:performance.now()),wo),set:e=>{wo=e,queueMicrotask(nE)}},cw=e=>t=>typeof t=="string"&&t.startsWith(e),Yh=cw("--"),sE=cw("var(--"),Xh=e=>sE(e)?iE.test(e.split("/*")[0].trim()):!1,iE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yi={...Vs,transform:e=>br(0,1,e)},Qa={...Vs,default:1},_i=e=>Math.round(e*1e5)/1e5,Zh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aE(e){return e==null}const oE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ef=(e,t)=>r=>!!(typeof r=="string"&&oE.test(r)&&r.startsWith(e)||t&&!aE(r)&&Object.prototype.hasOwnProperty.call(r,t)),uw=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,l]=n.match(Zh);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},lE=e=>br(0,255,e),Ic={...Vs,transform:e=>Math.round(lE(e))},wn={test:ef("rgb","red"),parse:uw("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ic.transform(e)+", "+Ic.transform(t)+", "+Ic.transform(r)+", "+_i(Yi.transform(n))+")"};function cE(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const id={test:ef("#"),parse:cE,transform:wn.transform},va=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Tr=va("deg"),ir=va("%"),B=va("px"),uE=va("vh"),dE=va("vw"),Rp={...ir,parse:e=>ir.parse(e)/100,transform:e=>ir.transform(e*100)},rs={test:ef("hsl","hue"),parse:uw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ir.transform(_i(t))+", "+ir.transform(_i(r))+", "+_i(Yi.transform(n))+")"},ke={test:e=>wn.test(e)||id.test(e)||rs.test(e),parse:e=>wn.test(e)?wn.parse(e):rs.test(e)?rs.parse(e):id.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wn.transform(e):rs.transform(e),getAnimatableNone:e=>{const t=ke.parse(e);return t.alpha=0,ke.transform(t)}},hE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fE(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zh))==null?void 0:t.length)||0)+(((r=e.match(hE))==null?void 0:r.length)||0)>0}const dw="number",hw="color",mE="var",pE="var(",Ap="${}",gE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xi(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(gE,c=>(ke.test(c)?(n.color.push(i),s.push(hw),r.push(ke.parse(c))):c.startsWith(pE)?(n.var.push(i),s.push(mE),r.push(c)):(n.number.push(i),s.push(dw),r.push(parseFloat(c))),++i,Ap)).split(Ap);return{values:r,split:l,indexes:n,types:s}}function fw(e){return Xi(e).values}function mw(e){const{split:t,types:r}=Xi(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const l=r[a];l===dw?i+=_i(s[a]):l===hw?i+=ke.transform(s[a]):i+=s[a]}return i}}const yE=e=>typeof e=="number"?0:ke.test(e)?ke.getAnimatableNone(e):e;function vE(e){const t=fw(e);return mw(e)(t.map(yE))}const Qr={test:fE,parse:fw,createTransformer:mw,getAnimatableNone:vE};function Lc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xE({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Lc(c,l,e+1/3),i=Lc(c,l,e),a=Lc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function il(e,t){return r=>r>0?t:e}const fe=(e,t,r)=>e+(t-e)*r,Dc=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},wE=[id,wn,rs],bE=e=>wE.find(t=>t.test(e));function Op(e){const t=bE(e);if(!t)return!1;let r=t.parse(e);return t===rs&&(r=xE(r)),r}const Ip=(e,t)=>{const r=Op(e),n=Op(t);if(!r||!n)return il(e,t);const s={...r};return i=>(s.red=Dc(r.red,n.red,i),s.green=Dc(r.green,n.green,i),s.blue=Dc(r.blue,n.blue,i),s.alpha=fe(r.alpha,n.alpha,i),wn.transform(s))},ad=new Set(["none","hidden"]);function jE(e,t){return ad.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function _E(e,t){return r=>fe(e,t,r)}function tf(e){return typeof e=="number"?_E:typeof e=="string"?Xh(e)?il:ke.test(e)?Ip:kE:Array.isArray(e)?pw:typeof e=="object"?ke.test(e)?Ip:SE:il}function pw(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>tf(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function SE(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=tf(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function NE(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][n[i]],l=e.values[a]??0;r[s]=l,n[i]++}return r}const kE=(e,t)=>{const r=Qr.createTransformer(t),n=Xi(e),s=Xi(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?ad.has(e)&&!s.values.length||ad.has(t)&&!n.values.length?jE(e,t):ga(pw(NE(n,s),s.values),r):il(e,t)};function gw(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?fe(e,t,r):tf(e)(e,t)}const EE=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>de.update(t,r),stop:()=>_r(t),now:()=>Me.isProcessing?Me.timestamp:ot.now()}},yw=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},al=2e4;function rf(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<al;)t+=r,n=e.next(t);return t>=al?1/0:t}function vw(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(rf(n),al);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Rt(s)}}const CE=5;function xw(e,t,r){const n=Math.max(t-CE,0);return Jx(r-e(n),t-n)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mc=.001;function PE({duration:e=be.duration,bounce:t=be.bounce,velocity:r=be.velocity,mass:n=be.mass}){let s,i,a=1-t;a=br(be.minDamping,be.maxDamping,a),e=br(be.minDuration,be.maxDuration,Rt(e)),a<1?(s=u=>{const d=u*a,f=d*e,h=d-r,m=od(u,a),p=Math.exp(-f);return Mc-h/m*p},i=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),v=od(Math.pow(u,2),a);return(-s(u)+Mc>0?-1:1)*((h-m)*p)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Mc+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=RE(s,i,l);if(e=qt(e),isNaN(c))return{stiffness:be.stiffness,damping:be.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const TE=12;function RE(e,t,r){let n=r;for(let s=1;s<TE;s++)n=n-e(n)/t(n);return n}function od(e,t){return e*Math.sqrt(1-t*t)}const AE=["duration","bounce"],OE=["stiffness","damping","mass"];function Lp(e,t){return t.some(r=>e[r]!==void 0)}function IE(e){let t={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...e};if(!Lp(e,OE)&&Lp(e,AE))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*br(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:be.mass,stiffness:s,damping:i}}else{const r=PE(e);t={...t,...r,mass:be.mass},t.isResolvedFromDuration=!0}return t}function Zi(e=be.visualDuration,t=be.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=IE({...r,velocity:-Rt(r.velocity||0)}),p=h||0,v=u/(2*Math.sqrt(c*d)),w=a-i,g=Rt(Math.sqrt(c/d)),y=Math.abs(w)<5;n||(n=y?be.restSpeed.granular:be.restSpeed.default),s||(s=y?be.restDelta.granular:be.restDelta.default);let x;if(v<1){const _=od(g,v);x=S=>{const N=Math.exp(-v*g*S);return a-N*((p+v*g*w)/_*Math.sin(_*S)+w*Math.cos(_*S))}}else if(v===1)x=_=>a-Math.exp(-g*_)*(w+(p+g*w)*_);else{const _=g*Math.sqrt(v*v-1);x=S=>{const N=Math.exp(-v*g*S),k=Math.min(_*S,300);return a-N*((p+v*g*w)*Math.sinh(k)+_*w*Math.cosh(k))/_}}const j={calculatedDuration:m&&f||null,next:_=>{const S=x(_);if(m)l.done=_>=f;else{let N=_===0?p:0;v<1&&(N=_===0?qt(p):xw(x,_,S));const k=Math.abs(N)<=n,C=Math.abs(a-S)<=s;l.done=k&&C}return l.value=l.done?a:S,l},toString:()=>{const _=Math.min(rf(j),al),S=yw(N=>j.next(_*N).value,_,30);return _+"ms "+S},toTransition:()=>{}};return j}Zi.applyToOptions=e=>{const t=vw(e,100,Zi);return e.ease=t.ease,e.duration=qt(t.duration),e.type="keyframes",e};function ld({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=k=>l!==void 0&&k<l||c!==void 0&&k>c,p=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let v=r*t;const w=f+v,g=a===void 0?w:a(w);g!==w&&(v=g-f);const y=k=>-v*Math.exp(-k/n),x=k=>g+y(k),j=k=>{const C=y(k),R=x(k);h.done=Math.abs(C)<=u,h.value=h.done?g:R};let _,S;const N=k=>{m(h.value)&&(_=k,S=Zi({keyframes:[h.value,p(h.value)],velocity:xw(x,k,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:k=>{let C=!1;return!S&&_===void 0&&(C=!0,j(k),N(k)),_!==void 0&&k>=_?S.next(k-_):(!C&&j(k),h)}}}function LE(e,t,r){const n=[],s=r||jr.mix||gw,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Ot:t;l=ga(c,l)}n.push(l)}return n}function ww(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Hh(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=LE(t,n,s),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Ns(e[f],e[f+1],d);return l[f](h)};return r?d=>u(br(e[0],e[i-1],d)):u}function bw(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ns(0,t,n);e.push(fe(r,1,s))}}function jw(e){const t=[0];return bw(t,e.length-1),t}function DE(e,t){return e.map(r=>r*t)}function ME(e,t){return e.map(()=>t||sw).splice(0,e.length-1)}function Si({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=iw(n)?n.map(Tp):Tp(n),i={done:!1,value:t[0]},a=DE(r&&r.length===t.length?r:jw(t),e),l=ww(a,t,{ease:Array.isArray(s)?s:ME(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const $E=e=>e!==null;function nf(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter($E),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const FE={decay:ld,inertia:ld,tween:Si,keyframes:Si,spring:Zi};function _w(e){typeof e.type=="string"&&(e.type=FE[e.type])}class sf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const VE=e=>e/100;class af extends sf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==ot.now()&&this.tick(ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_w(t);const{type:r=Si,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=r||Si;c!==Si&&typeof l[0]!="number"&&(this.mixKeyframes=ga(VE,gw(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=rf(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,j=n;if(f){const k=Math.min(this.currentTime,s)/l;let C=Math.floor(k),R=k%1;!R&&k>=1&&(R=1),R===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/l)):h==="mirror"&&(j=a)),x=br(0,1,R)*l}const _=y?{done:!1,value:d[0]}:j.next(x);i&&(_.value=i(_.value));let{done:S}=_;!y&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return N&&p!==ld&&(_.value=nf(d,this.options,w,this.speed)),v&&v(_.value),N&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return Rt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rt(t)}get time(){return Rt(this.currentTime)}set time(t){var r;t=qt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ot.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Rt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=EE,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function BE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bn=e=>e*180/Math.PI,cd=e=>{const t=bn(Math.atan2(e[1],e[0]));return ud(t)},UE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cd,rotateZ:cd,skewX:e=>bn(Math.atan(e[1])),skewY:e=>bn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ud=e=>(e=e%360,e<0&&(e+=360),e),Dp=cd,Mp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),$p=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mp,scaleY:$p,scale:e=>(Mp(e)+$p(e))/2,rotateX:e=>ud(bn(Math.atan2(e[6],e[5]))),rotateY:e=>ud(bn(Math.atan2(-e[2],e[0]))),rotateZ:Dp,rotate:Dp,skewX:e=>bn(Math.atan(e[4])),skewY:e=>bn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dd(e){return e.includes("scale")?1:0}function hd(e,t){if(!e||e==="none")return dd(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=zE,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=UE,s=l}if(!s)return dd(t);const i=n[t],a=s[1].split(",").map(WE);return typeof i=="function"?i(a):a[i]}const GE=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return hd(r,t)};function WE(e){return parseFloat(e.trim())}const Bs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Us=new Set(Bs),Fp=e=>e===Vs||e===B,HE=new Set(["x","y","z"]),qE=Bs.filter(e=>!HE.has(e));function KE(e){const t=[];return qE.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Sn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hd(t,"x"),y:(e,{transform:t})=>hd(t,"y")};Sn.translateX=Sn.x;Sn.translateY=Sn.y;const Nn=new Set;let fd=!1,md=!1,pd=!1;function Sw(){if(md){const e=Array.from(Nn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=KE(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var l;(l=n.getValue(i))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}md=!1,fd=!1,Nn.forEach(e=>e.complete(pd)),Nn.clear()}function Nw(){Nn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(md=!0)})}function JE(){pd=!0,Nw(),Sw(),pd=!1}class of{constructor(t,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Nn.add(this),fd||(fd=!0,de.read(Nw),de.resolveKeyframes(Sw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}BE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nn.delete(this)}cancel(){this.state==="scheduled"&&(Nn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QE=e=>e.startsWith("--");function YE(e,t,r){QE(t)?e.style.setProperty(t,r):e.style[t]=r}const XE=qh(()=>window.ScrollTimeline!==void 0),ZE={};function eC(e,t){const r=qh(e);return()=>ZE[t]??r()}const kw=eC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),di=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Vp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:di([0,.65,.55,1]),circOut:di([.55,0,1,.45]),backIn:di([.31,.01,.66,-.59]),backOut:di([.33,1.53,.69,.99])};function Ew(e,t){if(e)return typeof e=="function"?kw()?yw(e,t):"ease-out":ow(e)?di(e):Array.isArray(e)?e.map(r=>Ew(r,t)||Vp.easeOut):Vp[e]}function tC(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Ew(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function lf(e){return typeof e=="function"&&"applyToOptions"in e}function rC({type:e,...t}){return lf(e)&&kw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class nC extends sf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Hh(typeof t.type!="string");const u=rC(t);this.animation=tC(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=nf(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):YE(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Rt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rt(t)}get time(){return Rt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&XE()?(this.animation.timeline=t,Ot):r(this)}}const Cw={anticipate:tw,backInOut:ew,circInOut:nw};function sC(e){return e in Cw}function iC(e){typeof e.ease=="string"&&sC(e.ease)&&(e.ease=Cw[e.ease])}const Bp=10;class aC extends nC{constructor(t){iC(t),_w(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new af({...a,autoplay:!1}),c=qt(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Bp).value,l.sample(c).value,Bp),l.stop()}}const Up=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qr.test(e)||e==="0")&&!e.startsWith("url("));function oC(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function lC(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Up(s,t),l=Up(i,t);return!a||!l?!1:oC(e)||(r==="spring"||lf(r))&&n}function gd(e){e.duration=0,e.type="keyframes"}const cC=new Set(["opacity","clipPath","filter","transform"]),uC=qh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dC(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return uC()&&r&&cC.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const hC=40;class fC extends sf{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ot.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||of;this.keyframeResolver=new m(l,(v,w,g)=>this.onKeyframesResolved(v,w,h,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ot.now(),lC(t,i,a,l)||((jr.instantAnimations||!c)&&(d==null||d(nf(t,n,r))),t[0]=t[t.length-1],gd(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>hC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&dC(h)?new aC({...h,element:h.motionValue.owner.current}):new af(h);m.finished.then(()=>this.notifyFinished()).catch(Ot),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),JE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class mC{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,s)=>{n&&n(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return zp(this.animations,"duration")}get iterationDuration(){return zp(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function zp(e,t){let r=0;for(let n=0;n<e.length;n++){const s=e[n][t];s!==null&&s>r&&(r=s)}return r}class pC extends mC{then(t,r){return this.finished.finally(t).then(()=>{})}}const gC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yC(e){const t=gC.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Pw(e,t,r=1){const[n,s]=yC(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return Hx(a)?parseFloat(a):a}return Xh(s)?Pw(s,t,r+1):s}function cf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Tw=new Set(["width","height","top","left","right","bottom",...Bs]),vC={test:e=>e==="auto",parse:e=>e},Rw=e=>t=>t.test(e),Aw=[Vs,B,ir,Tr,dE,uE,vC],Gp=e=>Aw.find(Rw(e));function xC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Kx(e):!0}const wC=new Set(["brightness","contrast","saturate","opacity"]);function bC(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Zh)||[];if(!n)return e;const s=r.replace(n,"");let i=wC.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const jC=/\b([a-z-]*)\(.*?\)/gu,yd={...Qr,getAnimatableNone:e=>{const t=e.match(jC);return t?t.map(bC).join(" "):e}},Wp={...Vs,transform:Math.round},_C={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:Qa,scaleX:Qa,scaleY:Qa,scaleZ:Qa,skew:Tr,skewX:Tr,skewY:Tr,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:Yi,originX:Rp,originY:Rp,originZ:B},uf={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,backgroundPositionX:B,backgroundPositionY:B,..._C,zIndex:Wp,fillOpacity:Yi,strokeOpacity:Yi,numOctaves:Wp},SC={...uf,color:ke,backgroundColor:ke,outlineColor:ke,fill:ke,stroke:ke,borderColor:ke,borderTopColor:ke,borderRightColor:ke,borderBottomColor:ke,borderLeftColor:ke,filter:yd,WebkitFilter:yd},Ow=e=>SC[e];function Iw(e,t){let r=Ow(e);return r!==yd&&(r=Qr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const NC=new Set(["auto","none","0"]);function kC(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!NC.has(i)&&Xi(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Iw(r,s)}class EC extends of{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Xh(u))){const d=Pw(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Tw.has(n)||t.length!==2)return;const[s,i]=t,a=Gp(s),l=Gp(i);if(a!==l)if(Fp(a)&&Fp(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Sn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||xC(t[s]))&&n.push(s);n.length&&kC(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=Sn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function df(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Lw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Dw(e){return qx(e)&&"offsetHeight"in e}const Hp=30,CC=e=>!isNaN(parseFloat(e)),Ni={current:void 0};class PC{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=ot.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ot.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=CC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Kh);const n=this.events[t].add(r);return t==="change"?()=>{n(),de.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ni.current&&Ni.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hp)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Hp);return Jx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function An(e,t){return new PC(e,t)}const{schedule:hf}=lw(queueMicrotask,!1),$t={x:!1,y:!1};function Mw(){return $t.x||$t.y}function TC(e){return e==="x"||e==="y"?$t[e]?null:($t[e]=!0,()=>{$t[e]=!1}):$t.x||$t.y?null:($t.x=$t.y=!0,()=>{$t.x=$t.y=!1})}function $w(e,t){const r=df(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function qp(e){return!(e.pointerType==="touch"||Mw())}function RC(e,t,r={}){const[n,s,i]=$w(e,r),a=l=>{if(!qp(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{qp(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const Fw=(e,t)=>t?e===t?!0:Fw(e,t.parentElement):!1,ff=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,AC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OC(e){return AC.has(e.tagName)||e.tabIndex!==-1}const bo=new WeakSet;function Kp(e){return t=>{t.key==="Enter"&&e(t)}}function $c(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const IC=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Kp(()=>{if(bo.has(r))return;$c(r,"down");const s=Kp(()=>{$c(r,"up")}),i=()=>$c(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Jp(e){return ff(e)&&!Mw()}function LC(e,t,r={}){const[n,s,i]=$w(e,r),a=l=>{const c=l.currentTarget;if(!Jp(l))return;bo.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),bo.has(c)&&bo.delete(c),Jp(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||Fw(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),Dw(l)&&(l.addEventListener("focus",u=>IC(u,s)),!OC(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function mf(e){return qx(e)&&"ownerSVGElement"in e}function Vw(e){return mf(e)&&e.tagName==="svg"}function DC(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],i=e[2+r],a=e[3+r],l=ww(s,i,a);return t?l(n):l}const Ae=e=>!!(e&&e.getVelocity),MC=[...Aw,ke,Qr],$C=e=>MC.find(Rw(e)),Fl=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Qp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FC(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Qp(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Qp(e[s],null)}}}}function VC(...e){return b.useCallback(FC(...e),e)}class BC extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=Dw(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UC({children:e,isPresent:t,anchorX:r,root:n}){const s=b.useId(),i=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(Fl),c=VC(i,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=a.current;if(t||!i.current||!u||!d)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const w=n??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(v)&&w.removeChild(v)}},[t]),o.jsx(BC,{isPresent:t,childRef:i,sizeRef:a,children:b.cloneElement(e,{ref:c})})}const zC=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=pa(GC),d=b.useId();let f=!0,h=b.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return i&&f&&(h={...h}),b.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),b.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(UC,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Ml.Provider,{value:h,children:e})};function GC(){return new Map}function Bw(e=!0){const t=b.useContext(Ml);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const Ya=e=>e.key||"";function Yp(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const ol=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=Bw(a),f=b.useMemo(()=>Yp(e),[e]),h=a&&!u?[]:f.map(Ya),m=b.useRef(!0),p=b.useRef(f),v=pa(()=>new Map),[w,g]=b.useState(f),[y,x]=b.useState(f);Gh(()=>{m.current=!1,p.current=f;for(let S=0;S<y.length;S++){const N=Ya(y[S]);h.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[y,h.length,h.join("-")]);const j=[];if(f!==w){let S=[...f];for(let N=0;N<y.length;N++){const k=y[N],C=Ya(k);h.includes(C)||(S.splice(N,0,k),j.push(k))}return i==="wait"&&j.length&&(S=j),x(Yp(S)),g(f),null}const{forceRender:_}=b.useContext(Uh);return o.jsx(o.Fragment,{children:y.map(S=>{const N=Ya(S),k=a&&!u?!1:f===y||h.includes(N),C=()=>{if(v.has(N))v.set(N,!0);else return;let R=!0;v.forEach(D=>{D||(R=!1)}),R&&(_==null||_(),x(p.current),a&&(d==null||d()),n&&n())};return o.jsx(zC,{isPresent:k,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:k?void 0:C,anchorX:l,children:S},N)})})},Uw=b.createContext({strict:!1}),Xp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ks={};for(const e in Xp)ks[e]={isEnabled:t=>Xp[e].some(r=>!!t[r])};function WC(e){for(const t in e)ks[t]={...ks[t],...e[t]}}const HC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ll(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HC.has(e)}let zw=e=>!ll(e);function qC(e){typeof e=="function"&&(zw=t=>t.startsWith("on")?!ll(t):e(t))}try{qC(require("@emotion/is-prop-valid").default)}catch{}function KC(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(zw(s)||r===!0&&ll(s)||!t&&!ll(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const Vl=b.createContext({});function Bl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ea(e){return typeof e=="string"||Array.isArray(e)}const pf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gf=["initial",...pf];function Ul(e){return Bl(e.animate)||gf.some(t=>ea(e[t]))}function Gw(e){return!!(Ul(e)||e.variants)}function JC(e,t){if(Ul(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ea(r)?r:void 0,animate:ea(n)?n:void 0}}return e.inherit!==!1?t:{}}function QC(e){const{initial:t,animate:r}=JC(e,b.useContext(Vl));return b.useMemo(()=>({initial:t,animate:r}),[Zp(t),Zp(r)])}function Zp(e){return Array.isArray(e)?e.join(" "):e}const ta={};function YC(e){for(const t in e)ta[t]=e[t],Yh(t)&&(ta[t].isCSSVariable=!0)}function Ww(e,{layout:t,layoutId:r}){return Us.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ta[e]||e==="opacity")}const XC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZC=Bs.length;function eP(e,t,r){let n="",s=!0;for(let i=0;i<ZC;i++){const a=Bs[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Lw(l,uf[a]);if(!c){s=!1;const d=XC[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function yf(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(Us.has(c)){a=!0;continue}else if(Yh(c)){s[c]=u;continue}else{const d=Lw(u,uf[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=eP(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const vf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hw(e,t,r){for(const n in t)!Ae(t[n])&&!Ww(n,r)&&(e[n]=t[n])}function tP({transformTemplate:e},t){return b.useMemo(()=>{const r=vf();return yf(r,t,e),Object.assign({},r.vars,r.style)},[t])}function rP(e,t){const r=e.style||{},n={};return Hw(n,r,e),Object.assign(n,tP(e,t)),n}function nP(e,t){const r={},n=rP(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const sP={offset:"stroke-dashoffset",array:"stroke-dasharray"},iP={offset:"strokeDashoffset",array:"strokeDasharray"};function aP(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?sP:iP;e[i.offset]=B.transform(-n);const a=B.transform(t),l=B.transform(r);e[i.array]=`${a} ${l}`}function qw(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(yf(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&aP(f,s,i,a,!1)}const Kw=()=>({...vf(),attrs:{}}),Jw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oP(e,t,r,n){const s=b.useMemo(()=>{const i=Kw();return qw(i,t,Jw(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Hw(i,e.style,e),s.style={...i,...s.style}}return s}const lP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xf(e){return typeof e!="string"||e.includes("-")?!1:!!(lP.indexOf(e)>-1||/[A-Z]/u.test(e))}function cP(e,t,r,{latestValues:n},s,i=!1){const l=(xf(e)?oP:nP)(t,n,s,e),c=KC(t,typeof e=="string",i),u=e!==b.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=b.useMemo(()=>Ae(d)?d.get():d,[d]);return b.createElement(e,{...u,children:f})}function eg(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function wf(e,t,r,n){if(typeof t=="function"){const[s,i]=eg(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=eg(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function jo(e){return Ae(e)?e.get():e}function uP({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:dP(r,n,s,e),renderState:t()}}function dP(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=jo(i[h]);let{initial:a,animate:l}=e;const c=Ul(e),u=Gw(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Bl(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=wf(e,h[m]);if(p){const{transitionEnd:v,transition:w,...g}=p;for(const y in g){let x=g[y];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[y]=x)}for(const y in v)s[y]=v[y]}}}return s}const Qw=e=>(t,r)=>{const n=b.useContext(Vl),s=b.useContext(Ml),i=()=>uP(e,t,n,s);return r?i():pa(i)};function bf(e,t,r){var i;const{style:n}=e,s={};for(const a in n)(Ae(n[a])||t.style&&Ae(t.style[a])||Ww(a,e)||((i=r==null?void 0:r.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const hP=Qw({scrapeMotionValuesFromProps:bf,createRenderState:vf});function Yw(e,t,r){const n=bf(e,t,r);for(const s in e)if(Ae(e[s])||Ae(t[s])){const i=Bs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const fP=Qw({scrapeMotionValuesFromProps:Yw,createRenderState:Kw}),mP=Symbol.for("motionComponentSymbol");function ns(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pP(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ns(r)&&(r.current=n))},[t])}const jf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gP="framerAppearId",Xw="data-"+jf(gP),Zw=b.createContext({});function yP(e,t,r,n,s){var v,w;const{visualElement:i}=b.useContext(Vl),a=b.useContext(Uw),l=b.useContext(Ml),c=b.useContext(Fl).reducedMotion,u=b.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=b.useContext(Zw);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&vP(u.current,r,s,f);const h=b.useRef(!1);b.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[Xw],p=b.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Gh(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function vP(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:eb(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&ns(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function eb(e){if(e)return e.options.allowProjection!==!1?e.projection:eb(e.parent)}function Fc(e,{forwardMotionProps:t=!1}={},r,n){r&&WC(r);const s=xf(e)?fP:hP;function i(l,c){let u;const d={...b.useContext(Fl),...l,layoutId:xP(l)},{isStatic:f}=d,h=QC(l),m=s(l,f);if(!f&&zh){wP();const p=bP(d);u=p.MeasureLayout,h.visualElement=yP(e,m,d,n,p.ProjectionNode)}return o.jsxs(Vl.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,cP(e,l,pP(m,h.visualElement,c),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=b.forwardRef(i);return a[mP]=e,a}function xP({layoutId:e}){const t=b.useContext(Uh).id;return t&&e!==void 0?t+"-"+e:e}function wP(e,t){b.useContext(Uw).strict}function bP(e){const{drag:t,layout:r}=ks;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function jP(e,t){if(typeof Proxy>"u")return Fc;const r=new Map,n=(i,a)=>Fc(i,a,e,t),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,Fc(a,void 0,e,t)),r.get(a))})}function tb({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function _P({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SP(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vc(e){return e===void 0||e===1}function vd({scale:e,scaleX:t,scaleY:r}){return!Vc(e)||!Vc(t)||!Vc(r)}function hn(e){return vd(e)||rb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rb(e){return tg(e.x)||tg(e.y)}function tg(e){return e&&e!=="0%"}function cl(e,t,r){const n=e-r,s=t*n;return r+s}function rg(e,t,r,n,s){return s!==void 0&&(e=cl(e,s,n)),cl(e,r,n)+t}function xd(e,t=0,r=1,n,s){e.min=rg(e.min,t,r,n,s),e.max=rg(e.max,t,r,n,s)}function nb(e,{x:t,y:r}){xd(e.x,t.translate,t.scale,t.originPoint),xd(e.y,r.translate,r.scale,r.originPoint)}const ng=.999999999999,sg=1.0000000000001;function NP(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=r[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&is(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,nb(e,a)),n&&hn(i.latestValues)&&is(e,i.latestValues))}t.x<sg&&t.x>ng&&(t.x=1),t.y<sg&&t.y>ng&&(t.y=1)}function ss(e,t){e.min=e.min+t,e.max=e.max+t}function ig(e,t,r,n,s=.5){const i=fe(e.min,e.max,s);xd(e,t,r,i,n)}function is(e,t){ig(e.x,t.x,t.scaleX,t.scale,t.originX),ig(e.y,t.y,t.scaleY,t.scale,t.originY)}function sb(e,t){return tb(SP(e.getBoundingClientRect(),t))}function kP(e,t,r){const n=sb(e,r),{scroll:s}=t;return s&&(ss(n.x,s.offset.x),ss(n.y,s.offset.y)),n}const ag=()=>({translate:0,scale:1,origin:0,originPoint:0}),as=()=>({x:ag(),y:ag()}),og=()=>({min:0,max:0}),we=()=>({x:og(),y:og()}),wd={current:null},ib={current:!1};function EP(){if(ib.current=!0,!!zh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wd.current=e.matches;e.addEventListener("change",t),t()}else wd.current=!1}const ra=new WeakMap;function CP(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Ae(s))e.addValue(n,s);else if(Ae(i))e.addValue(n,An(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,An(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const lg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ab{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=of,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ot.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,de.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ul(r),this.isVariantNode=Gw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Ae(m)&&m.set(c[h])}}mount(t){var r;this.current=t,ra.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),ib.current||EP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wd.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),_r(this.notifyUpdate),_r(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Us.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&de.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ks){const r=ks[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<lg.length;n++){const s=lg[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=CP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=An(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Hx(n)||Kx(n))?n=parseFloat(n):!$C(n)&&Qr.test(r)&&(n=Iw(t,r)),this.setBaseTarget(t,Ae(n)?n.get():n)),Ae(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=wf(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ae(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Kh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){hf.render(this.render)}}class ob extends ab{constructor(){super(...arguments),this.KeyframeResolver=EC}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ae(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function lb(e,{style:t,vars:r},n,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function PP(e){return window.getComputedStyle(e)}class cb extends ob{constructor(){super(...arguments),this.type="html",this.renderInstance=lb}readValueFromInstance(t,r){var n;if(Us.has(r))return(n=this.projection)!=null&&n.isProjecting?dd(r):GE(t,r);{const s=PP(t),i=(Yh(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return sb(t,r)}build(t,r,n){yf(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return bf(t,r,n)}}const ub=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TP(e,t,r,n){lb(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(ub.has(s)?s:jf(s),t.attrs[s])}class db extends ob{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Us.has(r)){const n=Ow(r);return n&&n.default||0}return r=ub.has(r)?r:jf(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Yw(t,r,n)}build(t,r,n){qw(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){TP(t,r,n,s)}mount(t){this.isSVGTag=Jw(t.tagName),super.mount(t)}}const RP=(e,t)=>xf(e)?new db(t):new cb(t,{allowProjection:e!==b.Fragment});function ms(e,t,r){const n=e.getProps();return wf(n,t,r!==void 0?r:n.custom,e)}const bd=e=>Array.isArray(e);function AP(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,An(r))}function OP(e){return bd(e)?e[e.length-1]||0:e}function IP(e,t){const r=ms(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const l=OP(i[a]);AP(e,a,l)}}function LP(e){return!!(Ae(e)&&e.add)}function jd(e,t){const r=e.getValue("willChange");if(LP(r))return r.add(t);if(!r&&jr.WillChange){const n=new jr.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function hb(e){return e.props[Xw]}const DP=e=>e!==null;function MP(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(DP),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const $P={type:"spring",stiffness:500,damping:25,restSpeed:10},FP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VP={type:"keyframes",duration:.8},BP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UP=(e,{keyframes:t})=>t.length>2?VP:Us.has(e)?e.startsWith("scale")?FP(t[1]):$P:BP;function zP({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const _f=(e,t,r,n={},s,i)=>a=>{const l=cf(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-qt(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};zP(l)||Object.assign(d,UP(e,d)),d.duration&&(d.duration=qt(d.duration)),d.repeatDelay&&(d.repeatDelay=qt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(gd(d),d.delay===0&&(f=!0)),(jr.instantAnimations||jr.skipAnimations)&&(f=!0,gd(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=MP(d.keyframes,l);if(h!==void 0){de.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new af(d):new fC(d)};function GP({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Sf(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(i=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&GP(u,d))continue;const m={delay:r,...cf(i||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=hb(e);if(g){const y=window.MotionHandoffAnimation(g,d,de);y!==null&&(m.startTime=y,v=!0)}}jd(e,d),f.start(_f(d,f,h,e.shouldReduceMotion&&Tw.has(d)?{type:!1}:m,e,v));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{de.update(()=>{a&&IP(e,a)})}),c}function fb(e,t,r,n=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:l-i*n}function _d(e,t,r={}){var c;const n=ms(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Sf(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return WP(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(r.delay)])}function WP(e,t,r=0,n=0,s=0,i=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(_d(c,t,{...a,delay:r+(typeof n=="function"?0:n)+fb(e.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function HP(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>_d(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=_d(e,t,r);else{const s=typeof t=="function"?ms(e,t,r.custom):t;n=Promise.all(Sf(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function mb(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const qP=gf.length;function pb(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pb(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<qP;r++){const n=gf[r],s=e.props[n];(ea(s)||s===!1)&&(t[n]=s)}return t}const KP=[...pf].reverse(),JP=pf.length;function QP(e){return t=>Promise.all(t.map(({animation:r,options:n})=>HP(e,r,n)))}function YP(e){let t=QP(e),r=cg(),n=!0;const s=c=>(u,d)=>{var h;const f=ms(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...v}=f;u={...u,...v,...p}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=pb(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let w=0;w<JP;w++){const g=KP[w],y=r[g],x=u[g]!==void 0?u[g]:d[g],j=ea(x),_=g===c?y.isActive:null;_===!1&&(p=w);let S=x===d[g]&&x!==u[g]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&_===null||!x&&!y.prevProp||Bl(x)||typeof x=="boolean")continue;const N=XP(y.prevProp,x);let k=N||g===c&&y.isActive&&!S&&j||w>p&&j,C=!1;const R=Array.isArray(x)?x:[x];let D=R.reduce(s(g),{});_===!1&&(D={});const{prevResolvedValues:U={}}=y,H={...U,...D},X=K=>{k=!0,h.has(K)&&(C=!0,h.delete(K)),y.needsAnimating[K]=!0;const P=e.getValue(K);P&&(P.liveStyle=!1)};for(const K in H){const P=D[K],M=U[K];if(m.hasOwnProperty(K))continue;let I=!1;bd(P)&&bd(M)?I=!mb(P,M):I=P!==M,I?P!=null?X(K):h.add(K):P!==void 0&&h.has(K)?X(K):y.protectedKeys[K]=!0}y.prevProp=x,y.prevResolvedValues=D,y.isActive&&(m={...m,...D}),n&&e.blockInitialAnimation&&(k=!1);const te=S&&N;k&&(!te||C)&&f.push(...R.map(K=>{const P={type:g};if(typeof K=="string"&&n&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,I=ms(M,K);if(M.enteringChildren&&I){const{delayChildren:F}=I.transition||{};P.delay=fb(M.enteringChildren,e,F)}}return{animation:K,options:P}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const g=ms(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(w.transition=g.transition)}h.forEach(g=>{const y=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),w[g]=y??null}),f.push({animation:w})}let v=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=cg()}}}function XP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mb(t,e):!1}function an(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cg(){return{animate:an(!0),whileInView:an(),whileHover:an(),whileTap:an(),whileDrag:an(),whileFocus:an(),exit:an()}}class tn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZP extends tn{constructor(t){super(t),t.animationState||(t.animationState=YP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let e4=0;class t4 extends tn{constructor(){super(...arguments),this.id=e4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const r4={animation:{Feature:ZP},exit:{Feature:t4}};function na(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function xa(e){return{point:{x:e.pageX,y:e.pageY}}}const n4=e=>t=>ff(t)&&e(t,xa(t));function ki(e,t,r,n){return na(e,t,n4(r),n)}const gb=1e-4,s4=1-gb,i4=1+gb,yb=.01,a4=0-yb,o4=0+yb;function tt(e){return e.max-e.min}function l4(e,t,r){return Math.abs(e-t)<=r}function ug(e,t,r,n=.5){e.origin=n,e.originPoint=fe(t.min,t.max,e.origin),e.scale=tt(r)/tt(t),e.translate=fe(r.min,r.max,e.origin)-e.originPoint,(e.scale>=s4&&e.scale<=i4||isNaN(e.scale))&&(e.scale=1),(e.translate>=a4&&e.translate<=o4||isNaN(e.translate))&&(e.translate=0)}function Ei(e,t,r,n){ug(e.x,t.x,r.x,n?n.originX:void 0),ug(e.y,t.y,r.y,n?n.originY:void 0)}function dg(e,t,r){e.min=r.min+t.min,e.max=e.min+tt(t)}function c4(e,t,r){dg(e.x,t.x,r.x),dg(e.y,t.y,r.y)}function hg(e,t,r){e.min=t.min-r.min,e.max=e.min+tt(t)}function Ci(e,t,r){hg(e.x,t.x,r.x),hg(e.y,t.y,r.y)}function Et(e){return[e("x"),e("y")]}const vb=({current:e})=>e?e.ownerDocument.defaultView:null,fg=(e,t)=>Math.abs(e-t);function u4(e,t){const r=fg(e.x,t.x),n=fg(e.y,t.y);return Math.sqrt(r**2+n**2)}class xb{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Uc(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=u4(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:v}=h,{timestamp:w}=Me;this.history.push({...v,timestamp:w});const{onStart:g,onMove:y}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Bc(m,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Uc(h.type==="pointercancel"?this.lastMoveEventInfo:Bc(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),v&&v(h,g)},!ff(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const l=xa(t),c=Bc(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Me;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Uc(c,this.history)),this.removeListeners=ga(ki(this.contextWindow,"pointermove",this.handlePointerMove),ki(this.contextWindow,"pointerup",this.handlePointerUp),ki(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_r(this.updatePoint)}}function Bc(e,t){return t?{point:t(e.point)}:e}function mg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uc({point:e},t){return{point:e,delta:mg(e,wb(t)),offset:mg(e,d4(t)),velocity:h4(t,.1)}}function d4(e){return e[0]}function wb(e){return e[e.length-1]}function h4(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=wb(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>qt(t)));)r--;if(!n)return{x:0,y:0};const i=Rt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function f4(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?fe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?fe(r,e,n.max):Math.min(e,r)),e}function pg(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function m4(e,{top:t,left:r,bottom:n,right:s}){return{x:pg(e.x,r,s),y:pg(e.y,t,n)}}function gg(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function p4(e,t){return{x:gg(e.x,t.x),y:gg(e.y,t.y)}}function g4(e,t){let r=.5;const n=tt(e),s=tt(t);return s>n?r=Ns(t.min,t.max-n,e.min):n>s&&(r=Ns(e.min,e.max-s,t.min)),br(0,1,r)}function y4(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Sd=.35;function v4(e=Sd){return e===!1?e=0:e===!0&&(e=Sd),{x:yg(e,"left","right"),y:yg(e,"top","bottom")}}function yg(e,t,r){return{min:vg(e,t),max:vg(e,r)}}function vg(e,t){return typeof e=="number"?e:e[t]||0}const x4=new WeakMap;class w4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(xa(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TC(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Et(g=>{let y=this.getAxisMotionValue(g).get()||0;if(ir.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const j=x.layout.layoutBox[g];j&&(y=tt(j)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&de.postRender(()=>v(f,h)),jd(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=b4(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Et(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new xb(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:vb(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&de.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Xa(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=f4(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ns(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=m4(n.layoutBox,t):this.constraints=!1,this.elastic=v4(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Et(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=y4(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ns(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=kP(n,s.root,this.visualElement.getTransformPagePoint());let a=p4(s.layout.layoutBox,i);if(r){const l=r(_P(a));this.hasMutatedConstraints=!!l,l&&(a=tb(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Et(d=>{if(!Xa(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return jd(this.visualElement,t),n.start(_f(t,n,0,r,this.visualElement,!1))}stopAnimation(){Et(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Et(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Et(r=>{const{drag:n}=this.getProps();if(!Xa(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];i.set(t[r]-fe(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ns(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Et(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=g4({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Et(a=>{if(!Xa(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(fe(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;x4.set(this.visualElement,this);const t=this.visualElement.current,r=ki(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ns(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),de.read(n);const a=na(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Et(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Sd,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Xa(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function b4(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class j4 extends tn{constructor(t){super(t),this.removeGroupControls=Ot,this.removeListeners=Ot,this.controls=new w4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const xg=e=>(t,r)=>{e&&de.postRender(()=>e(t,r))};class _4 extends tn{constructor(){super(...arguments),this.removePointerDownListener=Ot}onPointerDown(t){this.session=new xb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:xg(t),onStart:xg(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&de.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ki(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _o={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ti={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(B.test(e))e=parseFloat(e);else return e;const r=wg(e,t.target.x),n=wg(e,t.target.y);return`${r}% ${n}%`}},S4={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Qr.parse(e);if(s.length>5)return n;const i=Qr.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=fe(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let zc=!1;class N4 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;YC(k4),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),zc&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_o.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,zc=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||de.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;zc=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bb(e){const[t,r]=Bw(),n=b.useContext(Uh);return o.jsx(N4,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Zw),isPresent:t,safeToRemove:r})}const k4={borderRadius:{...ti,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ti,borderTopRightRadius:ti,borderBottomLeftRadius:ti,borderBottomRightRadius:ti,boxShadow:S4};function jb(e,t,r){const n=Ae(e)?e:An(e);return n.start(_f("",n,t,r)),n.animation}const E4=(e,t)=>e.depth-t.depth;class C4{constructor(){this.children=[],this.isDirty=!1}add(t){Wh(this.children,t),this.isDirty=!0}remove(t){$l(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(E4),this.isDirty=!1,this.children.forEach(t)}}function P4(e,t){const r=ot.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(_r(n),e(i-t))};return de.setup(n,!0),()=>_r(n)}const _b=["TopLeft","TopRight","BottomLeft","BottomRight"],T4=_b.length,bg=e=>typeof e=="string"?parseFloat(e):e,jg=e=>typeof e=="number"||B.test(e);function R4(e,t,r,n,s,i){s?(e.opacity=fe(0,r.opacity??1,A4(n)),e.opacityExit=fe(t.opacity??1,0,O4(n))):i&&(e.opacity=fe(t.opacity??1,r.opacity??1,n));for(let a=0;a<T4;a++){const l=`border${_b[a]}Radius`;let c=_g(t,l),u=_g(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jg(c)===jg(u)?(e[l]=Math.max(fe(bg(c),bg(u),n),0),(ir.test(u)||ir.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=fe(t.rotate||0,r.rotate||0,n))}function _g(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const A4=Sb(0,.5,rw),O4=Sb(.5,.95,Ot);function Sb(e,t,r){return n=>n<e?0:n>t?1:r(Ns(e,t,n))}function Sg(e,t){e.min=t.min,e.max=t.max}function St(e,t){Sg(e.x,t.x),Sg(e.y,t.y)}function Ng(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kg(e,t,r,n,s){return e-=t,e=cl(e,1/r,n),s!==void 0&&(e=cl(e,1/s,n)),e}function I4(e,t=0,r=1,n=.5,s,i=e,a=e){if(ir.test(t)&&(t=parseFloat(t),t=fe(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=fe(i.min,i.max,n);e===i&&(l-=t),e.min=kg(e.min,t,r,l,s),e.max=kg(e.max,t,r,l,s)}function Eg(e,t,[r,n,s],i,a){I4(e,t[r],t[n],t[s],t.scale,i,a)}const L4=["x","scaleX","originX"],D4=["y","scaleY","originY"];function Cg(e,t,r,n){Eg(e.x,t,L4,r?r.x:void 0,n?n.x:void 0),Eg(e.y,t,D4,r?r.y:void 0,n?n.y:void 0)}function Pg(e){return e.translate===0&&e.scale===1}function Nb(e){return Pg(e.x)&&Pg(e.y)}function Tg(e,t){return e.min===t.min&&e.max===t.max}function M4(e,t){return Tg(e.x,t.x)&&Tg(e.y,t.y)}function Rg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kb(e,t){return Rg(e.x,t.x)&&Rg(e.y,t.y)}function Ag(e){return tt(e.x)/tt(e.y)}function Og(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $4{constructor(){this.members=[]}add(t){Wh(this.members,t),t.scheduleRender()}remove(t){if($l(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function F4(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Gc=["","X","Y","Z"],V4=1e3;let B4=0;function Wc(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Eb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=hb(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",de,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Eb(n)}function Cb({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=B4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G4),this.nodes.forEach(K4),this.nodes.forEach(J4),this.nodes.forEach(W4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new C4)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Kh),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=mf(a)&&!Vw(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;de.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=P4(h,250),_o.hasAnimatedSinceResize&&(_o.hasAnimatedSinceResize=!1,this.nodes.forEach(Dg)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||eT,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=u.getProps(),g=!this.targetLayout||!kb(this.targetLayout,m),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...cf(p,"layout"),onPlay:v,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,y)}else f||Dg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Eb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ig);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q4),this.nodes.forEach(U4),this.nodes.forEach(z4)):this.nodes.forEach(Lg),this.clearAllSnapshots();const l=ot.now();Me.delta=br(0,1e3/60,l-Me.timestamp),Me.timestamp=l,Me.isProcessing=!0,Oc.update.process(Me),Oc.preRender.process(Me),Oc.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(H4),this.sharedNodes.forEach(Y4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tt(this.snapshot.measuredBox.x)&&!tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Nb(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||hn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),tT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return we();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(rT))){const{scroll:d}=this.root;d&&(ss(l.x,d.offset.x),ss(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=we();if(St(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&St(l,a),ss(l.x,f.offset.x),ss(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=we();St(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&is(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),hn(d.latestValues)&&is(c,d.latestValues)}return hn(this.latestValues)&&is(c,this.latestValues),c}removeTransform(a){const l=we();St(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!hn(u.latestValues))continue;vd(u.latestValues)&&u.updateSnapshot();const d=we(),f=u.measurePageBox();St(d,f),Cg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return hn(this.latestValues)&&Cg(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),Ci(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):St(this.target,this.layout.layoutBox),nb(this.target,this.targetDelta)):St(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),Ci(this.relativeTargetOrigin,this.target,m.target),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vd(this.parent.latestValues)||rb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;St(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;NP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=we());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ng(this.prevProjectionDelta.x,this.projectionDelta.x),Ng(this.prevProjectionDelta.y,this.projectionDelta.y)),Ei(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Og(this.projectionDelta.x,this.prevProjectionDelta.x)||!Og(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=as(),this.projectionDelta=as(),this.projectionDeltaWithTransform=as()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=as();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=we(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,w=this.getStack(),g=!w||w.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(Z4));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const _=j/1e3;Mg(f.x,a.x,_),Mg(f.y,a.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ci(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X4(this.relativeTarget,this.relativeTargetOrigin,h,_),x&&M4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=we()),St(x,this.relativeTarget)),v&&(this.animationValues=d,R4(d,u,this.latestValues,_,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(_r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{_o.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=An(0)),this.currentAnimation=jb(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Pb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||we();const f=tt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=tt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}St(l,c),is(l,d),Ei(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new $4),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Wc("z",a,u,this.animationValues);for(let d=0;d<Gc.length;d++)Wc(`rotate${Gc[d]}`,a,u,this.animationValues),Wc(`skew${Gc[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=jo(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=jo(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hn(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=F4(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in ta){if(d[p]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:g}=ta[p],y=f==="none"?d[p]:v(d[p],u);if(w){const x=w.length;for(let j=0;j<x;j++)a[w[j]]=y}else g?this.options.visualElement.renderState.vars[p]=y:a[p]=y}this.options.layoutId&&(a.pointerEvents=u===this?jo(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Ig),this.root.sharedNodes.clear()}}}function U4(e){e.updateLayout()}function z4(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Et(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=tt(h);h.min=n[f].min,h.max=h.min+m}):Pb(i,t.layoutBox,n)&&Et(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=tt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=as();Ei(l,n,t.layoutBox);const c=as();a?Ei(c,e.applyTransform(s,!0),t.measuredBox):Ei(c,n,t.layoutBox);const u=!Nb(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=we();Ci(p,t.layoutBox,h.layoutBox);const v=we();Ci(v,n,m.layoutBox),kb(p,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function G4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function W4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function H4(e){e.clearSnapshot()}function Ig(e){e.clearMeasurements()}function Lg(e){e.isLayoutDirty=!1}function q4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Dg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function K4(e){e.resolveTargetDelta()}function J4(e){e.calcProjection()}function Q4(e){e.resetSkewAndRotation()}function Y4(e){e.removeLeadSnapshot()}function Mg(e,t,r){e.translate=fe(t.translate,0,r),e.scale=fe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function $g(e,t,r,n){e.min=fe(t.min,r.min,n),e.max=fe(t.max,r.max,n)}function X4(e,t,r,n){$g(e.x,t.x,r.x,n),$g(e.y,t.y,r.y,n)}function Z4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eT={duration:.45,ease:[.4,0,.1,1]},Fg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vg=Fg("applewebkit/")&&!Fg("chrome/")?Math.round:Ot;function Bg(e){e.min=Vg(e.min),e.max=Vg(e.max)}function tT(e){Bg(e.x),Bg(e.y)}function Pb(e,t,r){return e==="position"||e==="preserve-aspect"&&!l4(Ag(t),Ag(r),.2)}function rT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const nT=Cb({attachResizeListener:(e,t)=>na(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hc={current:void 0},Tb=Cb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hc.current){const e=new nT({});e.mount(window),e.setOptions({layoutScroll:!0}),Hc.current=e}return Hc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sT={pan:{Feature:_4},drag:{Feature:j4,ProjectionNode:Tb,MeasureLayout:bb}};function Ug(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&de.postRender(()=>i(t,xa(t)))}class iT extends tn{mount(){const{current:t}=this.node;t&&(this.unmount=RC(t,(r,n)=>(Ug(this.node,n,"Start"),s=>Ug(this.node,s,"End"))))}unmount(){}}class aT extends tn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ga(na(this.node.current,"focus",()=>this.onFocus()),na(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zg(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&de.postRender(()=>i(t,xa(t)))}class oT extends tn{mount(){const{current:t}=this.node;t&&(this.unmount=LC(t,(r,n)=>(zg(this.node,n,"Start"),(s,{success:i})=>zg(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nd=new WeakMap,qc=new WeakMap,lT=e=>{const t=Nd.get(e.target);t&&t(e)},cT=e=>{e.forEach(lT)};function uT({root:e,...t}){const r=e||document;qc.has(r)||qc.set(r,{});const n=qc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(cT,{root:e,...t})),n[s]}function dT(e,t,r){const n=uT(t);return Nd.set(e,r),n.observe(e),()=>{Nd.delete(e),n.unobserve(e)}}const hT={some:0,all:1};class fT extends tn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:hT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return dT(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(mT(t,r))&&this.startObserver()}unmount(){}}function mT({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const pT={inView:{Feature:fT},tap:{Feature:oT},focus:{Feature:aT},hover:{Feature:iT}},gT={layout:{ProjectionNode:Tb,MeasureLayout:bb}},yT={...r4,...pT,...sT,...gT},E=jP(yT,RP);function Rb(e){const t=pa(()=>An(e)),{isStatic:r}=b.useContext(Fl);if(r){const[,n]=b.useState(e);b.useEffect(()=>t.on("change",n),[])}return t}function Ab(e,t){const r=Rb(t()),n=()=>r.set(t());return n(),Gh(()=>{const s=()=>de.preRender(n,!1,!0),i=e.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),_r(n)}}),r}function vT(e){Ni.current=[],e();const t=Ab(Ni.current,e);return Ni.current=void 0,t}function xT(e,t,r,n){if(typeof e=="function")return vT(e);const s=typeof t=="function"?t:DC(t,r,n);return Array.isArray(e)?Gg(e,s):Gg([e],([i])=>s(i))}function Gg(e,t){const r=pa(()=>[]);return Ab(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function Nf(e){return typeof e=="object"&&!Array.isArray(e)}function Ob(e,t,r,n){return typeof e=="string"&&Nf(t)?df(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function wT(e,t,r){return e*(t+1)}function Wg(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:t.startsWith("<")?Math.max(0,r+parseFloat(t.slice(1))):n.get(t)??e}function bT(e,t,r){for(let n=0;n<e.length;n++){const s=e[n];s.at>t&&s.at<r&&($l(e,s),n--)}}function jT(e,t,r,n,s,i){bT(e,s,i);for(let a=0;a<t.length;a++)e.push({value:t[a],at:fe(s,i,n[a]),easing:aw(r,a)})}function _T(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function ST(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const NT="easeInOut";function kT(e,{defaultTransition:t={},...r}={},n,s){const i=t.duration||.3,a=new Map,l=new Map,c={},u=new Map;let d=0,f=0,h=0;for(let m=0;m<e.length;m++){const p=e[m];if(typeof p=="string"){u.set(p,f);continue}else if(!Array.isArray(p)){u.set(p.name,Wg(f,p.at,d,u));continue}let[v,w,g={}]=p;g.at!==void 0&&(f=Wg(f,g.at,d,u));let y=0;const x=(j,_,S,N=0,k=0)=>{const C=ET(j),{delay:R=0,times:D=jw(C),type:U="keyframes",repeat:H,repeatType:X,repeatDelay:te=0,...Ue}=_;let{ease:K=t.ease||"easeOut",duration:P}=_;const M=typeof R=="function"?R(N,k):R,I=C.length,F=lf(U)?U:s==null?void 0:s[U||"keyframes"];if(I<=2&&F){let ze=100;if(I===2&&TT(C)){const Gs=C[1]-C[0];ze=Math.abs(Gs)}const Ye={...Ue};P!==void 0&&(Ye.duration=qt(P));const or=vw(Ye,ze,F);K=or.ease,P=or.duration}P??(P=i);const G=f+M;D.length===1&&D[0]===0&&(D[1]=1);const re=D.length-C.length;if(re>0&&bw(D,re),C.length===1&&C.unshift(null),H){P=wT(P,H);const ze=[...C],Ye=[...D];K=Array.isArray(K)?[...K]:[K];const or=[...K];for(let Gs=0;Gs<H;Gs++){C.push(...ze);for(let Ws=0;Ws<ze.length;Ws++)D.push(Ye[Ws]+(Gs+1)),K.push(Ws===0?"linear":aw(or,Ws-1))}_T(D,H)}const Q=G+P;jT(S,C,K,D,G,Q),y=Math.max(M+P,y),h=Math.max(Q,h)};if(Ae(v)){const j=Hg(v,l);x(w,g,qg("default",j))}else{const j=Ob(v,w,n,c),_=j.length;for(let S=0;S<_;S++){w=w,g=g;const N=j[S],k=Hg(N,l);for(const C in w)x(w[C],CT(g,C),qg(C,k),S,_)}}d=f,f+=y}return l.forEach((m,p)=>{for(const v in m){const w=m[v];w.sort(ST);const g=[],y=[],x=[];for(let _=0;_<w.length;_++){const{at:S,value:N,easing:k}=w[_];g.push(N),y.push(Ns(0,h,S)),x.push(k||"easeOut")}y[0]!==0&&(y.unshift(0),g.unshift(g[0]),x.unshift(NT)),y[y.length-1]!==1&&(y.push(1),g.push(null)),a.has(p)||a.set(p,{keyframes:{},transition:{}});const j=a.get(p);j.keyframes[v]=g,j.transition[v]={...t,duration:h,ease:x,times:y,...r}}}),a}function Hg(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function qg(e,t){return t[e]||(t[e]=[]),t[e]}function ET(e){return Array.isArray(e)?e:[e]}function CT(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const PT=e=>typeof e=="number",TT=e=>e.every(PT);function RT(e,t){return e in t}class AT extends ab{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(RT(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return we()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function OT(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=mf(e)&&!Vw(e)?new db(t):new cb(t);r.mount(e),ra.set(e,r)}function IT(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new AT(t);r.mount(e),ra.set(e,r)}function LT(e,t){return Ae(e)||typeof e=="number"||typeof e=="string"&&!Nf(t)}function Ib(e,t,r,n){const s=[];if(LT(e,t))s.push(jb(e,Nf(t)&&t.default||t,r&&(r.default||r)));else{const i=Ob(e,t,n),a=i.length;for(let l=0;l<a;l++){const c=i[l],u=c instanceof Element?OT:IT;ra.has(c)||u(c);const d=ra.get(c),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(l,a)),s.push(...Sf(d,{...t,transition:f},{}))}}return s}function DT(e,t,r){const n=[];return kT(e,t,r,{spring:Zi}).forEach(({keyframes:i,transition:a},l)=>{n.push(...Ib(l,i,a))}),n}function MT(e){return Array.isArray(e)&&e.some(Array.isArray)}function $T(e){function t(r,n,s){let i=[],a;if(MT(r))i=DT(r,n,e);else{const{onComplete:c,...u}=s||{};typeof c=="function"&&(a=c),i=Ib(r,n,u,e)}const l=new pC(i);return a&&l.finished.then(a),l}return t}const FT=$T(),VT={some:0,all:1};function BT(e,t,{root:r,margin:n,amount:s="some"}={}){const i=df(e),a=new WeakMap,l=u=>{u.forEach(d=>{const f=a.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const h=t(d.target,d);typeof h=="function"?a.set(d.target,h):c.unobserve(d.target)}else typeof f=="function"&&(f(d),a.delete(d.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof s=="number"?s:VT[s]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function UT(e,{root:t,margin:r,amount:n,once:s=!1,initial:i=!1}={}){const[a,l]=b.useState(i);return b.useEffect(()=>{if(!e.current||s&&a)return;const c=()=>(l(!0),s?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:r,amount:n};return BT(e.current,c,u)},[t,e,r,s,n]),a}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),A=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...zT,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${GT(e)}`,l].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=A("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=A("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=A("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=A("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=A("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=A("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=A("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=A("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=A("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=A("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=A("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=A("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=A("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=A("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=A("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=A("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=A("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=A("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=A("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=A("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=A("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=A("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=A("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=A("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=A("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=A("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=A("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=A("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=A("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=A("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=A("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=A("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=A("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=A("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=A("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=A("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=A("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=A("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=A("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=A("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=A("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=A("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=A("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=A("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=A("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=A("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=A("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=A("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=A("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=A("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=A("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=A("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=A("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=A("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=A("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=A("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=A("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=A("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=A("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=A("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=A("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=A("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=A("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=A("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=A("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=A("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=A("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=A("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),xR={success:{icon:zs,bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",iconColor:"text-green-500"},error:{icon:yR,bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500"},info:{icon:XT,bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500"},warning:{icon:WT,bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-800",iconColor:"text-amber-500"}};function wR({message:e,type:t,onClose:r}){const n=xR[t],s=n.icon;return o.jsx(ol,{children:o.jsxs(E.div,{initial:{opacity:0,x:100,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{duration:.2},className:`${n.bgColor} ${n.borderColor} border rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[320px] max-w-md`,children:[o.jsx(s,{className:`w-5 h-5 ${n.iconColor} flex-shrink-0 mt-0.5`}),o.jsx("p",{className:`${n.textColor} text-sm font-medium flex-1`,children:e}),o.jsx("button",{onClick:r,className:`${n.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Fermer",children:o.jsx($e,{className:"w-4 h-4"})})]})})}const Gb=b.createContext(void 0);function bR({children:e}){const[t,r]=b.useState([]),n=b.useCallback((i,a="info",l=3e3)=>{const c=Math.random().toString(36).substr(2,9),u={id:c,message:i,type:a,duration:l};r(d=>[...d,u]),l>0&&setTimeout(()=>{s(c)},l)},[]),s=b.useCallback(i=>{r(a=>a.filter(l=>l.id!==i))},[]);return o.jsxs(Gb.Provider,{value:{showToast:n,hideToast:s},children:[e,o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:t.map(i=>o.jsx(wR,{message:i.message,type:i.type,onClose:()=>s(i.id)},i.id))})]})}function jR(){const e=b.useContext(Gb);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function _R(){const[e,t]=b.useState(0),[r,n]=b.useState(!1);return b.useEffect(()=>{const s=()=>{const i=window.scrollY;t(i),n(i>50)};return window.addEventListener("scroll",s,{passive:!0}),s(),()=>window.removeEventListener("scroll",s)},[]),{scrollY:e,isScrolled:r}}const SR=()=>{const{isScrolled:e}=_R();return o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 flex justify-center pt-6 px-4 pointer-events-none",children:o.jsx(E.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:100,damping:20,duration:.8},className:`
          max-w-5xl w-full rounded-full px-8 h-16
          transition-all duration-500 ease-out pointer-events-auto
          border border-white/10
          ${e?"bg-black/80 backdrop-blur-xl shadow-[0_8px_32px_rgba(0,0,0,0.3),0_0_40px_rgba(234,179,8,0.15)]":"bg-black/60 backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.2),0_0_20px_rgba(234,179,8,0.1)]"}
        `,children:o.jsxs("div",{className:"flex justify-between items-center h-full",children:[o.jsx(q,{to:"/",children:o.jsxs(E.div,{className:"flex items-center gap-2",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:[o.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Obsi"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"})]})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(q,{to:"/login",children:o.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-5 py-2 border-2 border-white text-white hover:bg-white hover:text-black transition-all duration-300 rounded-full font-medium text-sm",children:"Se connecter"})}),o.jsx(q,{to:"/order",children:o.jsx(E.button,{whileHover:{scale:1.02,boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"},whileTap:{scale:.98},className:"px-5 py-2 bg-white text-black hover:bg-white/90 transition-all duration-300 rounded-full font-medium shadow-md text-sm",children:"Commander"})})]})]})})})},Jc=[{name:"Sophie Martin",title:"CEO & Founder",sector:"Entreprise",color:"from-gold-400 to-gold-600",icon:kf},{name:"Lucas Bernard",title:"tudiant en Design",sector:"tudiants",color:"from-blue-400 to-blue-600",icon:Tf},{name:"Emma Dubois",title:"Artiste Photographe",sector:"Artistes",color:"from-purple-400 to-pink-500",icon:Af},{name:"Pierre Leclerc",title:"Maire",sector:"lus",color:"from-red-500 to-red-700",icon:Db}],NR=[...Jc,...Jc,...Jc],kR=({data:e,index:t})=>{const r=e.icon;return o.jsx("div",{className:"relative flex-shrink-0 w-[280px] h-[440px] mx-4",style:{perspective:"1000px"},children:o.jsxs(E.div,{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-900 to-black border border-neutral-800 shadow-2xl overflow-hidden",initial:{rotateY:-10},animate:{rotateY:[10,-10,10]},transition:{duration:4,delay:t*.5,repeat:1/0,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-neutral-800/30"}),o.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[o.jsx("div",{className:"flex justify-between items-start mb-8",children:o.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${e.color}`,children:o.jsx(r,{className:"w-5 h-5 text-white"})})}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2 mb-3",children:o.jsx("div",{className:`px-3 py-1 rounded-full bg-gradient-to-r ${e.color} text-white text-xs font-semibold`,children:e.sector})}),o.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:e.name}),o.jsx("p",{className:"text-warmGray-300 text-sm",children:e.title})]}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-gold-500/10 to-transparent rounded-full blur-3xl"})]}),o.jsx("div",{className:"absolute inset-0 border border-gold-500/20 rounded-2xl pointer-events-none"})]})})},ER=()=>o.jsxs("div",{className:"relative w-full overflow-hidden py-12",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-transparent to-black z-10 pointer-events-none"}),o.jsx(E.div,{className:"flex",animate:{x:[0,-2800]},transition:{duration:40,repeat:1/0,ease:"linear"},children:NR.map((e,t)=>o.jsx(kR,{data:e,index:t},t))}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-spotlight pointer-events-none"})]}),CR=()=>o.jsxs("section",{className:"relative w-full min-h-screen overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/10 via-transparent to-transparent opacity-40"}),o.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>o.jsx(E.div,{className:"absolute w-1.5 h-1.5 rounded-full bg-gold-500 shadow-gold-glow",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[-200,0],opacity:[0,.9,0]},transition:{duration:8,delay:t*.3,repeat:1/0,ease:"easeInOut"}},t))}),o.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-16",children:[o.jsxs("div",{className:"text-left space-y-8",children:[o.jsx(E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:1.8,delay:1},children:o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-black mb-6 tracking-tight leading-tight",children:"Crez du lien & Partagez vos informations en un geste"})}),o.jsx(E.p,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1.5,duration:1.8,ease:[.25,.1,.25,1]},className:"text-lg md:text-xl text-warmGray-700 leading-relaxed",children:"La carte de visite premium connecte  votre profil virtuel"}),o.jsx(E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:2,duration:1.5,ease:[.25,.1,.25,1]},children:o.jsx(q,{to:"/order",children:o.jsx(E.button,{whileHover:{scale:1.02,boxShadow:"0 0 32px rgba(234, 179, 8, 0.6)"},whileTap:{scale:.98},className:"px-10 py-4 bg-black text-white border-2 border-gold-500 rounded-lg text-lg font-medium shadow-gold-glow-lg hover:bg-neutral-900 transition-all duration-300",children:"Commander mon Obsi Carte"})})})]}),o.jsx(E.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:1.4,duration:1.2},className:"flex items-center justify-center",children:o.jsx("div",{className:"relative w-full max-w-md lg:max-w-lg",children:o.jsx("div",{className:"card-runway-frame",children:o.jsx(ER,{})})})})]})})]});var Pd=new Map,Za=new WeakMap,Xg=0,PR;function TR(e){return e?(Za.has(e)||(Xg+=1,Za.set(e,Xg.toString())),Za.get(e)):"0"}function RR(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?TR(e.root):e[t]}`).toString()}function AR(e){const t=RR(e);let r=Pd.get(t);if(!r){const n=new Map;let s;const i=new IntersectionObserver(a=>{a.forEach(l=>{var c;const u=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=n.get(l.target))==null||c.forEach(d=>{d(u,l)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},Pd.set(t,r)}return r}function OR(e,t,r={},n=PR){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:a}=AR(r),l=a.get(e)||[];return a.has(e)||a.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(a.delete(e),i.unobserve(e)),a.size===0&&(i.disconnect(),Pd.delete(s))}}function wa({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:s,triggerOnce:i,skip:a,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[f,h]=b.useState(null),m=b.useRef(u),p=b.useRef(l),[v,w]=b.useState({inView:!!l,entry:void 0});m.current=u,b.useEffect(()=>{if(p.current===void 0&&(p.current=l),a||!f)return;let j;return j=OR(f,(_,S)=>{const N=p.current;p.current=_,!(N===void 0&&!_)&&(w({inView:_,entry:S}),m.current&&m.current(_,S),S.isIntersecting&&i&&j&&(j(),j=void 0))},{root:s,rootMargin:n,threshold:e,trackVisibility:r,delay:t},c),()=>{j&&j()}},[Array.isArray(e)?e.toString():e,f,s,n,i,a,r,c,t]);const g=(d=v.entry)==null?void 0:d.target,y=b.useRef(void 0);!f&&g&&!i&&!a&&y.current!==g&&(y.current=g,w({inView:!!l,entry:void 0}),p.current=l);const x=[h,v.inView,v.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}var Gl={},Wb={exports:{}},IR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LR=IR,DR=LR;function Hb(){}function qb(){}qb.resetWarningCache=Hb;var MR=function(){function e(n,s,i,a,l,c){if(c!==DR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qb,resetWarningCache:Hb};return r.PropTypes=r,r};Wb.exports=MR();var Mf=Wb.exports;const ne=h0(Mf);var Kb={L:1,M:0,Q:3,H:2},Jb={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},$R=Jb;function Qb(e){this.mode=$R.MODE_8BIT_BYTE,this.data=e}Qb.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var FR=Qb,eo=Kb;function tr(e,t){this.totalCount=e,this.dataCount=t}tr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];tr.getRSBlocks=function(e,t){var r=tr.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=new Array,i=0;i<n;i++)for(var a=r[i*3+0],l=r[i*3+1],c=r[i*3+2],u=0;u<a;u++)s.push(new tr(l,c));return s};tr.getRsBlockTable=function(e,t){switch(t){case eo.L:return tr.RS_BLOCK_TABLE[(e-1)*4+0];case eo.M:return tr.RS_BLOCK_TABLE[(e-1)*4+1];case eo.Q:return tr.RS_BLOCK_TABLE[(e-1)*4+2];case eo.H:return tr.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var VR=tr;function Yb(){this.buffer=new Array,this.length=0}Yb.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var BR=Yb,Gt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Gt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Gt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Fe=0;Fe<8;Fe++)Gt.EXP_TABLE[Fe]=1<<Fe;for(var Fe=8;Fe<256;Fe++)Gt.EXP_TABLE[Fe]=Gt.EXP_TABLE[Fe-4]^Gt.EXP_TABLE[Fe-5]^Gt.EXP_TABLE[Fe-6]^Gt.EXP_TABLE[Fe-8];for(var Fe=0;Fe<255;Fe++)Gt.LOG_TABLE[Gt.EXP_TABLE[Fe]]=Fe;var Xb=Gt,on=Xb;function ko(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}ko.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=on.gexp(on.glog(this.get(r))+on.glog(e.get(n)));return new ko(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=on.glog(this.get(0))-on.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=on.gexp(on.glog(e.get(n))+t);return new ko(r,0).mod(e)}};var Zb=ko,Nt=Jb,Zg=Zb,UR=Xb,Cr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ie={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ie.getBCHDigit(t)-Ie.getBCHDigit(Ie.G15)>=0;)t^=Ie.G15<<Ie.getBCHDigit(t)-Ie.getBCHDigit(Ie.G15);return(e<<10|t)^Ie.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ie.getBCHDigit(t)-Ie.getBCHDigit(Ie.G18)>=0;)t^=Ie.G18<<Ie.getBCHDigit(t)-Ie.getBCHDigit(Ie.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ie.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Cr.PATTERN000:return(t+r)%2==0;case Cr.PATTERN001:return t%2==0;case Cr.PATTERN010:return r%3==0;case Cr.PATTERN011:return(t+r)%3==0;case Cr.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Cr.PATTERN101:return t*r%2+t*r%3==0;case Cr.PATTERN110:return(t*r%2+t*r%3)%2==0;case Cr.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Zg([1],0),r=0;r<e;r++)t=t.multiply(new Zg([1,UR.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Nt.MODE_NUMBER:return 10;case Nt.MODE_ALPHA_NUM:return 9;case Nt.MODE_8BIT_BYTE:return 8;case Nt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Nt.MODE_NUMBER:return 12;case Nt.MODE_ALPHA_NUM:return 11;case Nt.MODE_8BIT_BYTE:return 16;case Nt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Nt.MODE_NUMBER:return 14;case Nt.MODE_ALPHA_NUM:return 13;case Nt.MODE_8BIT_BYTE:return 16;case Nt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,a=e.isDark(n,s),l=-1;l<=1;l++)if(!(n+l<0||t<=n+l))for(var c=-1;c<=1;c++)s+c<0||t<=s+c||l==0&&c==0||a==e.isDark(n+l,s+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var u=0;e.isDark(n,s)&&u++,e.isDark(n+1,s)&&u++,e.isDark(n,s+1)&&u++,e.isDark(n+1,s+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var d=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&d++;var f=Math.abs(100*d/t/t-50)/5;return r+=f*10,r}},zR=Ie,GR=FR,e1=VR,t1=BR,rn=zR,WR=Zb;function rr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var _t=rr.prototype;_t.addData=function(e){var t=new GR(e);this.dataList.push(t),this.dataCache=null};_t.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};_t.getModuleCount=function(){return this.moduleCount};_t.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=e1.getRSBlocks(e,this.errorCorrectLevel),r=new t1,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var i=this.dataList[s];r.put(i.mode,4),r.put(i.getLength(),rn.getLengthInBits(i.mode,e)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};_t.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=rr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};_t.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};_t.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=rn.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};_t.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*s,l=0;l<this.modules[i].length;l++){var c=l*s,u=this.modules[i][l];u&&(n.beginFill(0,100),n.moveTo(c,a),n.lineTo(c+s,a),n.lineTo(c+s,a+s),n.lineTo(c,a+s),n.endFill())}return n};_t.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};_t.setupPositionAdjustPattern=function(){for(var e=rn.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)i==-2||i==2||a==-2||a==2||i==0&&a==0?this.modules[n+i][s+a]=!0:this.modules[n+i][s+a]=!1}};_t.setupTypeNumber=function(e){for(var t=rn.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};_t.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=rn.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e};_t.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var l=0;l<2;l++)if(this.modules[n][a-l]==null){var c=!1;i<e.length&&(c=(e[i]>>>s&1)==1);var u=rn.getMask(t,n,a-l);u&&(c=!c),this.modules[n][a-l]=c,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};rr.PAD0=236;rr.PAD1=17;rr.createData=function(e,t,r){for(var n=e1.getRSBlocks(e,t),s=new t1,i=0;i<r.length;i++){var a=r[i];s.put(a.mode,4),s.put(a.getLength(),rn.getLengthInBits(a.mode,e)),a.write(s)}for(var l=0,i=0;i<n.length;i++)l+=n[i].dataCount;if(s.getLengthInBits()>l*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+l*8+")");for(s.getLengthInBits()+4<=l*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=l*8||(s.put(rr.PAD0,8),s.getLengthInBits()>=l*8));)s.put(rr.PAD1,8);return rr.createBytes(s,n)};rr.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),a=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;n=Math.max(n,c),s=Math.max(s,u),i[l]=new Array(c);for(var d=0;d<i[l].length;d++)i[l][d]=255&e.buffer[d+r];r+=c;var f=rn.getErrorCorrectPolynomial(u),h=new WR(i[l],f.getLength()-1),m=h.mod(f);a[l]=new Array(f.getLength()-1);for(var d=0;d<a[l].length;d++){var p=d+m.getLength()-a[l].length;a[l][d]=p>=0?m.get(p):0}}for(var v=0,d=0;d<t.length;d++)v+=t[d].totalCount;for(var w=new Array(v),g=0,d=0;d<n;d++)for(var l=0;l<t.length;l++)d<i[l].length&&(w[g++]=i[l][d]);for(var d=0;d<s;d++)for(var l=0;l<t.length;l++)d<a[l].length&&(w[g++]=a[l][d]);return w};var HR=rr,$f={};Object.defineProperty($f,"__esModule",{value:!0});var qR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KR=Mf,kt=n1(KR),r1=b,to=n1(r1);function n1(e){return e&&e.__esModule?e:{default:e}}function JR(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var QR={bgColor:kt.default.oneOfType([kt.default.object,kt.default.string]).isRequired,bgD:kt.default.string.isRequired,fgColor:kt.default.oneOfType([kt.default.object,kt.default.string]).isRequired,fgD:kt.default.string.isRequired,size:kt.default.number.isRequired,title:kt.default.string,viewBoxSize:kt.default.number.isRequired,xmlns:kt.default.string},Ff=(0,r1.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,s=e.fgD,i=e.fgColor,a=e.size,l=e.title,c=e.viewBoxSize,u=e.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=JR(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return to.default.createElement("svg",qR({},f,{height:a,ref:t,viewBox:"0 0 "+c+" "+c,width:a,xmlns:d}),l?to.default.createElement("title",null,l):null,to.default.createElement("path",{d:n,fill:r}),to.default.createElement("path",{d:s,fill:i}))});Ff.displayName="QRCodeSvg";Ff.propTypes=QR;$f.default=Ff;Object.defineProperty(Gl,"__esModule",{value:!0});Gl.QRCode=void 0;var YR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XR=Mf,lr=ba(XR),ZR=Kb,eA=ba(ZR),tA=HR,rA=ba(tA),s1=b,nA=ba(s1),sA=$f,iA=ba(sA);function ba(e){return e&&e.__esModule?e:{default:e}}function aA(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var oA={bgColor:lr.default.oneOfType([lr.default.object,lr.default.string]),fgColor:lr.default.oneOfType([lr.default.object,lr.default.string]),level:lr.default.string,size:lr.default.number,value:lr.default.string.isRequired},Wl=(0,s1.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,s=e.fgColor,i=s===void 0?"#000000":s,a=e.level,l=a===void 0?"L":a,c=e.size,u=c===void 0?256:c,d=e.value,f=aA(e,["bgColor","fgColor","level","size","value"]),h=new rA.default(-1,eA.default[l]);h.addData(d),h.make();var m=h.modules;return nA.default.createElement(iA.default,YR({},f,{bgColor:n,bgD:m.map(function(p,v){return p.map(function(w,g){return w?"":"M "+g+" "+v+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:m.map(function(p,v){return p.map(function(w,g){return w?"M "+g+" "+v+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:m.length}))});Gl.QRCode=Wl;Wl.displayName="QRCode";Wl.propTypes=oA;var Vf=Gl.default=Wl;const lA="/assets/or_avec_texte_no_bk-removebg-preview-ICZ4bDYD.png",cA=()=>{const[e,t]=b.useState(!1);return o.jsxs("div",{className:"relative w-full max-w-lg mx-auto h-[340px] font-montserrat",style:{perspective:"1500px"},children:[o.jsxs(E.div,{className:"relative w-full h-full cursor-pointer",animate:{rotateY:e?180:0},transition:{duration:.8,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},onClick:()=>t(!e),children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-gold-glow-lg",style:{backfaceVisibility:"hidden"},children:o.jsxs("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-900 via-black to-neutral-950 border-2 border-gold-600/30 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-spotlight opacity-50"}),o.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[o.jsx("div",{className:"flex justify-end items-start",children:o.jsx(Yg,{className:"w-7 h-7 text-gold-500 animate-pulse"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6",children:[o.jsx("div",{className:"bg-white p-4 rounded-xl shadow-gold-glow",children:o.jsx(Vf,{value:"https://obsi.digitalproconseil.fr",size:140,level:"H"})}),o.jsx("h3",{className:"text-white text-2xl font-bold tracking-tight text-center",children:"Prnom Nom"})]})]}),o.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-gold-500/10 pointer-events-none"})]})}),o.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-gold-glow-lg",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:o.jsxs("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-950 via-black to-neutral-900 border-2 border-gold-600/30 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-spotlight opacity-50"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"radial-gradient(circle at center, rgba(202, 138, 4, 0.15) 0%, transparent 60%)"}}),o.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[o.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 blur-2xl opacity-60",style:{background:"radial-gradient(circle, rgba(202, 138, 4, 0.4) 0%, transparent 70%)",transform:"scale(1.2)"}}),o.jsx("img",{src:lA,alt:"OBSI - une Carte, un Geste, un Lien",className:"w-72 h-auto object-contain relative z-10",style:{filter:"drop-shadow(0 0 20px rgba(202, 138, 4, 0.5)) drop-shadow(0 0 40px rgba(202, 138, 4, 0.3))",backgroundColor:"transparent"}})]})}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-warmGray-500 text-xs",children:[o.jsx(Yg,{className:"w-4 h-4"}),o.jsx("span",{children:"NFC Enabled"})]})]}),o.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-gold-500/10 pointer-events-none"})]})})]}),o.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-center text-warmGray-400 text-sm",children:"Cliquez pour retourner la carte"})]})},uA={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}},exit:{opacity:0,y:20}},dA={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95}},i1={initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}}},sa={initial:{},animate:{transition:{staggerChildren:.2,delayChildren:.3}}},qe={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},hA={rest:{scale:1,transition:{type:"spring",stiffness:300,damping:20}},hover:{scale:1.02,y:-4,transition:{type:"spring",stiffness:400,damping:15}},tap:{scale:.98}},fA={rest:{scale:1},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.98}};function a1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=a1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ps(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=a1(e))&&(n&&(n+=" "),n+=t);return n}function oe({children:e,variant:t="default",hover:r=!0,className:n="",onClick:s}){const i="rounded-xl overflow-hidden",a={default:"bg-white border border-neutral-200 shadow-premium-sm",premium:"bg-gradient-to-br from-white to-neutral-50 border border-amber-200 shadow-premium-md relative before:absolute before:inset-0 before:rounded-xl before:p-[1px] before:bg-gradient-amber before:-z-10",glassmorphism:"bg-white/70 backdrop-blur-md border border-white/20 shadow-premium-lg","glassmorphism-dark":"bg-black/60 backdrop-blur-md border border-gold-500/20 shadow-gold-md hover:border-gold-500/40 hover:shadow-gold-glow transition-all duration-300","dark-premium":"bg-gradient-to-br from-neutral-900 to-black border border-gold-500/20 shadow-gold-md hover:border-gold-500/40 hover:shadow-gold-glow transition-all duration-300"},l=r?E.div:"div",c=r?{variants:hA,initial:"rest",whileHover:"hover",whileTap:"tap"}:{};return o.jsx(l,{className:Ps(i,a[t],n,s&&"cursor-pointer"),onClick:s,...c,children:e})}function ye({children:e,className:t=""}){return o.jsx("div",{className:Ps("p-6",t),children:e})}const mA=()=>{const[e,t]=wa({triggerOnce:!0,threshold:.1}),r=[{icon:On,title:"Diffrents Profils",description:"Donnez de la visibilit  tout vos projets en mme temps"},{icon:vR,title:"Puce NFC intgre",description:"Pour facilit les changes de coordones"},{icon:Ef,title:"Description vido",description:"Soyez pertinent et mmorable aux yeux de votre rseau"},{icon:hR,title:"Livre chez vous",description:"livraison sous 72h maximum"}];return o.jsxs("section",{ref:e,className:"relative py-32 overflow-hidden font-montserrat",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/15 via-transparent to-transparent opacity-50"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-to-br from-gold-500/20 to-transparent rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(E.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-20",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"La carte qu'il vous faut,"}),o.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700 max-w-3xl mx-auto",children:"Une carte qui fait la diffrence"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[o.jsx(E.div,{initial:{opacity:0,x:-50},animate:t?{opacity:1,x:0}:{},transition:{duration:1.2,delay:.3},children:o.jsx(cA,{})}),o.jsx(E.div,{variants:sa,initial:"initial",animate:t?"animate":"initial",className:"space-y-6",children:r.map(n=>{const s=n.icon;return o.jsx(E.div,{variants:qe,children:o.jsx(oe,{variant:"dark-premium",hover:!0,className:"group",children:o.jsxs("div",{className:"p-5 flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(s,{className:"w-5 h-5 text-black"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-warmGray-50 mb-1.5",children:n.title}),o.jsx("p",{className:"text-sm text-warmGray-200",children:n.description})]})]})})},n.title)})})]}),o.jsx(E.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.8},className:"text-center",children:o.jsxs("div",{className:"inline-flex items-center gap-2 text-gold-700 text-lg font-semibold",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"}),o.jsx("span",{children:"Commandez la vtre maintenant"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"})]})})]})]})},pA=()=>{const[e,t]=wa({triggerOnce:!0,threshold:.1}),r=[{icon:Df,title:"Profils multiples",description:"Crez plusieurs profils professionnels sur une seule carte",color:"from-gold-400 to-gold-600"},{icon:zb,title:"Description texte et vido",description:"Prsentez-vous en 360 avec texte, bio, et vido d'introduction",color:"from-gold-500 to-gold-700"},{icon:QT,title:"Stockage de documents",description:"Partagez CV, portfolio, brochures, catalogues",color:"from-gold-400 to-gold-600"}],n=[{icon:kf,title:"Entreprise",subtitle:"Dirigeants, entrepreneurs, commerciaux",description:"Un profil professionnel qui inspire confiance",color:"from-gold-400 to-gold-600"},{icon:Tf,title:"tudiants",subtitle:"Stages, alternance, premier emploi",description:"Dmarquez-vous avec un profil moderne",color:"from-blue-400 to-blue-600"},{icon:Af,title:"Artistes",subtitle:"Crateurs, performeurs, designers",description:"Exposez votre crativit",color:"from-purple-400 to-pink-500"}];return o.jsxs("section",{ref:e,className:"relative py-20",children:[o.jsxs("div",{className:"absolute inset-0 opacity-40",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gold-500/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-blue-500/15 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-rose-500/15 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(E.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"Votre identit professionnelle, sans limites"}),o.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700 max-w-3xl mx-auto",children:"Bien plus qu'une simple carte de visite"})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx(E.h3,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.3,duration:.8},className:"text-2xl font-bold text-warmGray-800 mb-6 text-center",children:"Vos fonctionnalits"}),o.jsx(E.div,{variants:sa,initial:"initial",animate:t?"animate":"initial",className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:r.map(s=>{const i=s.icon;return o.jsx(E.div,{variants:qe,children:o.jsx(oe,{variant:"dark-premium",hover:!0,className:"h-full group",children:o.jsxs("div",{className:"p-5",children:[o.jsx(E.div,{className:`w-12 h-12 bg-gradient-to-br ${s.color} rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-gold-md`,children:o.jsx(i,{className:"w-6 h-6 text-black"})}),o.jsx("h4",{className:"text-xl font-bold text-warmGray-50 mb-3",children:s.title}),o.jsx("p",{className:"text-warmGray-200 text-base leading-relaxed",children:s.description})]})})},s.title)})})]}),o.jsxs("div",{children:[o.jsx(E.h3,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.6,duration:.8},className:"text-2xl font-bold text-warmGray-800 mb-6 text-center",children:"Vos profils"}),o.jsx(E.div,{variants:sa,initial:"initial",animate:t?"animate":"initial",className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:n.map((s,i)=>{const a=s.icon;return o.jsx(E.div,{variants:qe,transition:{delay:i*.1+.3},children:o.jsx(oe,{variant:"dark-premium",hover:!0,className:"h-full group",children:o.jsxs("div",{className:"p-5",children:[o.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${s.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-gold-md`,children:o.jsx(a,{className:"w-5 h-5 text-white"})}),o.jsx("div",{className:`inline-block px-3 py-1 rounded-full bg-gradient-to-r ${s.color} text-white text-xs font-bold mb-3`,children:s.title}),o.jsx("h4",{className:"text-base font-bold text-warmGray-50 mb-2",children:s.subtitle}),o.jsx("p",{className:"text-warmGray-200 text-sm",children:s.description})]})})},s.title)})})]}),o.jsx(E.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{delay:1,duration:1},className:"text-center mt-10",children:o.jsx("p",{className:"text-warmGray-600 text-lg",children:"Et bien plus encore : freelances, consultants, artisans, associations..."})})]})]})};function W({children:e,variant:t="primary",size:r="md",fullWidth:n=!1,loading:s=!1,disabled:i,className:a="",...l}){const c="font-semibold rounded-lg inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",u={primary:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-premium-md hover:shadow-premium-lg font-semibold",secondary:"bg-neutral-100 hover:bg-neutral-200 text-neutral-900 border border-neutral-300 shadow-premium-sm",outline:"border-2 border-amber-500/50 hover:border-amber-500 text-amber-500 hover:text-amber-400 hover:bg-amber-500/10 shadow-premium-sm",danger:"bg-red-600 hover:bg-red-700 text-white shadow-premium-md",gold:"bg-gradient-to-r from-gold-400 to-gold-600 hover:from-gold-500 hover:to-gold-700 text-black shadow-gold-lg hover:shadow-gold-glow font-bold transition-all duration-300","gold-outline":"border-2 border-gold-500/50 hover:border-gold-500 text-gold-400 hover:text-gold-300 hover:bg-gold-500/10 shadow-gold-sm hover:shadow-gold-md transition-all duration-300"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},f=n?"w-full":"";return o.jsxs(E.button,{className:Ps(c,u[t],d[r],f,a),disabled:i||s,variants:fA,initial:"rest",whileHover:"hover",whileTap:"tap",...l,children:[s?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(E.div,{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),o.jsx("span",{children:"Chargement..."})]}):e,o.jsx(E.div,{className:"absolute inset-0 bg-white opacity-0 hover:opacity-10",initial:{opacity:0},whileHover:{opacity:.1},transition:{duration:.2}})]})}const gA=()=>{const[e,t]=wa({triggerOnce:!0,threshold:.1}),r=[{name:"Pack Roc",icon:qr,price:"19,90",period:"/mois pendant 1 an",features:["1 profil personnalis","1 carte NFC premium","Partage illimit","QR code dynamique"],highlighted:!1,color:"from-gray-500 to-gray-700"},{name:"Pack Saphir",icon:qr,price:"24,90",period:"/mois pendant 1 an",features:["Tout du Pack Roc","3 profils personnaliss","Pitch vido intgr","CRM intgr","Statistiques avances"],highlighted:!0,recommended:!0,color:"from-[#3B82F6] to-[#2563EB]"},{name:"Pack Emeraude",icon:qr,price:"34,90",period:"/mois pendant 1 an",features:["Tout des Packs Roc & Saphir","Logo personnalis sur carte","Adhsion au club VIP","Support prioritaire","Accs exclusif aux vnements"],highlighted:!1,color:"from-emerald-600 to-emerald-800"}],n=[{name:"Carte de Remplacement",price:"29,90"},{name:"Personnalisation couleur Mtal",price:"+10"}];return o.jsxs("section",{ref:e,className:"relative py-32",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/10 via-transparent to-transparent opacity-30"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(E.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-20",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"Nos Offres"}),o.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700",children:"Choisissez le pack qui vous correspond"})]}),o.jsx(E.div,{variants:sa,initial:"initial",animate:t?"animate":"initial",className:"grid md:grid-cols-3 gap-8 mb-20",children:r.map(s=>{const i=s.icon;return o.jsxs(E.div,{variants:qe,className:"relative",children:[s.recommended&&o.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 z-20",children:o.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-semibold bg-gradient-to-r from-gold-500 to-gold-600 text-white shadow-gold-md",children:"Recommand"})}),o.jsx(oe,{variant:"dark-premium",className:`relative ${s.highlighted?"ring-2 ring-[#3B82F6]/50 shadow-xl transform scale-105":""}`,children:o.jsxs(ye,{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${s.color} flex items-center justify-center mb-4 shadow-lg`,children:o.jsx(i,{className:"w-9 h-9 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-warmGray-50 mb-2",children:s.name})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[o.jsx("span",{className:"text-5xl font-bold text-gold-400",children:s.price}),o.jsx("span",{className:"text-xl text-warmGray-300",children:""})]}),o.jsx("p",{className:"text-sm text-warmGray-300 mt-2",children:s.period})]}),o.jsx(W,{variant:s.highlighted?"primary":"secondary",className:"w-full",children:"Choisir ce pack"})]})})]},s.name)})}),o.jsxs(E.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.3},className:"max-w-5xl mx-auto mb-20",children:[o.jsx("h3",{className:"text-3xl font-bold text-gold-700 text-center mb-10",children:"Comparaison dtaille"}),o.jsx(oe,{variant:"dark-premium",className:"overflow-hidden",children:o.jsx(ye,{className:"p-0",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-neutral-700",children:[o.jsx("th",{className:"text-left p-4 md:p-6 font-semibold text-warmGray-50 bg-neutral-800/30",children:"Fonctionnalits"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-warmGray-200 bg-neutral-800/30",children:"Pack Roc"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-[#3B82F6] bg-[#3B82F6]/20",children:"Pack Saphir"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-emerald-400 bg-emerald-900/20",children:"Pack Emeraude"})]})}),o.jsxs("tbody",{className:"divide-y divide-neutral-700",children:[o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Profils personnaliss"}),o.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"1"}),o.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"3"}),o.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"Illimits"})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Carte NFC premium"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Partage illimit"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"QR code dynamique"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Pitch vido intgr"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"CRM intgr"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Statistiques avances"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Logo personnalis sur carte"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Adhsion au club VIP"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Support prioritaire"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]}),o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Accs exclusif aux vnements"}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})})}),o.jsx("td",{className:"p-4 md:p-6 text-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:o.jsx(ie,{className:"w-4 h-4 text-white"})})})})]})]})]})})})})]}),o.jsxs(E.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.4},className:"max-w-3xl mx-auto",children:[o.jsx("h3",{className:"text-3xl font-bold text-gold-700 text-center mb-10",children:"Services Additionnels"}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map(s=>o.jsx(oe,{variant:"dark-premium",className:"transition-all duration-300 hover:shadow-gold-glow",children:o.jsx(ye,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("h4",{className:"font-semibold text-warmGray-50 mb-2",children:s.name}),o.jsxs("p",{className:"text-2xl font-bold text-gold-400",children:[s.price,""]})]})})},s.name))})]})]})]})};function yA(){const e={product:[{label:"Fonctionnalits",href:"/signup"},{label:"Templates",href:"/signup"},{label:"Cartes NFC",href:"/signup"},{label:"Exemples",href:"/#examples"}],resources:[{label:"Guide de dmarrage",href:"/signup"},{label:"Documentation",href:"/signup"},{label:"Support",href:"/signup"},{label:"FAQ",href:"/#faq"}],company:[{label:" propos",href:"/#about"},{label:"Contact",href:"/#contact"},{label:"Blog",href:"/#blog"}],legal:[{label:"Confidentialit",href:"/#privacy"},{label:"Conditions",href:"/#terms"},{label:"Mentions lgales",href:"/#legal"}]};return o.jsx("footer",{className:"bg-warmGray-800 border-t border-gold-500/30",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8 mb-8",children:[o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx(q,{to:"/",className:"inline-block mb-4",children:o.jsx(E.h2,{className:"text-2xl font-bold bg-gradient-gold-shimmer bg-clip-text text-transparent",whileHover:{scale:1.05},children:"Obsi"})}),o.jsx("p",{className:"text-warmGray-300 text-sm mb-4",children:"Carte de visite noire premium avec QR code et carte NFC pr-configure."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("a",{href:"mailto:contact@obsi.fr",className:"flex items-center gap-2 text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:[o.jsx(hl,{className:"w-4 h-4"}),"contact@obsi.fr"]}),o.jsxs("a",{href:"tel:+33123456789",className:"flex items-center gap-2 text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:[o.jsx(Of,{className:"w-4 h-4"}),"+33 1 23 45 67 89"]}),o.jsxs("div",{className:"flex items-center gap-2 text-warmGray-300 text-sm",children:[o.jsx(Rf,{className:"w-4 h-4"}),"Paris, France"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Produit"}),o.jsx("ul",{className:"space-y-2",children:e.product.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`product-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Ressources"}),o.jsx("ul",{className:"space-y-2",children:e.resources.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`resources-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Entreprise"}),o.jsx("ul",{className:"space-y-2",children:e.company.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`company-${r}`))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Lgal"}),o.jsx("ul",{className:"space-y-2",children:e.legal.map((t,r)=>o.jsx("li",{children:o.jsx(q,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`legal-${r}`))})]})]}),o.jsxs("div",{className:"pt-8 border-t border-gold-500/30 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-warmGray-400 text-sm text-center md:text-left",children:" 2025 Obsi. Tous droits rservs."}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{to:"/#",className:"text-warmGray-400 hover:text-gold-400 transition-colors text-sm",children:"Politique de confidentialit"}),o.jsx("span",{className:"text-gold-500/40",children:""}),o.jsx(q,{to:"/#",className:"text-warmGray-400 hover:text-gold-400 transition-colors text-sm",children:"Conditions d'utilisation"})]})]})]})})}function vA(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-beige-200 via-warmGray-200 to-beige-200",children:[o.jsx(SR,{}),o.jsxs("main",{children:[o.jsx(CR,{}),o.jsx(mA,{}),o.jsx(pA,{}),o.jsx(gA,{})]}),o.jsx(yA,{})]})}const Z=b.forwardRef(({label:e,error:t,helperText:r,success:n,className:s="",...i},a)=>{const[l,c]=b.useState(!1);return o.jsxs("div",{className:"w-full",children:[e&&o.jsx(E.label,{className:Ps("block text-sm font-medium mb-1 transition-colors",l?"text-amber-600":"text-neutral-700",t&&"text-red-600"),animate:{y:l?-2:0},transition:{duration:.2},children:e}),o.jsxs("div",{className:"relative",children:[o.jsx(E.input,{ref:a,className:Ps("w-full px-4 py-2.5 rounded-lg transition-all duration-200","border-2 focus:outline-none",t?"border-red-500 focus:border-red-600 focus:ring-2 focus:ring-red-500/20 bg-white":n?"border-green-500 focus:border-green-600 focus:ring-2 focus:ring-green-500/20 bg-white":"border-neutral-300 focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 bg-white","text-neutral-900 placeholder:text-neutral-500",s),onFocus:()=>c(!0),onBlur:()=>c(!1),animate:{scale:l?1.01:1},transition:{duration:.2},...i}),o.jsxs(ol,{children:[t&&o.jsx(E.div,{initial:{opacity:0,scale:.8,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(Pi,{className:"w-5 h-5 text-red-500"})}),n&&!t&&o.jsx(E.div,{initial:{opacity:0,scale:.8,rotate:-10},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:15},className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(zs,{className:"w-5 h-5 text-green-500"})})]})]}),o.jsxs(ol,{mode:"wait",children:[t&&o.jsx(E.p,{initial:{opacity:0,y:-10,x:-5},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-red-600 flex items-center gap-1.5",children:o.jsx(E.span,{animate:{x:[-2,2,-2,2,0]},transition:{duration:.4},children:t})}),r&&!t&&o.jsx(E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-neutral-600",children:r})]})]})});Z.displayName="Input";function xA(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),{signIn:c}=Yt(),u=Qe();async function d(f){f.preventDefault(),i(""),l(!0);const{error:h}=await c(e,r);h?(i(h.message),l(!1)):u("/dashboard")}return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4 relative overflow-hidden",children:[o.jsx(E.div,{className:"absolute inset-0 opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.15) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),o.jsxs(E.div,{variants:dA,initial:"initial",animate:"animate",className:"max-w-md w-full relative z-10",children:[o.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-8",children:[o.jsx(q,{to:"/",className:"inline-block",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-amber bg-clip-text text-transparent mb-2",children:"Obsi"})}),o.jsx("p",{className:"text-neutral-600 text-sm",children:"Solution premium pour professionnels"})]}),o.jsx(oe,{variant:"default",className:"bg-white border-neutral-200 shadow-premium-lg",children:o.jsxs(ye,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.3},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:o.jsx(sR,{className:"w-8 h-8 text-black"})}),o.jsx(E.h1,{variants:uA,initial:"initial",animate:"animate",transition:{delay:.4},className:"text-3xl font-bold text-neutral-900",children:"Bon retour"}),o.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-neutral-600 mt-2",children:"Connectez-vous  votre compte"})]}),o.jsxs(E.form,{onSubmit:d,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4",children:[o.jsx(Z,{label:"Email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"vous@exemple.com",required:!0}),o.jsx(Z,{label:"Mot de passe",type:"password",value:r,onChange:f=>n(f.target.value),placeholder:"Entrez votre mot de passe",required:!0}),s&&o.jsx(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg text-sm backdrop-blur-sm",children:s}),o.jsx(W,{type:"submit",fullWidth:!0,loading:a,variant:"secondary",children:"Se connecter"})]}),o.jsxs(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center text-neutral-600",children:["Pas encore de compte ?"," ",o.jsx(q,{to:"/signup",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"S'inscrire"})]})]})}),o.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-6 text-center",children:o.jsxs(q,{to:"/",className:"inline-flex items-center gap-2 text-sm text-neutral-600 hover:text-amber-600 transition-colors",children:[o.jsx(On,{className:"w-4 h-4"}),o.jsx("span",{children:"Dcouvrir Obsi"})]})})]})]})}function wA(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(!1),{signUp:d}=Yt(),f=Qe();async function h(m){if(m.preventDefault(),l(""),r!==s){l("Les mots de passe ne correspondent pas");return}if(r.length<6){l("Le mot de passe doit contenir au moins 6 caractres");return}u(!0);const{error:p}=await d(e,r);p?(l(p.message),u(!1)):f("/onboarding")}return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white border border-neutral-200 rounded-2xl shadow-premium-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:o.jsx(pR,{className:"w-8 h-8 text-black"})}),o.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Crer un compte"}),o.jsx("p",{className:"text-neutral-600 mt-2",children:"Commencez votre parcours profil professionnel numrique"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsx(Z,{label:"Email",type:"email",value:e,onChange:m=>t(m.target.value),placeholder:"vous@exemple.com",required:!0}),o.jsx(Z,{label:"Mot de passe",type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Au moins 6 caractres",required:!0}),o.jsx(Z,{label:"Confirmer le mot de passe",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"Confirmez votre mot de passe",required:!0}),a&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),o.jsx(W,{type:"submit",fullWidth:!0,loading:c,children:"Crer mon compte"})]}),o.jsxs("p",{className:"mt-6 text-center text-neutral-600",children:["Dj un compte ?"," ",o.jsx(q,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"Se connecter"})]})]})})}function Hl(){const{user:e}=Yt(),[t,r]=b.useState(null),[n,s]=b.useState(!0),[i,a]=b.useState(null);return b.useEffect(()=>{if(!e){r(null),s(!1);return}async function u(){try{const{data:d,error:f}=await z.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(f)throw f;r(d)}catch(d){a(d instanceof Error?d.message:"Failed to fetch profile")}finally{s(!1)}}u()},[e]),{profile:t,loading:n,error:i,updateProfile:async u=>{if(!e||!t)return{error:"No user or profile found"};try{const{error:d}=await z.from("profiles").update(u).eq("id",t.id);if(d)throw d;return r({...t,...u}),{error:null}}catch(d){return{error:d instanceof Error?d.message:"Failed to update profile"}}},createProfile:async u=>{if(!e)return{error:"No user found"};try{const{data:d,error:f}=await z.from("profiles").insert({user_id:e.id,username:u.username,full_name:u.full_name,title:u.title||"",email:u.email||"",phone:u.phone||"",bio:"",website:"",profile_photo_url:"",video_url:"",pdf_url:"",social_links:{},design_template:"modern",qr_customization:{},lead_collection_enabled:!1,lead_form_fields:{name:!0,email:!0,phone:!1,message:!1},is_active:!0,view_count:0,sector:u.sector||"personnalise",custom_fields:u.custom_fields||[]}).select().single();if(f)throw f;return r(d),await z.from("subscriptions").insert({user_id:e.id,tier:"free",status:"active"}),{error:null,profile:d}}catch(d){return{error:d instanceof Error?d.message:"Failed to create profile",profile:null}}}}}const e0={free:3,premium:10,premium_plus:1/0},t0={free:1,premium:5,premium_plus:1/0};function o1(){const{user:e}=Yt(),[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{if(!e){r(null),s(!1);return}async function d(){try{const{data:f,error:h}=await z.from("subscriptions").select("*").eq("user_id",e.id).maybeSingle();if(h)throw h;r(f)}catch(f){console.error("Failed to fetch subscription:",f)}finally{s(!1)}}d()},[e]);const i=(t==null?void 0:t.tier)||"free",a=e0[i]||e0.free,l=t0[i]||t0.free;return{subscription:t,loading:n,tier:i,maxCustomFields:a,maxSavedTemplates:l,canAddCustomField:d=>d<a,canSaveTemplate:d=>d<l}}const Bf={free:null,premium:"roc",premium_plus:"saphir",emeraude:"emeraude"},l1={roc:{name:"roc",displayName:"Pack Roc",icon:"gem",price:"19.90",period:"/mois pendant 1 an",color:"gray",gradientFrom:"from-gray-500",gradientTo:"to-gray-700",borderColor:"border-gray-500",badgeColor:"bg-gray-600",highlighted:!1,description:["1 profil personnalis","1 carte NFC premium","Partage illimit","QR code dynamique"],features:{profiles:1,nfcCard:!0,unlimitedSharing:!0,dynamicQR:!0,videoPitch:!1,crm:!1,advancedAnalytics:!1,customLogo:!1,vipClub:!1,prioritySupport:!1,exclusiveEvents:!1,customThemeColor:!1,videoStorageMB:0,customFields:3,exportOptions:[]}},saphir:{name:"saphir",displayName:"Pack Saphir",icon:"gem",price:"24.90",period:"/mois pendant 1 an",color:"blue",gradientFrom:"from-[#3B82F6]",gradientTo:"to-[#2563EB]",borderColor:"border-[#3B82F6]",badgeColor:"bg-[#3B82F6]",highlighted:!0,description:["Tout du Pack Roc","3 profils personnaliss","Pitch vido intgr","CRM intgr","Statistiques avances"],features:{profiles:3,nfcCard:!0,unlimitedSharing:!0,dynamicQR:!0,videoPitch:!0,crm:!0,advancedAnalytics:!0,customLogo:!1,vipClub:!1,prioritySupport:!1,exclusiveEvents:!1,customThemeColor:!0,videoStorageMB:100,customFields:10,exportOptions:["csv"]}},emeraude:{name:"emeraude",displayName:"Pack Emeraude",icon:"gem",price:"34.90",period:"/mois pendant 1 an",color:"emerald",gradientFrom:"from-emerald-600",gradientTo:"to-emerald-800",borderColor:"border-emerald-600",badgeColor:"bg-emerald-600",highlighted:!1,description:["Tout des Packs Roc & Saphir","Logo personnalis sur carte","Adhsion au club VIP","Support prioritaire","Accs exclusif aux vnements"],features:{profiles:"unlimited",nfcCard:!0,unlimitedSharing:!0,dynamicQR:!0,videoPitch:!0,crm:!0,advancedAnalytics:!0,customLogo:!0,vipClub:!0,prioritySupport:!0,exclusiveEvents:!0,customThemeColor:!0,videoStorageMB:500,customFields:9999,exportOptions:["csv","pdf","excel"]}}},ia=["roc","saphir","emeraude"];function Sr(e){return l1[e]}function bA(e){const t=Bf[e];return t?l1[t]:null}function Pr(e,t){const n=Sr(e).features[t];return typeof n=="boolean"?n:!0}function jA(e){return Sr(e).features.profiles}function _A(e,t){const r=jA(e);return r==="unlimited"?!0:t<r}function SA(e){return ia.indexOf(e)}function NA(e){const t=SA(e);return t>=ia.length-1?null:ia[t+1]}function kA(e){return e?Sr(e).borderColor:"border-gray-200"}function ql(){const{subscription:e,loading:t}=o1(),r=b.useMemo(()=>!e||e.status!=="active"?"free":e.tier,[e]),n=b.useMemo(()=>Bf[r],[r]),s=b.useMemo(()=>bA(r),[r]),i=b.useMemo(()=>n?NA(n):"roc",[n]);return b.useMemo(()=>{const l="roc",c=n||l,u=s||Sr(l);return{tier:n,subscriptionTier:r,config:s,isLoading:t,canAddProfile:d=>n?_A(c,d):d<1,canUploadVideo:()=>n?Pr(c,"videoPitch"):!1,canAccessCRM:()=>n?Pr(c,"crm"):!1,canAccessAdvancedAnalytics:()=>n?Pr(c,"advancedAnalytics"):!1,canCustomizeLogo:()=>n?Pr(c,"customLogo"):!1,canAccessVIPClub:()=>n?Pr(c,"vipClub"):!1,canAccessPrioritySupport:()=>n?Pr(c,"prioritySupport"):!1,canCustomizeTheme:()=>n?Pr(c,"customThemeColor"):!1,canAccessFeature:d=>n?Pr(c,d):!1,getProfileLimit:()=>u.features.profiles,getVideoStorageLimit:()=>u.features.videoStorageMB,getCustomFieldsLimit:()=>u.features.customFields,getRemainingProfiles:d=>{const f=u.features.profiles;return f==="unlimited"?"unlimited":Math.max(0,f-d)},nextTier:i,canUpgrade:i!==null,isFreeTier:r==="free",isPremiumTier:r==="premium",isPremiumPlusTier:r==="premium_plus",isEmeraudeTier:r==="emeraude"}},[n,r,s,t,i])}const EA={landmark:Db,"building-2":kf,"graduation-cap":Tf,user:gR,palette:Af,settings:Ub};function CA({onSelect:e,selectedTemplate:t}){const[r,n]=b.useState([]),[s,i]=b.useState(!0);return b.useEffect(()=>{async function a(){try{const{data:l,error:c}=await z.from("profile_templates").select("*").eq("is_active",!0).order("created_at",{ascending:!0});if(c)throw c;n(l||[])}catch(l){console.error("Error fetching templates:",l)}finally{i(!1)}}a()},[]),s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-2",children:"Choisissez votre secteur"}),o.jsx("p",{className:"text-warmGray-600",children:"Slectionnez le template qui correspond le mieux  votre activit"})]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(a=>{const l=EA[a.icon]||Ub,c=(t==null?void 0:t.id)===a.id,u=a.name==="politique";return o.jsxs("button",{onClick:()=>e(a),className:`relative p-6 rounded-xl border-2 transition-all text-left ${c?"border-gold-600 bg-gold-50":"border-warmGray-200 hover:border-gold-300 bg-white hover:bg-warmGray-50"}`,children:[u&&o.jsx("div",{className:"absolute -top-3 left-4 px-3 py-1 bg-gradient-gold text-navy-900 text-xs font-semibold rounded-full",children:"Recommand"}),c&&o.jsx("div",{className:"absolute -top-3 right-4 w-8 h-8 bg-gold-600 rounded-full flex items-center justify-center",children:o.jsx(ie,{className:"w-5 h-5 text-navy-900"})}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-lg ${c?"bg-gold-100":"bg-warmGray-100"}`,children:o.jsx(l,{className:`w-6 h-6 ${c?"text-gold-600":"text-warmGray-600"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-navy-900 mb-1",children:a.label}),o.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:a.description}),a.default_fields&&a.default_fields.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-warmGray-500",children:"Champs inclus :"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.default_fields.slice(0,3).map(d=>o.jsx("span",{className:"inline-block px-2 py-0.5 bg-warmGray-100 text-warmGray-700 rounded text-xs",children:d.label},d.id)),a.default_fields.length>3&&o.jsxs("span",{className:"inline-block px-2 py-0.5 text-warmGray-500 text-xs",children:["+",a.default_fields.length-3," autres"]})]})]})]})]})]},a.id)})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-900",children:[o.jsx("span",{className:"font-semibold",children:"Plan gratuit :"})," 3 champs personnaliss supplmentaires inclus"]})})]})}function Kl({tier:e,variant:t="inline",className:r,showIcon:n=!0,animated:s=!0}){const i=Sr(e),a={compact:"px-2 py-0.5 text-xs",inline:"px-3 py-1 text-sm",large:"px-4 py-2 text-base",profile:"px-3 py-1.5 text-sm"},l={compact:"w-3 h-3",inline:"w-4 h-4",large:"w-5 h-5",profile:"w-4 h-4"};return o.jsxs("div",{className:Ps("inline-flex items-center gap-1.5 rounded-full font-semibold","bg-gradient-to-r shadow-md",i.gradientFrom,i.gradientTo,"text-white",a[t],s&&"transition-all duration-300 hover:shadow-lg hover:scale-105",r),children:[n&&o.jsx(qr,{className:l[t]}),o.jsx("span",{children:i.displayName})]})}function PA(){const[e]=Il(),[t,r]=b.useState("template"),[n,s]=b.useState(null),[i,a]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(""),[m,p]=b.useState(""),[v,w]=b.useState(""),[g,y]=b.useState(!1),[x,j]=b.useState(!1),[_,S]=b.useState(null),{createProfile:N}=Hl(),{tier:k,config:C}=ql(),R=Qe();b.useEffect(()=>{const U=e.get("email"),H=e.get("name"),X=e.get("phone"),te=e.get("tier");U&&(p(U),j(!0)),H&&c(H),X&&h(X),te&&["roc","saphir","emeraude"].includes(te)?S(te):S(k||"roc")},[e,k]);async function D(U){U.preventDefault(),w(""),y(!0);const H=i.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");if(H.length<3){w("Le nom d'utilisateur doit contenir au moins 3 caractres"),y(!1);return}const{error:X}=await N({username:H,full_name:l,title:u,email:m,phone:f,sector:(n==null?void 0:n.name)||"personnalise",custom_fields:(n==null?void 0:n.default_fields)||[]});X?(X.includes("unique")?w("Nom d'utilisateur dj pris. Veuillez en choisir un autre."):w(X),y(!1)):R("/dashboard")}if(t==="template"){const U=_?Sr(_):null;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:o.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-xl p-8",children:[_&&U&&o.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-gold-50 to-amber-50 border border-gold-200 rounded-xl",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[o.jsx(Pf,{className:"w-6 h-6 text-gold-600"}),o.jsx("h2",{className:"text-xl font-bold text-warmGray-900",children:"Bienvenue dans votre"}),o.jsx(Kl,{tier:_,variant:"large"})]}),o.jsx("p",{className:"text-center text-warmGray-700 text-sm",children:"Vous avez accs  toutes les fonctionnalits premium de votre pack"}),o.jsx("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-2",children:U.description.slice(0,3).map((H,X)=>o.jsx("span",{className:"text-xs bg-white px-3 py-1 rounded-full text-warmGray-600 border border-gold-200",children:H},X))})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(On,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Crez votre carte numrique"}),o.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 1 sur 2"})]}),o.jsx(CA,{onSelect:s,selectedTemplate:n}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(W,{onClick:()=>r("details"),disabled:!n,size:"lg",children:"Continuer"})})]})})}return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:()=>r("template"),className:"flex items-center gap-2 text-warmGray-600 hover:text-warmGray-900 transition-colors",children:[o.jsx(zl,{className:"w-4 h-4"}),"Retour"]})}),x&&o.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",children:[o.jsx(zs,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-900",children:"Carte active avec succs !"}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Compltez votre profil pour finaliser la configuration"})]})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:o.jsx(On,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Vos informations"}),o.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 2 sur 2 - Cela prend moins de 60 secondes"})]}),o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Z,{label:"Nom complet",value:l,onChange:U=>c(U.target.value),placeholder:"Jean Dupont",required:!0}),o.jsx(Z,{label:"Nom d'utilisateur",value:i,onChange:U=>a(U.target.value),placeholder:"jeandupont",helperText:"Votre URL unique : app.com/votre-nom",required:!0})]}),o.jsx(Z,{label:"Titre / Profession",value:u,onChange:U=>d(U.target.value),placeholder:"ex: Responsable Marketing, Designer Freelance"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Z,{label:"Tlphone",type:"tel",value:f,onChange:U=>h(U.target.value),placeholder:"+33 6 12 34 56 78"}),o.jsx(Z,{label:"Email",type:"email",value:m,onChange:U=>p(U.target.value),placeholder:"jean@exemple.com"})]}),v&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:v}),o.jsx(W,{type:"submit",fullWidth:!0,size:"lg",loading:g,children:"Crer ma carte"}),o.jsx("p",{className:"text-center text-sm text-warmGray-500",children:"Vous pourrez ajouter plus de dtails et personnaliser votre carte plus tard"})]})]})})}function c1(e){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0),[l,c]=b.useState(null);return b.useEffect(()=>{if(!e){a(!1);return}async function u(){try{a(!0),c(null);const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(f.getTime()-7*24*60*60*1e3),p=new Date(f.getFullYear(),f.getMonth(),1),{data:v,error:w}=await z.from("profile_analytics").select("*").eq("profile_id",e).order("created_at",{ascending:!1});if(w)throw w;const g=v||[],y=g.filter(C=>C.event_type==="view").length,x=g.filter(C=>C.event_type==="vcard_download").length,j=g.filter(C=>C.event_type==="link_click").length,_=y>0?x/y*100:0,S={mobile:g.filter(C=>C.device_type==="mobile").length,desktop:g.filter(C=>C.device_type==="desktop").length,tablet:g.filter(C=>C.device_type==="tablet").length},N=g.slice(0,20);r({totalViews:y,totalDownloads:x,totalLinkClicks:j,conversionRate:_,deviceBreakdown:S,recentEvents:N});const k=C=>{const R=g.filter(D=>new Date(D.created_at)>=C);return{views:R.filter(D=>D.event_type==="view").length,downloads:R.filter(D=>D.event_type==="vcard_download").length,clicks:R.filter(D=>D.event_type==="link_click").length}};s({today:k(h),thisWeek:k(m),thisMonth:k(p),total:{views:y,downloads:x,clicks:j}})}catch(f){console.error("Error fetching analytics:",f),c(f.message||"Erreur lors du chargement des statistiques")}finally{a(!1)}}u();const d=setInterval(u,5*60*1e3);return()=>clearInterval(d)},[e]),{analytics:t,periods:n,loading:i,error:l}}function kn({to:e,label:t,description:r,icon:n,external:s=!1,variant:i="default"}){return i==="card"?o.jsx(E.div,{whileHover:{scale:1.02,y:-2},className:"bg-white border border-amber-200 rounded-lg p-4 hover:border-amber-400 transition-colors shadow-premium-sm",children:o.jsxs(q,{to:e,className:"flex items-start gap-3",children:[n&&o.jsx("div",{className:"text-amber-600 mt-1",children:n}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"text-neutral-900 font-semibold mb-1 flex items-center gap-2",children:[t,s?o.jsx(Kg,{className:"w-4 h-4"}):o.jsx(ul,{className:"w-4 h-4"})]}),r&&o.jsx("p",{className:"text-neutral-600 text-sm",children:r})]})]})}):o.jsxs(q,{to:e,className:"inline-flex items-center gap-2 text-amber-600 hover:text-amber-700 transition-colors text-sm font-medium",children:[n,t,s?o.jsx(Kg,{className:"w-4 h-4"}):o.jsx(ul,{className:"w-4 h-4"})]})}function u1({profile:e,className:t=""}){const[r,n]=b.useState(!1),s=`${window.location.origin}/${e.username}`;return o.jsx("div",{className:t,style:{perspective:"1000px"},children:o.jsxs(E.div,{className:"relative w-full cursor-pointer",style:{transformStyle:"preserve-3d"},onClick:()=>n(!r),animate:{rotateY:r?180:0},transition:{duration:.6,type:"spring",stiffness:100},children:[o.jsx(E.div,{className:"relative w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(96, 165, 250, 0.1) 10px, rgba(96, 165, 250, 0.1) 11px)"}}),o.jsxs("div",{className:"relative h-full flex flex-col justify-between p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(E.div,{className:"inline-block bg-blue-400 rounded-lg px-3 py-1.5",whileHover:{scale:1.05},children:o.jsx("span",{className:"text-xs sm:text-sm font-bold text-blue-900",children:"PREMIUM"})}),o.jsx(E.div,{className:"bg-blue-400 p-2 rounded-lg",animate:{boxShadow:["0 0 0 0 rgba(96, 165, 250, 0.4)","0 0 0 10px rgba(96, 165, 250, 0)","0 0 0 0 rgba(96, 165, 250, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:o.jsx(Fb,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-900"})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 gap-2 sm:gap-3",children:[o.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-white text-center tracking-tight",children:e.full_name||"Votre Nom"}),o.jsx(E.div,{className:"bg-white p-2 sm:p-3 rounded-xl flex-shrink-0 shadow-2xl",children:o.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-28 lg:h-28",children:o.jsx(Vf,{value:s,size:112,level:"H",fgColor:"#1e3a8a",style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),o.jsx(E.p,{className:"text-blue-200 text-xs sm:text-sm font-medium text-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Scannez le code QR pour accder au profil"})]})]})]})}),o.jsx(E.div,{className:"absolute inset-0 w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden",rotateY:180},children:o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden border border-blue-500/20",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 20px, rgba(96, 165, 250, 0.1) 20px, rgba(96, 165, 250, 0.1) 21px)"}}),o.jsx("div",{className:"relative h-full flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[o.jsx("div",{className:"w-28 h-28 sm:w-36 sm:h-36 mx-auto bg-blue-400 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/50",children:o.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-blue-900",children:"LOGO"})}),o.jsx("p",{className:"text-white text-sm sm:text-base font-semibold",children:"Votre Service Premium"}),o.jsx("p",{className:"text-blue-200 text-xs sm:text-sm",children:s})]})})]})}),o.jsx(E.div,{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-900/90 backdrop-blur-sm px-4 py-2 rounded-full whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5},children:o.jsxs("p",{className:"text-blue-200 text-xs font-medium",children:[r?"Verso":"Recto","  Cliquez pour retourner"]})})]})})}function ps({value:e,duration:t=1,className:r=""}){const n=b.useRef(null),s=Rb(0),i=xT(s,l=>Math.round(l)),a=UT(n,{once:!0,margin:"-100px"});return b.useEffect(()=>{if(a)return FT(s,e,{duration:t,ease:"easeOut"}).stop},[a,s,e,t]),o.jsx(E.span,{ref:n,className:r,children:i})}function TA(){const e=Qe(),{tier:t,config:r,getProfileLimit:n,canUpgrade:s,nextTier:i,isFreeTier:a}=ql();if(a)return o.jsx(oe,{variant:"dark-premium",children:o.jsx(ye,{className:"p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-warmGray-50 mb-2",children:"Aucun abonnement actif"}),o.jsx("p",{className:"text-warmGray-400 text-sm mb-4",children:"Commandez une carte premium pour dbloquer toutes les fonctionnalits"}),o.jsx(W,{variant:"primary",onClick:()=>e("/pricing"),className:"w-full",children:"Dcouvrir les offres"})]})})});if(!t||!r)return null;const l=Sr(t),c=n(),u=ia.indexOf(t);return o.jsxs(oe,{variant:"dark-premium",className:"relative overflow-hidden",children:[o.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${l.gradientFrom} ${l.gradientTo} opacity-20 blur-3xl`}),o.jsxs(ye,{className:"p-6 relative",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${l.gradientFrom} ${l.gradientTo} flex items-center justify-center shadow-lg`,children:o.jsx(qr,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-warmGray-400",children:"Votre Pack"}),o.jsx(Kl,{tier:t,variant:"inline"})]})]})}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Profils disponibles"}),o.jsx("span",{className:"text-warmGray-50 font-semibold",children:c==="unlimited"?"Illimits":c})]}),o.jsx("div",{className:"w-full bg-neutral-800 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${l.gradientFrom} ${l.gradientTo}`,style:{width:`${(u+1)/ia.length*100}%`}})})]}),o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsx("p",{className:"text-xs font-semibold text-warmGray-300 uppercase tracking-wider",children:"Fonctionnalits actives"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.description.slice(0,4).map((d,f)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(ie,{className:"w-2.5 h-2.5 text-white"})}),o.jsx("span",{className:"text-xs text-warmGray-300",children:d})]},f))})]}),s&&i&&o.jsxs(W,{variant:"primary",size:"sm",onClick:()=>e("/pricing"),className:"w-full",children:[o.jsx(HT,{className:"w-4 h-4 mr-2"}),"Upgrader vers ",Sr(i).displayName]})]})]})}function RA({className:e,compact:t=!1}){const{nextTier:r,canUpgrade:n,tier:s}=ql();if(!n||!r)return null;const i=Sr(r);return t?o.jsx(oe,{variant:"dark-premium",className:e,children:o.jsx(ye,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center flex-shrink-0",children:o.jsx(On,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-semibold text-warmGray-50",children:["Passez au ",i.displayName]}),o.jsx("p",{className:"text-xs text-warmGray-400",children:"Dbloquez de nouvelles fonctionnalits"})]})]}),o.jsx(W,{variant:"primary",size:"sm",onClick:()=>window.location.href="/pricing",children:"Dcouvrir"})]})})}):o.jsx(oe,{variant:"dark-premium",className:e,children:o.jsx(ye,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center flex-shrink-0 shadow-gold-md",children:o.jsx(On,{className:"w-7 h-7 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-warmGray-50",children:"Passez au niveau suprieur"}),o.jsx(Kl,{tier:r,variant:"compact"})]}),o.jsxs("p",{className:"text-warmGray-300 mb-4",children:["Dcouvrez toutes les fonctionnalits premium du ",i.displayName," pour seulement"," ",o.jsxs("span",{className:"text-gold-400 font-semibold",children:[i.price,""]}),i.period]}),o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsx("p",{className:"text-sm font-semibold text-warmGray-200 mb-3",children:"Nouvelles fonctionnalits dbloques:"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.description.map((a,l)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(ie,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-sm text-warmGray-300",children:a})]},l))})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(W,{variant:"primary",onClick:()=>window.location.href="/pricing",className:"flex-1 sm:flex-initial",children:["Upgrader maintenant",o.jsx(ul,{className:"w-4 h-4 ml-2"})]}),o.jsx(W,{variant:"secondary",onClick:()=>window.location.href="/pricing",className:"flex-1 sm:flex-initial",children:"Comparer les offres"})]})]})]})})})}function AA(){const{profile:e,loading:t}=Hl(),{analytics:r}=c1(e==null?void 0:e.id),{signOut:n}=Yt(),{canUpgrade:s}=ql(),i=Qe();if(b.useEffect(()=>{!t&&!e&&i("/onboarding")},[e,t,i]),t)return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:o.jsx(E.div,{className:"h-12 w-12 border-4 border-amber-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(!e)return null;const a=`${window.location.origin}/${e.username}`,l=(u="standard")=>{const d=document.getElementById("qr-code");if(!d)return;const f=new XMLSerializer().serializeToString(d),h=document.createElement("canvas"),m=h.getContext("2d"),p=new Image,v=u==="high"?1e3:400;p.onload=()=>{if(h.width=v,h.height=v,m){m.fillStyle="white",m.fillRect(0,0,v,v);const x=v/200;m.scale(x,x),m.drawImage(p,0,0)}const w=h.toDataURL("image/png"),g=document.createElement("a"),y=u==="high"?"-high-res":"";g.download=`${e.username}-qr-code${y}.png`,g.href=w,g.click()},p.src="data:image/svg+xml;base64,"+btoa(f)},c=async()=>{if(navigator.share)try{await navigator.share({title:`Carte de ${e.full_name}`,text:"Dcouvrez ma profil professionnel numrique",url:a})}catch(u){console.error("Error sharing:",u)}else navigator.clipboard.writeText(a),alert("Lien copi dans le presse-papier !")};return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx(E.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-premium-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-amber bg-clip-text text-transparent",children:"Ma carte numrique"}),o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>n(),children:[o.jsx(Mb,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 p-6 bg-gradient-to-r from-amber-50 to-transparent border border-amber-200 rounded-xl",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(On,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-neutral-900 font-semibold mb-2",children:"Dcouvrez toutes les fonctionnalits"}),o.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:"Optimisez votre prsence professionnelle avec nos outils avancs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(kn,{to:"/analytics",label:"Analytics dtaills",description:"Comprendre votre audience",icon:o.jsx(kd,{className:"w-4 h-4"}),variant:"card"}),o.jsx(kn,{to:"/edit",label:"Personnalisation",description:"Affiner votre profil",icon:o.jsx(Cd,{className:"w-4 h-4"}),variant:"card"})]})]})]})}),o.jsxs(E.div,{variants:i1,initial:"initial",animate:"animate",className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(E.div,{variants:qe,children:o.jsx(oe,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ye,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Aperu de votre carte"}),o.jsx(q,{to:"/edit",children:o.jsxs(W,{variant:"outline",children:[o.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Modifier"]})})]}),o.jsx(u1,{profile:e,className:"mb-6"}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 flex gap-3",children:[o.jsx(q,{to:`/${e.username}`,className:"flex-1",children:o.jsxs(W,{variant:"outline",fullWidth:!0,children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Aperu"]})}),o.jsxs(W,{variant:"outline",onClick:c,fullWidth:!0,children:[o.jsx(If,{className:"w-4 h-4 mr-2"}),"Partager"]})]})]})})}),o.jsx(E.div,{variants:qe,children:o.jsx(oe,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ye,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Statistiques en temps rel"}),o.jsx(q,{to:"/analytics",children:o.jsxs(W,{variant:"outline",size:"sm",children:[o.jsx(kd,{className:"w-4 h-4 mr-2"}),"Voir dtails"]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs(E.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(No,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(ps,{value:(r==null?void 0:r.totalViews)||e.view_count||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Vues totales"})]}),o.jsxs(E.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx(Df,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(ps,{value:(r==null?void 0:r.totalDownloads)||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Tlchargements"})]}),o.jsxs(E.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[o.jsx($b,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),o.jsx("p",{className:"text-4xl font-bold text-amber-600",children:o.jsx(ps,{value:(r==null?void 0:r.totalLinkClicks)||0,duration:1.5})}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Clics"})]})]})]})})}),s&&o.jsx(E.div,{variants:qe,children:o.jsx(RA,{})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(E.div,{variants:qe,children:o.jsx(TA,{})}),o.jsx(E.div,{variants:qe,children:o.jsx(oe,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ye,{children:[o.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Votre QR Code"}),o.jsx(E.div,{whileHover:{scale:1.05},className:"bg-white p-6 rounded-lg border-2 border-amber-500 flex items-center justify-center shadow-amber-glow",children:o.jsx(Vf,{id:"qr-code",value:a,size:200,level:"H"})}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs(W,{fullWidth:!0,variant:"secondary",onClick:()=>l("standard"),children:[o.jsx(Es,{className:"w-4 h-4 mr-2"}),"Tlcharger (Standard)"]}),o.jsxs(W,{fullWidth:!0,variant:"outline",onClick:()=>l("high"),children:[o.jsx(Es,{className:"w-4 h-4 mr-2"}),"Tlcharger (Haute rsolution)"]}),o.jsx("p",{className:"text-xs text-center text-neutral-500 mt-2",children:"Format haute rsolution recommand pour impression professionnelle"})]})]})})}),o.jsx(E.div,{variants:qe,children:o.jsx(oe,{variant:"default",className:"bg-white border-neutral-200",children:o.jsxs(ye,{children:[o.jsx("h3",{className:"font-semibold text-amber-600 mb-2",children:"URL de votre profil"}),o.jsx("p",{className:"text-sm text-neutral-600 break-all mb-3",children:a}),o.jsx(W,{size:"sm",fullWidth:!0,variant:"outline",onClick:()=>{navigator.clipboard.writeText(a),alert("Lien copi !")},children:"Copier le lien"})]})})}),o.jsx(E.div,{variants:qe,children:o.jsx(oe,{variant:"default",className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:o.jsxs(ye,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-full flex items-center justify-center shadow-amber-glow flex-shrink-0",children:o.jsx(Fb,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:"Carte NFC prte  l'emploi"}),o.jsx("p",{className:"text-xs text-neutral-500",children:"Zro configuration requise"})]})]}),o.jsx("p",{className:"text-sm text-neutral-600 mb-3 leading-relaxed",children:"Votre carte NFC physique sera pr-configure avec votre profil et livre prte  utiliser. Aucune manipulation technique ncessaire."}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[o.jsx("p",{className:"text-xs text-neutral-700 font-medium mb-2",children:"Comment a marche ?"}),o.jsxs("ul",{className:"text-xs text-neutral-600 space-y-1",children:[o.jsx("li",{children:" Nous configurons votre carte avec votre profil"}),o.jsx("li",{children:" Vous la recevez prte  partager"}),o.jsx("li",{children:" Un simple tap suffit pour changer vos coordonnes"})]})]})]})})})]})]})]})]})}function d1({items:e,className:t=""}){return o.jsxs("nav",{"aria-label":"Breadcrumb",className:`flex items-center space-x-2 text-sm ${t}`,children:[o.jsx(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center",children:o.jsx(q,{to:"/dashboard",className:"flex items-center text-neutral-600 hover:text-amber-600 transition-colors","aria-label":"Accueil",children:o.jsx(YT,{className:"w-4 h-4"})})}),e.map((r,n)=>o.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"flex items-center space-x-2",children:[o.jsx(So,{className:"w-4 h-4 text-neutral-400","aria-hidden":"true"}),r.href?o.jsx(q,{to:r.href,className:"text-neutral-600 hover:text-amber-600 transition-colors",children:r.label}):o.jsx("span",{className:"text-neutral-900 font-medium","aria-current":"page",children:r.label})]},n))]})}function OA(e){if(!e)return!0;try{return new URL(e),!0}catch{return!1}}function IA(e){return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e):!0}function LA(e){return e?/^[\d\s\-\+\(\)]{8,}$/.test(e):!0}function DA(e){return e.trim().length>0}function r0(e,t,r){if(r&&!DA(t))return"Ce champ est requis";if(!t)return null;switch(e){case"url":return OA(t)?null:"URL invalide";case"email":return IA(t)?null:"Email invalide";case"phone":return LA(t)?null:"Numro de tlphone invalide";default:return null}}function n0({field:e,onChange:t}){const[r,n]=b.useState(null),[s,i]=b.useState(!1);b.useEffect(()=>{if(s){const c=r0(e.type,e.value,e.required);n(c)}},[e.value,e.type,e.required,s]);const a=c=>{i(!0),t(c)},l=()=>{i(!0);const c=r0(e.type,e.value,e.required);n(c)};return e.type==="textarea"?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:[e.label,e.required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"}),!e.isPublic&&o.jsx("span",{className:"ml-2 text-xs text-warmGray-500 bg-warmGray-100 px-2 py-0.5 rounded",children:"Priv"})]}),o.jsx("textarea",{value:e.value,onChange:c=>a(c.target.value),onBlur:l,rows:e.rows||4,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-500 focus:border-transparent ${r?"border-red-300":"border-warmGray-300"}`,placeholder:`Entrez ${e.label.toLowerCase()}`}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]}):o.jsxs("div",{children:[o.jsx(Z,{label:e.label,type:e.type==="text"?"text":e.type,value:e.value,onChange:c=>a(c.target.value),onBlur:l,required:e.required,helperText:e.isPublic?void 0:"Champ priv - visible uniquement pour vous"}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]})}function MA({fields:e,onChange:t,templateFields:r}){const{maxCustomFields:n,canAddCustomField:s}=o1(),[i,a]=b.useState(!1),[l,c]=b.useState(""),[u,d]=b.useState("text"),[f,h]=b.useState(!0),m=e.filter(x=>!r.find(j=>j.id===x.id)),p=s(m.length),v=()=>{if(!l.trim())return;const x={id:`custom_${Date.now()}`,label:l,type:u,value:"",required:!1,order:e.length,isPublic:f};t([...e,x]),c(""),d("text"),h(!0),a(!1)},w=x=>{t(e.filter(j=>j.id!==x))},g=(x,j)=>{t(e.map(_=>_.id===x?{..._,value:j}:_))},y=x=>{t(e.map(j=>j.id===x?{...j,isPublic:!j.isPublic}:j))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Champs du template"}),o.jsx("div",{className:"space-y-4",children:r.map(x=>{const j=e.find(_=>_.id===x.id)||x;return o.jsxs("div",{className:"relative",children:[o.jsx(n0,{field:j,onChange:_=>g(x.id,_)}),!x.required&&o.jsx("button",{onClick:()=>y(x.id),className:"absolute top-8 right-3 text-warmGray-400 hover:text-warmGray-600",title:j.isPublic?"Rendre priv":"Rendre public",children:j.isPublic?o.jsx(Cs,{className:"w-4 h-4"}):o.jsx(Jg,{className:"w-4 h-4"})})]},x.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900",children:"Champs personnaliss"}),o.jsxs("p",{className:"text-sm text-warmGray-500",children:[m.length," / ",n===1/0?"":n," champs utiliss"]})]}),o.jsxs(W,{onClick:()=>a(!0),disabled:!p,size:"sm",variant:"outline",children:[o.jsx(Vb,{className:"w-4 h-4 mr-2"}),"Ajouter un champ"]})]}),!p&&o.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[o.jsx(Pf,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-semibold text-amber-900",children:"Limite atteinte"}),o.jsx("p",{className:"text-amber-700",children:"Passez  Premium pour ajouter jusqu' 10 champs personnaliss"})]})]}),o.jsx("div",{className:"space-y-4",children:m.map(x=>o.jsx("div",{className:"relative border border-warmGray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(n0,{field:x,onChange:j=>g(x.id,j)})}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx("button",{onClick:()=>y(x.id),className:"text-warmGray-400 hover:text-warmGray-600",title:x.isPublic?"Rendre priv":"Rendre public",children:x.isPublic?o.jsx(Cs,{className:"w-4 h-4"}):o.jsx(Jg,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>w(x.id),className:"text-red-400 hover:text-red-600",title:"Supprimer ce champ",children:o.jsx(dR,{className:"w-4 h-4"})})]})]})},x.id))}),m.length===0&&o.jsxs("div",{className:"text-center py-8 text-warmGray-500",children:[o.jsx("p",{children:"Aucun champ personnalis pour le moment"}),o.jsx("p",{className:"text-sm mt-1",children:'Cliquez sur "Ajouter un champ" pour commencer'})]})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-warmGray-900 mb-4",children:"Ajouter un champ personnalis"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Libell du champ"}),o.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Numro de licence",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Type de champ"}),o.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"text",children:"Texte court"}),o.jsx("option",{value:"textarea",children:"Texte long"}),o.jsx("option",{value:"url",children:"URL"}),o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"phone",children:"Tlphone"}),o.jsx("option",{value:"date",children:"Date"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"isPublic",checked:f,onChange:x=>h(x.target.checked),className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"isPublic",className:"text-sm text-warmGray-700",children:"Afficher ce champ sur le profil public"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(W,{onClick:()=>a(!1),variant:"outline",fullWidth:!0,children:"Annuler"}),o.jsx(W,{onClick:v,disabled:!l.trim(),fullWidth:!0,children:"Ajouter"})]})]})})]})}function $A({currentPhotoUrl:e,onPhotoUploaded:t}){const{user:r}=Yt(),[n,s]=b.useState(!1),[i,a]=b.useState(null),[l,c]=b.useState(e||null),[u,d]=b.useState(!1),[f,h]=b.useState(null),m=b.useRef(null),p=b.useRef(null),v=b.useRef(null);b.useEffect(()=>()=>{f&&f.getTracks().forEach(S=>S.stop())},[f]),b.useEffect(()=>{f&&p.current&&u&&(p.current.srcObject=f)},[f,u]);const w=async()=>{try{a(null);const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:1280}}});h(S),d(!0)}catch(S){a("Impossible d'accder  la camra. Vrifiez les permissions."),console.error("Camera error:",S)}},g=()=>{f&&(f.getTracks().forEach(S=>S.stop()),h(null)),d(!1)},y=()=>{if(!p.current||!v.current)return;const S=p.current,N=v.current,k=N.getContext("2d");if(!k)return;N.width=400,N.height=400;const C=S.videoWidth/S.videoHeight;let R=0,D=0,U=S.videoWidth,H=S.videoHeight;C>1?(U=S.videoHeight,R=(S.videoWidth-U)/2):(H=S.videoWidth,D=(S.videoHeight-H)/2),k.drawImage(S,R,D,U,H,0,0,400,400),N.toBlob(async X=>{X&&await _(X,"selfie.jpg")},"image/jpeg",.9),g()},x=async S=>{var C;const N=(C=S.target.files)==null?void 0:C[0];if(!N)return;if(a(null),!["image/jpeg","image/png","image/webp"].includes(N.type)){a("Format non support. Utilisez JPEG, PNG ou WebP.");return}if(N.size>5*1024*1024){a("Fichier trop volumineux. Maximum 5MB.");return}const k=await j(N,N.type);k&&await _(k,N.name,N.type)},j=async(S,N)=>new Promise(k=>{const C=new FileReader;C.onload=R=>{var U;const D=new Image;D.onload=()=>{const H=document.createElement("canvas"),X=H.getContext("2d");if(!X){k(null);return}const te=400;H.width=te,H.height=te;const Ue=Math.min(D.width,D.height),K=(D.width-Ue)/2,P=(D.height-Ue)/2;X.drawImage(D,K,P,Ue,Ue,0,0,te,te);const M=N==="image/webp"?"image/webp":"image/jpeg",I=N==="image/webp"?.9:.85;H.toBlob(F=>{k(F)},M,I)},D.src=(U=R.target)==null?void 0:U.result},C.readAsDataURL(S)}),_=async(S,N,k="image/jpeg")=>{if(!r){a("Vous devez tre connect.");return}s(!0),a(null);try{let C=N.split(".").pop()||"jpg";k==="image/webp"&&C!=="webp"&&(C="webp");const R=`${r.id}/${Date.now()}.${C}`,{data:D,error:U}=await z.storage.from("profile-photos").upload(R,S,{contentType:k==="image/webp"?"image/webp":"image/jpeg",upsert:!1});if(U)throw U;const{data:H}=z.storage.from("profile-photos").getPublicUrl(R);c(H.publicUrl),t(H.publicUrl)}catch(C){a(C.message||"Erreur lors du tlchargement."),console.error("Upload error:",C)}finally{s(!1)}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700",children:"Photo de profil"}),l&&o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l,alt:"Aperu",className:"w-32 h-32 rounded-full object-cover border-4 border-gold-400 shadow-lg"}),o.jsx("button",{onClick:()=>{c(null),t("")},className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:o.jsx($e,{className:"w-4 h-4"})})]})}),!u&&o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(W,{type:"button",variant:"outline",onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},disabled:n,fullWidth:!0,children:[n?o.jsx(rR,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(mR,{className:"w-4 h-4 mr-2"}),"Importer"]}),o.jsxs(W,{type:"button",variant:"outline",onClick:w,disabled:n,fullWidth:!0,children:[o.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Selfie"]})]}),u&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"}),o.jsx("div",{className:"absolute inset-0 border-2 border-gold-400 rounded-lg pointer-events-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(W,{type:"button",variant:"outline",onClick:g,fullWidth:!0,children:[o.jsx($e,{className:"w-4 h-4 mr-2"}),"Annuler"]}),o.jsxs(W,{type:"button",variant:"secondary",onClick:y,fullWidth:!0,children:[o.jsx(ie,{className:"w-4 h-4 mr-2"}),"Capturer"]})]})]}),o.jsx("canvas",{ref:v,className:"hidden"}),o.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:x,className:"hidden"}),i&&o.jsx("p",{className:"text-sm text-red-600 mt-2",children:i}),o.jsx("p",{className:"text-xs text-warmGray-500",children:"Formats accepts : JPEG, PNG, WebP. Taille max : 5MB. L'image sera automatiquement recadre en cercle."})]})}const Or=20;function FA(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{window.URL.revokeObjectURL(n.src),t(n.duration)},n.onerror=()=>{r(new Error("Failed to load video metadata"))},n.src=URL.createObjectURL(e)})}async function VA(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.currentTime=2,n.onloadeddata=()=>{const s=document.createElement("canvas");s.width=n.videoWidth,s.height=n.videoHeight;const i=s.getContext("2d");if(!i){r(new Error("Failed to get canvas context"));return}i.drawImage(n,0,0,s.width,s.height),s.toBlob(a=>{window.URL.revokeObjectURL(n.src),a?t(a):r(new Error("Failed to generate thumbnail"))},"image/webp",.8)},n.onerror=()=>{r(new Error("Failed to load video for thumbnail"))},n.src=URL.createObjectURL(e)})}function BA(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(2)} ${r[n]}`}function h1(e){const t=Math.floor(e/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function UA(e){const[t,r]=b.useState({uploading:!1,progress:0,error:null});return{...t,uploadRecording:async i=>{r({uploading:!1,progress:0,error:null});try{const a=new File([i],`recording-${Date.now()}.webm`,{type:i.type});r(w=>({...w,uploading:!0,progress:0}));const l=await FA(a);if(l>Or)return r({uploading:!1,progress:0,error:`La vido dpasse la dure maximale de ${Or} secondes.`}),null;const c=Date.now(),u=`${e}/video_${c}.mp4`,d=`${e}/thumbnails/thumb_${c}.webp`,f=await VA(a),{error:h}=await z.storage.from("profile-videos").upload(u,a,{cacheControl:"3600",upsert:!1});if(h)throw h;r({uploading:!0,progress:50,error:null});const{error:m}=await z.storage.from("profile-videos").upload(d,f,{cacheControl:"3600",upsert:!1});if(m)throw m;const{data:p}=z.storage.from("profile-videos").getPublicUrl(u),{data:v}=z.storage.from("profile-videos").getPublicUrl(d);return r({uploading:!1,progress:100,error:null}),{videoUrl:p.publicUrl,thumbnailUrl:v.publicUrl,duration:Math.floor(l),fileSize:a.size}}catch(a){const l=a instanceof Error?a.message:"Upload failed";return r({uploading:!1,progress:0,error:l}),null}},deleteVideo:async(i,a)=>{try{const l=i.split("/profile-videos/")[1],c=a.split("/profile-videos/")[1];return l&&await z.storage.from("profile-videos").remove([l]),c&&await z.storage.from("profile-videos").remove([c]),!0}catch(l){return console.error("Error deleting video:",l),!1}}}}function zA({userId:e,currentVideoUrl:t,currentThumbnailUrl:r,currentDuration:n,currentFileSize:s,onUploadComplete:i,onDelete:a}){const l=b.useRef(null),c=b.useRef(null),u=b.useRef([]),[d,f]=b.useState(null),[h,m]=b.useState(!1),[p,v]=b.useState(!1),[w,g]=b.useState(0),[y,x]=b.useState(null),[j,_]=b.useState(null),[S,N]=b.useState("user"),{uploading:k,progress:C,error:R,uploadRecording:D,deleteVideo:U}=UA(e);b.useEffect(()=>()=>{y&&y.getTracks().forEach(F=>F.stop())},[y]),b.useEffect(()=>{y&&l.current&&h&&(l.current.srcObject=y)},[y,h]);const H=b.useCallback(()=>{c.current&&p&&(c.current.stop(),v(!1))},[p]);b.useEffect(()=>{let F;return p?F=setInterval(()=>{g(G=>{const re=G+1;return re>=Or&&H(),re})},1e3):g(0),()=>clearInterval(F)},[p,H]);const X=async()=>{t&&r&&await U(t,r)&&(f(null),a())},te=async(F=S)=>{console.log("startCamera called");try{if(_(null),y&&y.getTracks().forEach(re=>re.stop()),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Votre navigateur ne supporte pas l'accs  la camra. Veuillez utiliser un navigateur moderne.");console.log("Requesting camera access...");const G=await navigator.mediaDevices.getUserMedia({video:{facingMode:F,width:{ideal:1920},height:{ideal:1080}},audio:!0});console.log("Camera access granted"),x(G),m(!0),N(F)}catch(G){console.error("Camera error:",G);let re="Impossible d'accder  la camra.";G.name==="NotAllowedError"?re="Accs  la camra refus. Veuillez autoriser l'accs dans les paramtres de votre navigateur.":G.name==="NotFoundError"?re="Aucune camra trouve sur cet appareil.":G.name==="NotReadableError"?re="La camra est dj utilise par une autre application.":G.name==="OverconstrainedError"?re="Impossible d'utiliser les paramtres demands pour la camra.":G.message&&(re=G.message),_(re),m(!0)}},Ue=()=>{y&&(y.getTracks().forEach(F=>F.stop()),x(null)),m(!1),v(!1),_(null)},K=async()=>{if(p)return;await te(S==="user"?"environment":"user")},P=()=>{const F=[{mimeType:"video/webm;codecs=vp9",extension:"webm"},{mimeType:"video/webm;codecs=vp8",extension:"webm"},{mimeType:"video/webm;codecs=h264",extension:"webm"},{mimeType:"video/webm",extension:"webm"},{mimeType:"video/mp4;codecs=h264",extension:"mp4"},{mimeType:"video/mp4",extension:"mp4"}];for(const G of F)if(MediaRecorder.isTypeSupported(G.mimeType))return G;return{mimeType:"",extension:"webm"}},M=()=>{if(y)try{const{mimeType:F}=P();if(!F){_("Votre navigateur ne supporte pas l'enregistrement vido. Veuillez utiliser un navigateur moderne comme Chrome, Firefox ou Safari.");return}u.current=[];const G=F?{mimeType:F}:{},re=new MediaRecorder(y,G);re.ondataavailable=Q=>{Q.data.size>0&&u.current.push(Q.data)},re.onstop=async()=>{const Q=new Blob(u.current,{type:F||"video/webm"}),ze=await D(Q);ze&&(f(ze.videoUrl),i(ze)),Ue()},re.onerror=Q=>{console.error("MediaRecorder error:",Q),_("Une erreur s'est produite lors de l'enregistrement. Veuillez ressayer."),v(!1)},re.start(),c.current=re,v(!0),_(null)}catch(F){console.error("Recording error:",F),_(`Erreur d'enregistrement: ${F.message||"Impossible de dmarrer l'enregistrement"}`),v(!1)}},I=t||d;return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Vido de prsentation"})}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-400 mb-4",children:[o.jsx(Pi,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{children:"Enregistrez une vido de prsentation directement depuis votre camra"}),o.jsxs("p",{children:["Dure maximale: ",Or," secondes"]})]})]}),!I&&!h?o.jsx("div",{className:"space-y-3",children:o.jsxs(W,{type:"button",variant:"outline",onClick:()=>{console.log("Button clicked"),te()},disabled:k,fullWidth:!0,children:[o.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Enregistrer une vido"]})}):h?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:[o.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!p,className:"w-full h-full object-cover"}),!p&&o.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2 px-3 py-2 bg-green-600 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),o.jsx("span",{className:"text-white text-sm font-medium",children:"Camra prte"})]}),p&&o.jsxs("div",{className:"absolute top-4 left-4 right-4 flex flex-col items-center space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-red-600 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),o.jsxs("span",{className:"text-white text-sm font-medium",children:[Math.floor(w/60),":",(w%60).toString().padStart(2,"0")," / ",Math.floor(Or/60),":",(Or%60).toString().padStart(2,"0")]})]}),o.jsx("div",{className:"w-full max-w-xs bg-gray-800/80 rounded-full h-2 overflow-hidden backdrop-blur-sm",children:o.jsx("div",{className:"bg-red-500 h-full transition-all duration-1000 ease-linear",style:{width:`${w/Or*100}%`}})})]}),w>=Or&&o.jsx("div",{className:"absolute top-4 right-4 px-3 py-2 bg-yellow-600 rounded-lg",children:o.jsx("span",{className:"text-white text-sm font-medium",children:"Limite atteinte"})}),!p&&o.jsx("button",{onClick:K,className:"absolute bottom-4 right-4 p-3 bg-gray-900/80 hover:bg-gray-800 text-white rounded-full transition-colors backdrop-blur-sm",title:S==="user"?"Basculer vers la camra arrire":"Basculer vers la camra frontale",children:o.jsx(lR,{className:"w-5 h-5"})})]}),j&&o.jsxs("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[o.jsx(Pi,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:j})]}),o.jsx("div",{className:"space-y-2",children:p?o.jsxs("button",{type:"button",onClick:H,className:"w-full py-4 px-6 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all shadow-lg",children:[o.jsx(cR,{className:"w-6 h-6"}),o.jsx("span",{children:"Arrter l'enregistrement"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{type:"button",onClick:M,className:"w-full py-4 px-6 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg",children:[o.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"})}),o.jsx("span",{children:"Dmarrer l'enregistrement"})]}),o.jsxs(W,{type:"button",variant:"outline",onClick:Ue,fullWidth:!0,children:[o.jsx($e,{className:"w-4 h-4 mr-2"}),"Annuler"]})]})})]}):I?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:o.jsx("video",{src:d||t,controls:!0,className:"w-full h-full",poster:r})}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx(zb,{className:"w-4 h-4"}),o.jsx("span",{children:h1(n||0)})]}),o.jsx("span",{children:BA(s||0)})]}),o.jsxs("button",{type:"button",onClick:X,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[o.jsx($e,{className:"w-4 h-4"}),o.jsx("span",{children:"Supprimer"})]})]})]}):null,R&&o.jsxs("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[o.jsx(Pi,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:R})]})]}),k&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Upload en cours..."}),o.jsxs("span",{className:"text-sm text-yellow-500",children:[C,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-yellow-500 h-full transition-all duration-300 ease-out",style:{width:`${C}%`}})})]})]})}const GA=[{name:"Paris",postalCode:"75000",timezone:"Europe/Paris",country:"France"},{name:"Marseille",postalCode:"13000",timezone:"Europe/Paris",country:"France"},{name:"Lyon",postalCode:"69000",timezone:"Europe/Paris",country:"France"},{name:"Toulouse",postalCode:"31000",timezone:"Europe/Paris",country:"France"},{name:"Nice",postalCode:"06000",timezone:"Europe/Paris",country:"France"},{name:"Nantes",postalCode:"44000",timezone:"Europe/Paris",country:"France"},{name:"Strasbourg",postalCode:"67000",timezone:"Europe/Paris",country:"France"},{name:"Montpellier",postalCode:"34000",timezone:"Europe/Paris",country:"France"},{name:"Bordeaux",postalCode:"33000",timezone:"Europe/Paris",country:"France"},{name:"Lille",postalCode:"59000",timezone:"Europe/Paris",country:"France"},{name:"Rennes",postalCode:"35000",timezone:"Europe/Paris",country:"France"},{name:"Reims",postalCode:"51100",timezone:"Europe/Paris",country:"France"},{name:"Le Havre",postalCode:"76600",timezone:"Europe/Paris",country:"France"},{name:"Saint-tienne",postalCode:"42000",timezone:"Europe/Paris",country:"France"},{name:"Toulon",postalCode:"83000",timezone:"Europe/Paris",country:"France"},{name:"Grenoble",postalCode:"38000",timezone:"Europe/Paris",country:"France"},{name:"Dijon",postalCode:"21000",timezone:"Europe/Paris",country:"France"},{name:"Angers",postalCode:"49000",timezone:"Europe/Paris",country:"France"},{name:"Nmes",postalCode:"30000",timezone:"Europe/Paris",country:"France"},{name:"Villeurbanne",postalCode:"69100",timezone:"Europe/Paris",country:"France"},{name:"Le Mans",postalCode:"72000",timezone:"Europe/Paris",country:"France"},{name:"Aix-en-Provence",postalCode:"13100",timezone:"Europe/Paris",country:"France"},{name:"Clermont-Ferrand",postalCode:"63000",timezone:"Europe/Paris",country:"France"},{name:"Brest",postalCode:"29200",timezone:"Europe/Paris",country:"France"},{name:"Tours",postalCode:"37000",timezone:"Europe/Paris",country:"France"},{name:"Limoges",postalCode:"87000",timezone:"Europe/Paris",country:"France"},{name:"Amiens",postalCode:"80000",timezone:"Europe/Paris",country:"France"},{name:"Perpignan",postalCode:"66000",timezone:"Europe/Paris",country:"France"},{name:"Metz",postalCode:"57000",timezone:"Europe/Paris",country:"France"},{name:"Besanon",postalCode:"25000",timezone:"Europe/Paris",country:"France"},{name:"Boulogne-Billancourt",postalCode:"92100",timezone:"Europe/Paris",country:"France"},{name:"Orlans",postalCode:"45000",timezone:"Europe/Paris",country:"France"},{name:"Mulhouse",postalCode:"68100",timezone:"Europe/Paris",country:"France"},{name:"Rouen",postalCode:"76000",timezone:"Europe/Paris",country:"France"},{name:"Caen",postalCode:"14000",timezone:"Europe/Paris",country:"France"},{name:"Nancy",postalCode:"54000",timezone:"Europe/Paris",country:"France"},{name:"Argenteuil",postalCode:"95100",timezone:"Europe/Paris",country:"France"},{name:"Montreuil",postalCode:"93100",timezone:"Europe/Paris",country:"France"},{name:"Roubaix",postalCode:"59100",timezone:"Europe/Paris",country:"France"},{name:"Tourcoing",postalCode:"59200",timezone:"Europe/Paris",country:"France"},{name:"Nanterre",postalCode:"92000",timezone:"Europe/Paris",country:"France"},{name:"Avignon",postalCode:"84000",timezone:"Europe/Paris",country:"France"},{name:"Vitry-sur-Seine",postalCode:"94400",timezone:"Europe/Paris",country:"France"},{name:"Crteil",postalCode:"94000",timezone:"Europe/Paris",country:"France"},{name:"Dunkerque",postalCode:"59140",timezone:"Europe/Paris",country:"France"},{name:"Poitiers",postalCode:"86000",timezone:"Europe/Paris",country:"France"},{name:"Asnires-sur-Seine",postalCode:"92600",timezone:"Europe/Paris",country:"France"},{name:"Courbevoie",postalCode:"92400",timezone:"Europe/Paris",country:"France"},{name:"Versailles",postalCode:"78000",timezone:"Europe/Paris",country:"France"},{name:"Colombes",postalCode:"92700",timezone:"Europe/Paris",country:"France"},{name:"Fort-de-France",postalCode:"97200",timezone:"America/Martinique",country:"France"},{name:"Aulnay-sous-Bois",postalCode:"93600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Pierre",postalCode:"97410",timezone:"Indian/Reunion",country:"France"},{name:"Rueil-Malmaison",postalCode:"92500",timezone:"Europe/Paris",country:"France"},{name:"Pau",postalCode:"64000",timezone:"Europe/Paris",country:"France"},{name:"Aubervilliers",postalCode:"93300",timezone:"Europe/Paris",country:"France"},{name:"Le Tampon",postalCode:"97430",timezone:"Indian/Reunion",country:"France"},{name:"Champigny-sur-Marne",postalCode:"94500",timezone:"Europe/Paris",country:"France"},{name:"Antibes",postalCode:"06600",timezone:"Europe/Paris",country:"France"},{name:"La Rochelle",postalCode:"17000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Maur-des-Fosss",postalCode:"94100",timezone:"Europe/Paris",country:"France"},{name:"Calais",postalCode:"62100",timezone:"Europe/Paris",country:"France"},{name:"Cannes",postalCode:"06400",timezone:"Europe/Paris",country:"France"},{name:"Bziers",postalCode:"34500",timezone:"Europe/Paris",country:"France"},{name:"Colmar",postalCode:"68000",timezone:"Europe/Paris",country:"France"},{name:"Bourges",postalCode:"18000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Nazaire",postalCode:"44600",timezone:"Europe/Paris",country:"France"},{name:"Quimper",postalCode:"29000",timezone:"Europe/Paris",country:"France"},{name:"Valence",postalCode:"26000",timezone:"Europe/Paris",country:"France"},{name:"Mrignac",postalCode:"33700",timezone:"Europe/Paris",country:"France"},{name:"Drancy",postalCode:"93700",timezone:"Europe/Paris",country:"France"},{name:"Ajaccio",postalCode:"20000",timezone:"Europe/Paris",country:"France"},{name:"Levallois-Perret",postalCode:"92300",timezone:"Europe/Paris",country:"France"},{name:"Troyes",postalCode:"10000",timezone:"Europe/Paris",country:"France"},{name:"Neuilly-sur-Seine",postalCode:"92200",timezone:"Europe/Paris",country:"France"},{name:"Antony",postalCode:"92160",timezone:"Europe/Paris",country:"France"},{name:"Sarcelles",postalCode:"95200",timezone:"Europe/Paris",country:"France"},{name:"Cergy",postalCode:"95000",timezone:"Europe/Paris",country:"France"},{name:"Issy-les-Moulineaux",postalCode:"92130",timezone:"Europe/Paris",country:"France"},{name:"Noisy-le-Grand",postalCode:"93160",timezone:"Europe/Paris",country:"France"},{name:"vry",postalCode:"91000",timezone:"Europe/Paris",country:"France"},{name:"Vnissieux",postalCode:"69200",timezone:"Europe/Paris",country:"France"},{name:"Clichy",postalCode:"92110",timezone:"Europe/Paris",country:"France"},{name:"Lorient",postalCode:"56100",timezone:"Europe/Paris",country:"France"},{name:"Chambry",postalCode:"73000",timezone:"Europe/Paris",country:"France"},{name:"Pessac",postalCode:"33600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Andr",postalCode:"97440",timezone:"Indian/Reunion",country:"France"},{name:"Ivry-sur-Seine",postalCode:"94200",timezone:"Europe/Paris",country:"France"},{name:"Montauban",postalCode:"82000",timezone:"Europe/Paris",country:"France"},{name:"Cagnes-sur-Mer",postalCode:"06800",timezone:"Europe/Paris",country:"France"},{name:"Niort",postalCode:"79000",timezone:"Europe/Paris",country:"France"},{name:"Villejuif",postalCode:"94800",timezone:"Europe/Paris",country:"France"},{name:"Saint-Quentin",postalCode:"02100",timezone:"Europe/Paris",country:"France"},{name:"Hyres",postalCode:"83400",timezone:"Europe/Paris",country:"France"},{name:"Beauvais",postalCode:"60000",timezone:"Europe/Paris",country:"France"},{name:"Cholet",postalCode:"49300",timezone:"Europe/Paris",country:"France"}];function WA({value:e,timezone:t,country:r,onChange:n}){const[s,i]=b.useState(e||""),[a,l]=b.useState(!1),[c,u]=b.useState(-1),d=GA,f=b.useMemo(()=>{if(!s)return d.slice(0,10);const p=s.toLowerCase();return d.filter(v=>{const w=v.name.toLowerCase().includes(p),g=v.postalCode.includes(s);return w||g}).slice(0,10)},[s,d]),h=p=>{i(p.name),n(p.name,p.timezone,p.country),l(!1),u(-1)},m=p=>{if(!a&&(p.key==="ArrowDown"||p.key==="Enter")){l(!0);return}p.key==="ArrowDown"?(p.preventDefault(),u(v=>Math.min(v+1,f.length-1))):p.key==="ArrowUp"?(p.preventDefault(),u(v=>Math.max(v-1,-1))):p.key==="Enter"&&c>=0?(p.preventDefault(),h(f[c])):p.key==="Escape"&&(l(!1),u(-1))};return o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ville"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:p=>{i(p.target.value),l(!0),u(-1)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),200),onKeyDown:m,placeholder:"Rechercher une ville...",className:"w-full pl-10 pr-10 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 transition-colors"}),o.jsx(qT,{className:`absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&f.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:f.map((p,v)=>o.jsx("button",{type:"button",onClick:()=>h(p),className:`w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors ${v===c?"bg-gray-700":""} ${v===0?"rounded-t-lg":""} ${v===f.length-1?"rounded-b-lg":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:p.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[p.postalCode,"  ",p.country]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:p.timezone})]})},`${p.name}-${p.postalCode}`))}),t&&o.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Fuseau horaire: ",o.jsx("span",{className:"text-yellow-500",children:t})]})]})}function HA(){const{profile:e,updateProfile:t}=Hl(),{user:r}=Yt(),n=Qe(),[s,i]=b.useState(!1),[a,l]=b.useState(""),[c,u]=b.useState([]),[d,f]=b.useState([]),[h,m]=b.useState({full_name:"",title:"",bio:"",email:"",phone:"",website:"",profile_photo_url:"",video_url:"",linkedin:"",twitter:"",instagram:"",facebook:"",tagline:"",mission_statement:"",location_city:"",location_country:"",timezone:"",show_local_time:!1,is_online:!0,theme_color:"#C89B3C",video_thumbnail_url:"",video_duration:0,video_file_size:0,total_video_storage:0});b.useEffect(()=>{var v,w,g,y;if(e){m({full_name:e.full_name||"",title:e.title||"",bio:e.bio||"",email:e.email||"",phone:e.phone||"",website:e.website||"",profile_photo_url:e.profile_photo_url||"",video_url:e.video_url||"",linkedin:((v=e.social_links)==null?void 0:v.linkedin)||"",twitter:((w=e.social_links)==null?void 0:w.twitter)||"",instagram:((g=e.social_links)==null?void 0:g.instagram)||"",facebook:((y=e.social_links)==null?void 0:y.facebook)||"",tagline:e.tagline||"",mission_statement:e.mission_statement||"",location_city:e.location_city||"",location_country:e.location_country||"",timezone:e.timezone||"Europe/Paris",show_local_time:e.show_local_time||!1,is_online:e.is_online!==void 0?e.is_online:!0,theme_color:e.theme_color||"#C89B3C",video_thumbnail_url:e.video_thumbnail_url||"",video_duration:e.video_duration||0,video_file_size:e.video_file_size||0,total_video_storage:e.total_video_storage||0}),u(e.custom_fields||[]);async function x(){try{const{data:j}=await z.from("profile_templates").select("default_fields").eq("name",e.sector).maybeSingle();j!=null&&j.default_fields&&f(j.default_fields)}catch(j){console.error("Error fetching template fields:",j)}}e.sector&&x()}},[e]),b.useEffect(()=>{if(!s&&h&&e){const v=setTimeout(async()=>{const w={...h.linkedin&&{linkedin:h.linkedin},...h.twitter&&{twitter:h.twitter},...h.instagram&&{instagram:h.instagram},...h.facebook&&{facebook:h.facebook}};await t({full_name:h.full_name,title:h.title,bio:h.bio,email:h.email,phone:h.phone,website:h.website,profile_photo_url:h.profile_photo_url,video_url:h.video_url,social_links:w,custom_fields:c,tagline:h.tagline,mission_statement:h.mission_statement,location_city:h.location_city,location_country:h.location_country,timezone:h.timezone,show_local_time:h.show_local_time,is_online:h.is_online,theme_color:h.theme_color,video_thumbnail_url:h.video_thumbnail_url,video_duration:h.video_duration,video_file_size:h.video_file_size,total_video_storage:h.total_video_storage}),l("Enregistr"),setTimeout(()=>l(""),2e3)},1e3);return()=>clearTimeout(v)}},[h,c]);const p=(v,w)=>{m(g=>({...g,[v]:w})),l("Enregistrement...")};return e?o.jsxs("div",{className:"min-h-screen bg-warmGray-50",children:[o.jsx("nav",{className:"bg-white border-b border-warmGray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-warmGray-700 hover:text-warmGray-900",children:[o.jsx(zl,{className:"w-5 h-5"}),"Retour au tableau de bord"]}),a&&o.jsx("span",{className:"text-sm text-green-600 font-medium",children:a})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(d1,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Modifier le profil"}],className:"mb-6"}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(kn,{to:`/${e.username}`,label:"Prvisualiser votre carte",description:"Voir comment les autres verront votre profil",icon:o.jsx(Cs,{className:"w-5 h-5"}),variant:"card"}),o.jsx(kn,{to:"/analytics",label:"Voir mes statistiques",description:"Suivre les performances de votre carte",icon:o.jsx(kd,{className:"w-5 h-5"}),variant:"card"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-6",children:"diter le profil"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Informations de base"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Z,{label:"Nom complet",value:h.full_name,onChange:v=>p("full_name",v.target.value),required:!0}),o.jsx(Z,{label:"Titre / Profession",value:h.title,onChange:v=>p("title",v.target.value),placeholder:"ex: Responsable Marketing"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Biographie"}),o.jsx("textarea",{value:h.bio,onChange:v=>p("bio",v.target.value),rows:4,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Parlez de vous..."})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Coordonnes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Z,{label:"Email",type:"email",value:h.email,onChange:v=>p("email",v.target.value)}),o.jsx(Z,{label:"Tlphone",type:"tel",value:h.phone,onChange:v=>p("phone",v.target.value)}),o.jsx(Z,{label:"Site web",type:"url",value:h.website,onChange:v=>p("website",v.target.value),placeholder:"https://votresite.com"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Mdias"}),o.jsx("div",{className:"space-y-4",children:o.jsx($A,{currentPhotoUrl:h.profile_photo_url,onPhotoUploaded:v=>p("profile_photo_url",v)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Prsentation tendue"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Phrase d'accroche"}),o.jsx("input",{type:"text",value:h.tagline,onChange:v=>p("tagline",v.target.value),maxLength:100,placeholder:"Une phrase courte et percutante...",className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[h.tagline.length,"/100 caractres"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Mission / Pitch"}),o.jsx("textarea",{value:h.mission_statement,onChange:v=>p("mission_statement",v.target.value),maxLength:500,rows:6,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez votre mission, vos valeurs, ce qui vous anime..."}),o.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[h.mission_statement.length,"/500 caractres"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Localisation"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(WA,{value:h.location_city,timezone:h.timezone,country:h.location_country,onChange:(v,w,g)=>{m(y=>({...y,location_city:v,timezone:w,location_country:g})),l("Enregistrement...")}}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:h.show_local_time,onChange:v=>{m(w=>({...w,show_local_time:v.target.checked})),l("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher mon heure locale sur le profil"})]})]})]}),o.jsx("div",{children:o.jsx(zA,{userId:(r==null?void 0:r.id)||"",currentVideoUrl:h.video_url,currentThumbnailUrl:h.video_thumbnail_url,currentDuration:h.video_duration,currentFileSize:h.video_file_size,onUploadComplete:v=>{m(w=>({...w,video_url:v.videoUrl,video_thumbnail_url:v.thumbnailUrl,video_duration:v.duration,video_file_size:v.fileSize,total_video_storage:w.total_video_storage+v.fileSize})),l("Enregistrement...")},onDelete:()=>{m(v=>({...v,video_url:"",video_thumbnail_url:"",video_duration:0,total_video_storage:v.total_video_storage-v.video_file_size,video_file_size:0})),l("Enregistrement...")}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Options d'affichage"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:h.is_online,onChange:v=>{m(w=>({...w,is_online:v.target.checked})),l("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher comme en ligne (badge vert sur la photo de profil)"})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Rseaux sociaux"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Z,{label:"LinkedIn",type:"url",value:h.linkedin,onChange:v=>p("linkedin",v.target.value),placeholder:"https://linkedin.com/in/username"}),o.jsx(Z,{label:"Twitter",type:"url",value:h.twitter,onChange:v=>p("twitter",v.target.value),placeholder:"https://twitter.com/username"}),o.jsx(Z,{label:"Instagram",type:"url",value:h.instagram,onChange:v=>p("instagram",v.target.value),placeholder:"https://instagram.com/username"}),o.jsx(Z,{label:"Facebook",type:"url",value:h.facebook,onChange:v=>p("facebook",v.target.value),placeholder:"https://facebook.com/username"})]})]}),o.jsx("div",{className:"pt-6 border-t border-warmGray-200",children:o.jsx(MA,{fields:c,onChange:u,templateFields:d})})]})]}),o.jsx("div",{className:"lg:sticky lg:top-8 h-fit",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-4",children:"Aperu en direct"}),o.jsx("p",{className:"text-sm text-warmGray-500 mb-6",children:"Voici  quoi ressemble votre profil pour les visiteurs"}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-warmGray-50 rounded-lg p-6 border border-warmGray-200",children:[h.profile_photo_url?o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:h.profile_photo_url,alt:h.full_name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"})}):o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:h.full_name.charAt(0)||"?"})}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-2xl font-bold text-warmGray-900",children:h.full_name||"Votre nom"}),h.title&&o.jsx("p",{className:"text-lg text-warmGray-600",children:h.title})]}),h.bio&&o.jsx("p",{className:"text-center text-warmGray-700 mb-4 text-sm leading-relaxed",children:h.bio}),o.jsxs("div",{className:"space-y-2",children:[h.email&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Email: "}),o.jsx("span",{className:"text-warmGray-900",children:h.email})]}),h.phone&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Tlphone : "}),o.jsx("span",{className:"text-warmGray-900",children:h.phone})]}),h.website&&o.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[o.jsx("span",{className:"text-warmGray-500",children:"Site web : "}),o.jsx("span",{className:"text-blue-600",children:h.website})]})]}),(h.linkedin||h.twitter||h.instagram||h.facebook)&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-warmGray-200",children:[o.jsx("p",{className:"text-xs text-center text-warmGray-500 mb-2",children:"RSEAUX SOCIAUX"}),o.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[h.linkedin&&o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-navy-700 rounded text-xs",children:"LinkedIn"}),h.twitter&&o.jsx("span",{className:"px-2 py-1 bg-sky-100 text-sky-800 rounded text-xs",children:"Twitter"}),h.instagram&&o.jsx("span",{className:"px-2 py-1 bg-pink-100 text-pink-800 rounded text-xs",children:"Instagram"}),h.facebook&&o.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs",children:"Facebook"})]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(W,{fullWidth:!0,onClick:()=>n(`/${e.username}`),variant:"outline",children:"Voir le profil complet"})})]})})]})]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})})}function gs({children:e,delay:t=0,className:r=""}){const[n,s]=wa({triggerOnce:!0,threshold:.1});return o.jsx(E.div,{ref:n,initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:t},className:r,children:e})}const qA={instagram:{icon:ZT,bgColor:"bg-gradient-to-r from-purple-600 to-pink-600",hoverColor:"hover:from-purple-700 hover:to-pink-700",defaultLabel:"Follow on Instagram"},twitter:{icon:fR,bgColor:"bg-blue-500",hoverColor:"hover:bg-blue-600",defaultLabel:"Follow on Twitter"},linkedin:{icon:tR,bgColor:"bg-blue-700",hoverColor:"hover:bg-blue-800",defaultLabel:"Connect on LinkedIn"},email:{icon:hl,bgColor:"bg-green-600",hoverColor:"hover:bg-green-700",defaultLabel:"Send Email"},phone:{icon:Of,bgColor:"bg-blue-600",hoverColor:"hover:bg-blue-700",defaultLabel:"Call Me"},website:{icon:Lb,bgColor:"bg-neutral-700",hoverColor:"hover:bg-neutral-800",defaultLabel:"Visit Website"}};function Qc({platform:e,url:t,label:r,variant:n="default"}){const s=qA[e],i=s.icon,a=r||s.defaultLabel;return n==="compact"?o.jsx(E.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center w-12 h-12 ${s.bgColor} ${s.hoverColor} rounded-lg shadow-md transition-colors`,whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:o.jsx(i,{className:"w-5 h-5 text-white"})}):o.jsxs(E.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center space-x-3 px-6 py-4 ${s.bgColor} ${s.hoverColor} rounded-xl shadow-md transition-colors`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[o.jsx(i,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-white font-medium",children:a})]})}const KA={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};function JA({isOnline:e,size:t="md"}){return o.jsx("div",{className:"absolute bottom-0 right-0 bg-gray-900 rounded-full p-1",children:o.jsx(E.div,{className:`${KA[t]} rounded-full ${e?"bg-green-500":"bg-gray-500"}`,animate:e?{scale:[1,1.2,1],opacity:[1,.8,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})})}function QA(e){const[t,r]=b.useState("");return b.useEffect(()=>{const n=()=>{try{const i=new Date,a=new Intl.DateTimeFormat("fr-FR",{timeZone:e,hour:"2-digit",minute:"2-digit",hour12:!1});r(a.format(i))}catch(i){console.error("Error formatting time:",i),r("--:--")}};n();const s=setInterval(n,6e4);return()=>clearInterval(s)},[e]),t}function YA({timezone:e,city:t}){const r=QA(e);return o.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[o.jsx(dl,{className:"w-4 h-4"}),o.jsxs("span",{children:["Heure locale  ",t,": ",o.jsx("span",{className:"text-yellow-500 font-medium",children:r})]})]})}function XA({fullName:e,title:t,tagline:r,profilePhotoUrl:n,isOnline:s,locationCity:i,timezone:a,showLocalTime:l}){return o.jsxs("div",{className:"relative bg-gradient-to-br from-amber-50 via-white to-amber-50 rounded-t-2xl overflow-hidden border-b border-neutral-100",children:[o.jsx(E.div,{className:"absolute inset-0 opacity-30",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),o.jsxs("div",{className:"relative px-8 py-12 text-center",children:[o.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative inline-block mb-6",children:[n?o.jsx("img",{src:n,alt:e,className:"w-32 h-32 rounded-full border-4 border-amber-500 object-cover shadow-xl"}):o.jsx("div",{className:"w-32 h-32 bg-gradient-amber rounded-full flex items-center justify-center text-white text-4xl font-bold shadow-xl",children:e.charAt(0)}),o.jsx(JA,{isOnline:s,size:"lg"})]}),o.jsx(E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl font-bold text-neutral-900 mb-2",children:e}),t&&o.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-amber-600 mb-4 font-medium",children:t}),r&&o.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-neutral-600 max-w-2xl mx-auto mb-6",children:r}),l&&i&&a&&o.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-center",children:o.jsx(YA,{timezone:a,city:i})})]})]})}function s0({onDownloadContact:e}){return o.jsx("div",{className:"flex justify-center px-6 py-6",children:o.jsxs(E.button,{onClick:e,className:"px-8 py-4 bg-gradient-amber text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center gap-2",whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[o.jsx(Es,{className:"w-5 h-5"}),"Enregistrer dans les contacts"]})})}function ZA({tier:e,className:t}){return e==="roc"?null:o.jsxs("div",{className:`flex items-center justify-center gap-2 py-2 ${t}`,children:[o.jsx(Pf,{className:"w-4 h-4 text-gold-600"}),o.jsx(Kl,{tier:e,variant:"compact",animated:!1})]})}function ri({icon:e,label:t,value:r,href:n,onClick:s,className:i=""}){const a=o.jsx(E.div,{className:`bg-white border border-neutral-200 rounded-xl p-4 shadow-sm transition-all duration-200 ${i}`,whileHover:{scale:1.02,y:-2,borderColor:"rgb(245, 158, 11)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.1), 0 8px 10px -6px rgba(245, 158, 11, 0.1)"},whileTap:{scale:.98},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(E.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:o.jsx(e,{className:"w-5 h-5 text-amber-600 flex-shrink-0"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-sm text-neutral-500 mb-1",children:t}),o.jsx("div",{className:"text-neutral-900 font-medium truncate",children:r})]})]})});return n?o.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block",onClick:s,children:a}):s?o.jsx("button",{type:"button",onClick:s,className:"w-full text-left",children:a}):a}function e6({profile:e,tier:t,onLinkClick:r}){const n=t==="emeraude"&&e.location_city;return o.jsxs(o.Fragment,{children:[n&&o.jsx(gs,{delay:.2,children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(ri,{icon:Rf,label:"Localisation",value:`${e.location_city}, ${e.location_country||"France"}`}),e.email&&o.jsx(ri,{icon:hl,label:"Email",value:e.email,href:`mailto:${e.email}`,onClick:()=>r("email")})]})}),o.jsx(gs,{delay:n?.4:.2,children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.phone&&o.jsx(ri,{icon:Of,label:"Tlphone",value:e.phone,href:`tel:${e.phone}`,onClick:()=>r("phone")}),e.website&&o.jsx(ri,{icon:Lb,label:"Site web",value:e.website,href:e.website,onClick:()=>r("website")}),!n&&e.email&&o.jsx(ri,{icon:hl,label:"Email",value:e.email,href:`mailto:${e.email}`,onClick:()=>r("email")})]})})]})}function t6({videoUrl:e,thumbnailUrl:t,duration:r}){const[n,s]=b.useState(!1);return n?o.jsx("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden",children:o.jsx("video",{src:e,controls:!0,autoPlay:!0,className:"w-full h-full",onEnded:()=>s(!1)})}):o.jsxs("button",{onClick:()=>s(!0),className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden group",style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"},children:[o.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/60 transition-colors"}),o.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:"VIDEO INTRO"}),o.jsx("div",{className:"absolute bottom-4 right-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:h1(r)}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center transform group-hover:scale-110 transition-transform",children:o.jsx(oR,{className:"w-8 h-8 text-black ml-1",fill:"currentColor"})})})]})}function r6({profile:e,tier:t}){return t==="roc"||!e.video_url||!e.video_thumbnail_url?null:o.jsx(gs,{delay:.3,children:o.jsx(t6,{videoUrl:e.video_url,thumbnailUrl:e.video_thumbnail_url,duration:e.video_duration||0})})}function f1({title:e,description:t,image:r,url:n,type:s="website"}){return b.useEffect(()=>{document.title=e;const i=(a,l,c)=>{const u=c?"property":"name";let d=document.querySelector(`meta[${u}="${a}"]`);d||(d=document.createElement("meta"),d.setAttribute(u,a),document.head.appendChild(d)),d.setAttribute("content",l)};return i("description",t),i("og:title",e,!0),i("og:description",t,!0),i("og:type",s,!0),n&&i("og:url",n,!0),r&&(i("og:image",r,!0),i("twitter:image",r)),i("twitter:card",r?"summary_large_image":"summary"),i("twitter:title",e),i("twitter:description",t),()=>{document.title="Obsi - Cartes de visite numriques premium"}},[e,t,r,n,s]),null}function _e({className:e="",variant:t="rectangular",width:r,height:n,animation:s=!0}){const i="bg-neutral-200",a={text:"rounded h-4",circular:"rounded-full",rectangular:"rounded-lg"},l={width:r||"100%",height:n||(t==="text"?"1rem":"100%")};return s?o.jsx(E.div,{className:`${i} ${a[t]} ${e}`,style:l,animate:{opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}):o.jsx("div",{className:`${i} ${a[t]} ${e}`,style:l})}function n6(){return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx(_e,{width:80,height:32}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_e,{width:100,height:40}),o.jsx(_e,{width:120,height:40})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx(_e,{width:200,height:48,className:"rounded-full"})}),o.jsxs("div",{className:"bg-white border border-neutral-200 rounded-2xl overflow-hidden shadow-xl",children:[o.jsx("div",{className:"relative bg-gradient-to-br from-amber-50 via-white to-amber-50 border-b border-neutral-100 px-8 py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(_e,{variant:"circular",width:128,height:128})}),o.jsx(_e,{width:200,height:32,className:"mx-auto mb-2"}),o.jsx(_e,{width:150,height:24,className:"mx-auto mb-4"}),o.jsx(_e,{width:300,height:20,className:"mx-auto"})]})}),o.jsxs("div",{className:"px-6 py-8 space-y-8",children:[o.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6",children:[o.jsx(_e,{width:120,height:24,className:"mb-3"}),o.jsx(_e,{height:20,className:"mb-2"}),o.jsx(_e,{height:20,className:"mb-2"}),o.jsx(_e,{width:"70%",height:20})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(_e,{height:80}),o.jsx(_e,{height:80})]}),o.jsx(_e,{height:200}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(_e,{height:80}),o.jsx(_e,{height:80})]}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx(_e,{variant:"circular",width:48,height:48}),o.jsx(_e,{variant:"circular",width:48,height:48}),o.jsx(_e,{variant:"circular",width:48,height:48})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(_e,{width:250,height:56,className:"rounded-xl"})})]})]})]})]})}function s6(e){const t=["BEGIN:VCARD","VERSION:3.0",`FN:${e.full_name}`];return e.title&&t.push(`TITLE:${e.title}`),e.phone&&t.push(`TEL;TYPE=CELL:${e.phone}`),e.email&&t.push(`EMAIL:${e.email}`),e.website&&t.push(`URL:${e.website}`),e.bio&&t.push(`NOTE:${e.bio.replace(/\n/g,"\\n")}`),e.social_links&&(e.social_links.linkedin&&t.push(`X-SOCIALPROFILE;TYPE=linkedin:${e.social_links.linkedin}`),e.social_links.twitter&&t.push(`X-SOCIALPROFILE;TYPE=twitter:${e.social_links.twitter}`),e.social_links.instagram&&t.push(`X-SOCIALPROFILE;TYPE=instagram:${e.social_links.instagram}`),e.social_links.facebook&&t.push(`X-SOCIALPROFILE;TYPE=facebook:${e.social_links.facebook}`)),t.push("END:VCARD"),t.join(`\r
`)}function i6(e){const t=s6(e),r=new Blob([t],{type:"text/vcard;charset=utf-8"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=`${e.username||"contact"}.vcf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}async function ni(e,t,r){const n=a6(),s=navigator.userAgent,i=document.referrer;await z.from("profile_analytics").insert({profile_id:e,event_type:t,device_type:n,user_agent:s,referrer:i,ip_hash:"",country_code:"",metadata:r||{}})}function a6(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}async function o6(e){await z.rpc("increment_view_count",{profile_id:e}).catch(()=>{z.from("profiles").select("view_count").eq("id",e).single().then(({data:t})=>{t&&z.from("profiles").update({view_count:(t.view_count||0)+1}).eq("id",e)})})}function l6(){const{username:e}=P_(),{showToast:t}=jR(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[a,l]=b.useState("web"),[c,u]=b.useState(null);if(b.useEffect(()=>{async function h(){if(!e){i(!1);return}try{const{data:m,error:p}=await z.from("profiles").select("*").eq("username",e).eq("is_active",!0).maybeSingle();if(p){console.error("Error loading profile:",p),i(!1);return}if(m){n(m);const v=m.subscription_tier||"free",w=Bf[v];u(w),ni(m.id,"view").catch(console.warn),o6(m.id).catch(console.warn)}}catch(m){console.error("Unexpected error:",m)}finally{i(!1)}}h()},[e]),s)return o.jsx(n6,{});if(!r)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:o.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"Profil introuvable"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"Ce profil n'existe pas ou a t dsactiv."}),o.jsx(q,{to:"/",className:"inline-flex items-center gap-2 text-amber-600 hover:text-amber-700 font-medium transition-colors",children:"Retour  l'accueil"})]})});const d=async()=>{i6(r),ni(r.id,"vcard_download").catch(console.warn),t("Contact enregistr avec succs","success")},f=async()=>{const h=window.location.href;if(navigator.share)try{await navigator.share({title:`Profil de ${r.full_name}`,text:r.tagline||`Dcouvrez le profil professionnel de ${r.full_name}`,url:h}),ni(r.id,"profile_share",{method:"native"}).catch(console.warn),t("Profil partag avec succs","success")}catch(m){m.name!=="AbortError"&&console.error("Error sharing:",m)}else try{await navigator.clipboard.writeText(h),ni(r.id,"profile_share",{method:"clipboard"}).catch(console.warn),t("Lien copi dans le presse-papiers","success")}catch(m){console.error("Error copying:",m),t("Erreur lors de la copie du lien","error")}};return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx(f1,{title:`${r.full_name}${r.title?` - ${r.title}`:""} | Obsi`,description:r.tagline||`Dcouvrez le profil professionnel de ${r.full_name} sur Obsi`,image:r.profile_photo_url||void 0,url:window.location.href,type:"profile"}),o.jsx(E.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx(q,{to:"/",className:"text-2xl font-bold bg-gradient-amber bg-clip-text text-transparent hover:scale-105 transition-transform",children:"Obsi"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(E.button,{onClick:f,className:"flex items-center gap-2 px-4 py-2 text-neutral-600 hover:text-amber-600 font-medium transition-colors rounded-lg hover:bg-amber-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(If,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Partager"})]}),o.jsx(q,{to:"/signup",className:"px-4 py-2 bg-gradient-amber text-white font-medium rounded-lg hover:shadow-lg transition-all",children:"Crer mon profil"})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-center mb-6",children:o.jsxs("div",{className:"flex items-center gap-2 bg-white backdrop-blur-md border border-neutral-200 rounded-full p-1 shadow-sm",children:[o.jsxs(E.button,{onClick:()=>l("web"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="web"?"bg-gradient-amber text-white shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(JT,{className:"w-4 h-4 inline mr-1.5"}),"Web"]}),o.jsxs(E.button,{onClick:()=>l("card"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="card"?"bg-gradient-amber text-white shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(Cf,{className:"w-4 h-4 inline mr-1.5"}),"Carte"]})]})}),o.jsx(ol,{mode:"wait",children:a==="card"?o.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"max-w-2xl mx-auto",children:[o.jsx(u1,{profile:r}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(s0,{onDownloadContact:d})})]},"card-view"):o.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`bg-white border-2 ${kA(c)} rounded-2xl overflow-hidden shadow-xl`,children:[c&&o.jsx(ZA,{tier:c,className:"border-b border-neutral-100"}),o.jsx(XA,{fullName:r.full_name,title:r.title||void 0,tagline:r.tagline||void 0,profilePhotoUrl:r.profile_photo_url||void 0,isOnline:r.is_online||!0,locationCity:r.location_city||void 0,timezone:r.timezone||void 0,showLocalTime:r.show_local_time||!1}),o.jsxs("div",{className:"px-6 py-8 space-y-8",children:[r.mission_statement&&o.jsx(gs,{delay:.1,children:o.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-3",children:"Ma Mission"}),o.jsx("p",{className:"text-neutral-700 leading-relaxed whitespace-pre-wrap",children:r.mission_statement})]})}),o.jsx(r6,{profile:r,tier:c}),o.jsx(e6,{profile:r,tier:c,onLinkClick:h=>ni(r.id,"link_click",{type:h}).catch(console.warn)}),r.social_links&&Object.keys(r.social_links).length>0&&o.jsxs(gs,{delay:.5,children:[o.jsx("h3",{className:"text-center text-sm font-semibold text-amber-600 uppercase tracking-wider mb-4",children:"Me contacter"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.social_links.linkedin&&o.jsx(Qc,{platform:"linkedin",url:r.social_links.linkedin,label:"Connect"}),r.social_links.twitter&&o.jsx(Qc,{platform:"twitter",url:r.social_links.twitter,label:"Follow"}),r.social_links.instagram&&o.jsx(Qc,{platform:"instagram",url:r.social_links.instagram,label:"Follow"})]})]}),o.jsx(gs,{delay:.6,children:o.jsx(s0,{onDownloadContact:d})})]})]},"web-view")}),o.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-8 px-4",children:o.jsx(q,{to:"/",className:"text-sm text-neutral-500 hover:text-amber-600 transition-colors inline-block",children:"Crez votre propre profil professionnel numrique avec Obsi"})})]})]})}function c6(){const e=Qe(),{profile:t}=Hl(),{analytics:r,periods:n,loading:s,error:i}=c1(t==null?void 0:t.id);if(s)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center",children:o.jsx(E.div,{className:"h-12 w-12 border-4 border-gold-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(i)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center p-4",children:o.jsx(oe,{variant:"glassmorphism",className:"max-w-md",children:o.jsxs(ye,{children:[o.jsx("p",{className:"text-red-400 text-center",children:i}),o.jsx(W,{onClick:()=>e("/dashboard"),variant:"outline",fullWidth:!0,className:"mt-4",children:"Retour au tableau de bord"})]})})});if(!r||!n)return null;const a=r.deviceBreakdown.mobile+r.deviceBreakdown.desktop+r.deviceBreakdown.tablet,l=a>0?r.deviceBreakdown.mobile/a*100:0,c=a>0?r.deviceBreakdown.desktop/a*100:0,u=a>0?r.deviceBreakdown.tablet/a*100:0,d=h=>{const m=new Date(h);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(m)},f=h=>{switch(h){case"view":return"Vue";case"vcard_download":return"Tlchargement";case"link_click":return"Clic";default:return h}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900",children:[o.jsx("nav",{className:"bg-navy-900/80 backdrop-blur-md border-b border-gold-500/20 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-warmGray-300 hover:text-white transition-colors",children:[o.jsx(zl,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Retour"})]}),o.jsx("h1",{className:"text-xl font-bold bg-gradient-gold bg-clip-text text-transparent",children:"Statistiques dtailles"}),o.jsx("div",{className:"w-24"})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(d1,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Statistiques"}],className:"mb-6"}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(kn,{to:"/edit",label:"Optimiser votre profil",description:"Amliorer vos informations pour plus de visibilit",icon:o.jsx(Cd,{className:"w-5 h-5"}),variant:"card"}),o.jsx(kn,{to:"/dashboard",label:"Partager votre carte",description:"Diffuser votre profil sur vos rseaux",icon:o.jsx(If,{className:"w-5 h-5"}),variant:"card"}),o.jsx(kn,{to:`/${t==null?void 0:t.username}`,label:"Voir votre profil public",description:"Dcouvrir comment les visiteurs vous voient",icon:o.jsx(Cs,{className:"w-5 h-5"}),variant:"card"})]}),o.jsxs(E.div,{variants:i1,initial:"initial",animate:"animate",className:"space-y-8",children:[o.jsxs(E.div,{variants:qe,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(No,{className:"w-6 h-6 text-gold-400"}),"Vue d'ensemble"]}),o.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[o.jsx(oe,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ye,{className:"text-center p-6",children:[o.jsx(Cs,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(ps,{value:r.totalViews,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Vues totales"})]})}),o.jsx(oe,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ye,{className:"text-center p-6",children:[o.jsx(Es,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(ps,{value:r.totalDownloads,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Tlchargements"})]})}),o.jsx(oe,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ye,{className:"text-center p-6",children:[o.jsx($b,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:o.jsx(ps,{value:r.totalLinkClicks,duration:1.5})}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Clics sur liens"})]})}),o.jsx(oe,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ye,{className:"text-center p-6",children:[o.jsx(No,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),o.jsxs("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:[r.conversionRate.toFixed(1),"%"]}),o.jsx("p",{className:"text-sm text-warmGray-300",children:"Taux conversion"})]})})]})]}),o.jsxs(E.div,{variants:qe,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Kc,{className:"w-6 h-6 text-gold-400"}),"Par priode"]}),o.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{label:"Aujourd'hui",data:n.today,icon:dl},{label:"Cette semaine",data:n.thisWeek,icon:Kc},{label:"Ce mois",data:n.thisMonth,icon:Kc},{label:"Total",data:n.total,icon:No}].map(h=>o.jsx(oe,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsxs(ye,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(h.icon,{className:"w-5 h-5 text-gold-400"}),o.jsx("h3",{className:"font-semibold text-white",children:h.label})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Vues"}),o.jsx("span",{className:"text-lg font-bold text-white",children:h.data.views})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Tlchargements"}),o.jsx("span",{className:"text-lg font-bold text-white",children:h.data.downloads})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-warmGray-300",children:"Clics"}),o.jsx("span",{className:"text-lg font-bold text-white",children:h.data.clicks})]})]})]})},h.label))})]}),o.jsxs(E.div,{variants:qe,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Qg,{className:"w-6 h-6 text-gold-400"}),"Rpartition par appareil"]}),o.jsx(oe,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsx(ye,{className:"p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qg,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Mobile"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.mobile," (",l.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${l}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(iR,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Desktop"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.desktop," (",c.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${c}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uR,{className:"w-5 h-5 text-gold-400"}),o.jsx("span",{className:"text-white font-medium",children:"Tablette"})]}),o.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.tablet," (",u.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${u}%`}})})]})]})})})]}),o.jsxs(E.div,{variants:qe,children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(dl,{className:"w-6 h-6 text-gold-400"}),"vnements rcents"]}),o.jsx(oe,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:o.jsx(ye,{className:"p-6",children:r.recentEvents.length===0?o.jsx("p",{className:"text-center text-warmGray-400 py-8",children:"Aucun vnement enregistr"}):o.jsx("div",{className:"space-y-3",children:r.recentEvents.map(h=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-navy-700/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-gold-400 rounded-full"}),o.jsx("span",{className:"text-white font-medium",children:f(h.event_type)}),o.jsx("span",{className:"text-sm text-warmGray-400 capitalize",children:h.device_type})]}),o.jsx("span",{className:"text-sm text-warmGray-400",children:d(h.created_at)})]},h.id))})})})]})]})]})]})}function i0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i0(Object(r),!0).forEach(function(n){m1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eo=function(t){return typeof t}:Eo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function m1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function d6(e,t){if(e==null)return{};var r=u6(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p1(e,t){return h6(e)||f6(e,t)||m6(e,t)||p6()}function h6(e){if(Array.isArray(e))return e}function f6(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,a,l;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function m6(e,t){if(e){if(typeof e=="string")return o0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o0(e,t)}}function o0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xe=function(t,r,n){var s=!!n,i=ae.useRef(n);ae.useEffect(function(){i.current=n},[n]),ae.useEffect(function(){if(!s||!t)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,a),function(){t.off(r,a)}},[s,r,t,i])},Td=function(t){var r=ae.useRef(t);return ae.useEffect(function(){r.current=t},[t]),r.current},Ts=function(t){return t!==null&&Eo(t)==="object"},g6=function(t){return Ts(t)&&typeof t.then=="function"},y6=function(t){return Ts(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},l0="[object Object]",v6=function e(t,r){if(!Ts(t)||!Ts(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(t)===l0,a=Object.prototype.toString.call(r)===l0;if(i!==a)return!1;if(!i&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var m=t,p=r,v=function(g){return e(m[g],p[g])};return h.every(v)},g1=function(t,r,n){return Ts(t)?Object.keys(t).reduce(function(s,i){var a=!Ts(r)||!v6(t[i],r[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?a0(a0({},s||{}),{},m1({},i,t[i])):s},null):null},y1="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",c0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y1;if(t===null||y6(t))return t;throw new Error(r)},x6=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y1;if(g6(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return c0(s,r)})};var n=c0(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},w6=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.5.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.5.0",url:"https://stripe.com/docs/stripe-js/react"}))},Jl=ae.createContext(null);Jl.displayName="ElementsContext";var v1=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},x1=function(t){var r=t.stripe,n=t.options,s=t.children,i=ae.useMemo(function(){return x6(r)},[r]),a=ae.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=p1(a,2),c=l[0],u=l[1];ae.useEffect(function(){var h=!0,m=function(v){u(function(w){return w.stripe?w:{stripe:v,elements:v.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(p){p&&h&&m(p)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){h=!1}},[i,c,n]);var d=Td(r);ae.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=Td(n);return ae.useEffect(function(){if(c.elements){var h=g1(n,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,f,c.elements]),ae.useEffect(function(){w6(c.stripe)},[c.stripe]),ae.createElement(Jl.Provider,{value:c},s)};x1.propTypes={stripe:ne.any,options:ne.object};var b6=function(t){var r=ae.useContext(Jl);return v1(r,t)},j6=function(){var t=b6("calls useElements()"),r=t.elements;return r};ne.func.isRequired;var w1=ae.createContext(null);w1.displayName="CheckoutContext";ne.any,ne.shape({clientSecret:ne.oneOfType([ne.string,ne.instanceOf(Promise)]).isRequired,elementsOptions:ne.object}).isRequired;var Rd=function(t){var r=ae.useContext(w1),n=ae.useContext(Jl);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r}else return v1(n,t)},_6=["mode"],S6=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},dt=function(t,r){var n="".concat(S6(t),"Element"),s=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,m=c.onBlur,p=c.onFocus,v=c.onReady,w=c.onChange,g=c.onEscape,y=c.onClick,x=c.onLoadError,j=c.onLoaderStart,_=c.onNetworksChange,S=c.onConfirm,N=c.onCancel,k=c.onShippingAddressChange,C=c.onShippingRateChange,R=c.onSavedPaymentMethodRemove,D=c.onSavedPaymentMethodUpdate,U=Rd("mounts <".concat(n,">")),H="elements"in U?U.elements:null,X="checkoutState"in U?U.checkoutState:null,te=(X==null?void 0:X.type)==="success"||(X==null?void 0:X.type)==="loading"?X.sdk:null,Ue=ae.useState(null),K=p1(Ue,2),P=K[0],M=K[1],I=ae.useRef(null),F=ae.useRef(null);Xe(P,"blur",m),Xe(P,"focus",p),Xe(P,"escape",g),Xe(P,"click",y),Xe(P,"loaderror",x),Xe(P,"loaderstart",j),Xe(P,"networkschange",_),Xe(P,"confirm",S),Xe(P,"cancel",N),Xe(P,"shippingaddresschange",k),Xe(P,"shippingratechange",C),Xe(P,"savedpaymentmethodremove",R),Xe(P,"savedpaymentmethodupdate",D),Xe(P,"change",w);var G;v&&(t==="expressCheckout"?G=v:G=function(){v(P)}),Xe(P,"ready",G),ae.useLayoutEffect(function(){if(I.current===null&&F.current!==null&&(H||te)){var Q=null;if(te)switch(t){case"paymentForm":Q=te.createPaymentFormElement(h);break;case"payment":Q=te.createPaymentElement(h);break;case"address":if("mode"in h){var ze=h.mode,Ye=d6(h,_6);if(ze==="shipping")Q=te.createShippingAddressElement(Ye);else if(ze==="billing")Q=te.createBillingAddressElement(Ye);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Q=te.createExpressCheckoutElement(h);break;case"currencySelector":Q=te.createCurrencySelectorElement();break;case"taxId":Q=te.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else H&&(Q=H.create(t,h));I.current=Q,M(Q),Q&&Q.mount(F.current)}},[H,te,h]);var re=Td(h);return ae.useEffect(function(){if(I.current){var Q=g1(h,re,["paymentRequest"]);Q&&"update"in I.current&&I.current.update(Q)}},[h,re]),ae.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),ae.createElement("div",{id:u,className:d,ref:F})},i=function(c){Rd("mounts <".concat(n,">"));var u=c.id,d=c.className;return ae.createElement("div",{id:u,className:d})},a=r?i:s;return a.propTypes={id:ne.string,className:ne.string,onChange:ne.func,onBlur:ne.func,onFocus:ne.func,onReady:ne.func,onEscape:ne.func,onClick:ne.func,onLoadError:ne.func,onLoaderStart:ne.func,onNetworksChange:ne.func,onConfirm:ne.func,onCancel:ne.func,onShippingAddressChange:ne.func,onShippingRateChange:ne.func,onSavedPaymentMethodRemove:ne.func,onSavedPaymentMethodUpdate:ne.func,options:ne.object},a.displayName=n,a.__elementType=t,a},ht=typeof window>"u",N6=ae.createContext(null);N6.displayName="EmbeddedCheckoutProviderContext";var k6=function(){var t=Rd("calls useStripe()"),r=t.stripe;return r};dt("auBankAccount",ht);dt("card",ht);dt("cardNumber",ht);dt("cardExpiry",ht);dt("cardCvc",ht);dt("iban",ht);var E6=dt("payment",ht);dt("expressCheckout",ht);dt("paymentRequestButton",ht);dt("linkAuthentication",ht);dt("address",ht);dt("shippingAddress",ht);dt("paymentMethodMessaging",ht);dt("taxId",ht);function Co(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Co=function(t){return typeof t}:Co=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}var b1="clover",C6=function(t){return t===3?"v3":t},j1="https://js.stripe.com",P6="".concat(j1,"/").concat(b1,"/stripe.js"),T6=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,R6=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var A6=function(t){return T6.test(t)||R6.test(t)},O6=function(){for(var t=document.querySelectorAll('script[src^="'.concat(j1,'"]')),r=0;r<t.length;r++){var n=t[r];if(A6(n.src))return n}return null},u0=function(t){var r="",n=document.createElement("script");n.src="".concat(P6).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},I6=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.6.4",startTime:r})},si=null,ro=null,no=null,L6=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},D6=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},M6=function(t){return si!==null?si:(si=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=O6();if(!(s&&t)){if(!s)s=u0(t);else if(s&&no!==null&&ro!==null){var i;s.removeEventListener("load",no),s.removeEventListener("error",ro),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=u0(t)}}no=D6(r,n),ro=L6(n),s.addEventListener("load",no),s.addEventListener("error",ro)}catch(a){n(a);return}}),si.catch(function(r){return si=null,Promise.reject(r)}))},$6=function(t,r,n){if(t===null)return null;var s=r[0];if(typeof s!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(Co(s)," instead."));var i=s.match(/^pk_test/),a=C6(t.version),l=b1;i&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.6.4"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,r);return I6(c,n),c},ii,_1=!1,S1=function(){return ii||(ii=M6(null).catch(function(t){return ii=null,Promise.reject(t)}),ii)};Promise.resolve().then(function(){return S1()}).catch(function(e){_1||console.warn(e)});var F6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];_1=!0;var s=Date.now();return S1().then(function(i){return $6(i,r,s)})};function V6({orderData:e,totalAmount:t,onBack:r}){const n=k6(),s=j6(),i=Qe(),[a,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(null);b.useEffect(()=>{h()},[]);const h=async()=>{try{const w=await fetch("https://zyzoszfbwtryqiwmrkgm.supabase.co/functions/v1/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5em9zemZid3RyeXFpd21ya2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODM5OTMsImV4cCI6MjA4NDU1OTk5M30._U2m-HjTsWOGU2fltAczSW0GJFvauCzdMFN8yUC0q7g"},body:JSON.stringify(e)});if(!w.ok){const y=await w.json();throw new Error(y.error||"Erreur lors de la cration du paiement")}const g=await w.json();f(g.clientSecret)}catch(p){console.error("Error creating payment intent:",p),u(p instanceof Error?p.message:"Erreur lors de la cration du paiement")}},m=async p=>{if(p.preventDefault(),!(!n||!s||!d)){l(!0),u(null);try{const{error:v}=await s.submit();if(v)throw new Error(v.message);const{error:w,paymentIntent:g}=await n.confirmPayment({elements:s,clientSecret:d,confirmParams:{return_url:`${window.location.origin}/order/confirmation`},redirect:"if_required"});if(w)throw new Error(w.message);g&&g.status==="succeeded"&&i(`/order/confirmation?payment_intent=${g.id}`)}catch(v){console.error("Payment error:",v),u(v instanceof Error?v.message:"Erreur lors du paiement"),l(!1)}}};return c&&!d?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-red-600 mb-4",children:c}),o.jsx(W,{variant:"outline",onClick:h,children:"Ressayer"})]}):d?o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c&&o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-700",children:c})}),o.jsx(E6,{}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:[o.jsx(nR,{className:"w-4 h-4"}),o.jsx("span",{children:"Paiement scuris par Stripe"})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsxs(W,{type:"button",variant:"outline",onClick:r,disabled:a,children:[o.jsx(Ed,{className:"w-5 h-5 mr-2"}),"Retour"]}),o.jsx(W,{type:"submit",disabled:!n||a,className:"flex-1",children:a?"Traitement...":`Payer ${(t/100).toFixed(2)} `})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Prparation du paiement..."})]})}function B6(e){return/^[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(e.toUpperCase())}function so(e){return{roc:2990,saphir:4990,emeraude:7990}[e]}function aa(e){return{roc:"Roc",saphir:"Saphir",emeraude:"meraude"}[e]}function fl(e){return`${(e/100).toFixed(2)} `}function U6(e){return{pending:"bg-yellow-100 text-yellow-800",activated:"bg-green-100 text-green-800",deactivated:"bg-gray-100 text-gray-800",shipped:"bg-blue-100 text-blue-800"}[e]||"bg-gray-100 text-gray-800"}function z6(e){return{pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"}function G6(e){return{pending:"bg-yellow-100 text-yellow-800",succeeded:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800"}function ml(e){const t=new Date(e);return new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric"}).format(t)}const W6=F6("");function H6(){const[e]=Il(),t=Qe(),[r,n]=b.useState(1),[s,i]=b.useState({tier:e.get("tier")||"roc",quantity:1,customerName:"",customerEmail:"",customerPhone:"",shippingAddress:{street:"",city:"",postal_code:"",country:"France"}}),[a,l]=b.useState({}),c=[{id:"roc",name:"Roc",price:so("roc"),features:["Carte NFC premium","Profil digital personnalis","QR Code personnalisable","Statistiques de base"]},{id:"saphir",name:"Saphir",price:so("saphir"),features:["Tout de Roc","Design templates premium","Analytiques avances","Intgrations API"]},{id:"emeraude",name:"meraude",price:so("emeraude"),features:["Tout de Saphir","Support prioritaire","Personnalisation avance","Fonctionnalits exclusives"]}],u=w=>{i(g=>({...g,tier:w}))},d=()=>{const w={};return(s.quantity<1||s.quantity>100)&&(w.quantity="Quantit invalide (1-100)"),l(w),Object.keys(w).length===0},f=()=>{const w={};return s.customerName.trim()||(w.customerName="Le nom est requis"),s.customerEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.customerEmail)||(w.customerEmail="Email invalide"):w.customerEmail="L'email est requis",l(w),Object.keys(w).length===0},h=()=>{const w={};return s.shippingAddress.street.trim()||(w.street="L'adresse est requise"),s.shippingAddress.city.trim()||(w.city="La ville est requise"),s.shippingAddress.postal_code.trim()||(w.postal_code="Le code postal est requis"),l(w),Object.keys(w).length===0},m=()=>{r===1&&!d()||r===2&&!f()||r===3&&!h()||n(r+1)},p=()=>{n(r-1)},v=so(s.tier)*s.quantity;return o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Commander votre carte Obsi"}),o.jsx("p",{className:"text-gray-600",children:"Suivez les tapes pour finaliser votre commande"})]}),o.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3,4].map(w=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${w<=r?"bg-gray-900 text-white":"bg-gray-200 text-gray-500"}`,children:w}),w<4&&o.jsx("div",{className:`w-16 h-1 ${w<r?"bg-gray-900":"bg-gray-200"}`})]},w))}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[r===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choisissez votre pack"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(w=>o.jsxs("button",{onClick:()=>u(w.id),className:`p-6 border-2 rounded-xl text-left transition-all ${s.tier===w.id?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:w.name}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-4",children:fl(w.price)}),o.jsx("ul",{className:"space-y-2",children:w.features.map((g,y)=>o.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 mt-1",children:""}),o.jsx("span",{children:g})]},y))})]},w.id))}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantit"}),o.jsx(Z,{type:"number",min:"1",max:"100",value:s.quantity,onChange:w=>i({...s,quantity:parseInt(w.target.value)||1}),error:a.quantity})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{onClick:m,children:["Suivant",o.jsx(So,{className:"w-5 h-5 ml-2"})]})})]}),r===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vos informations"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet"}),o.jsx(Z,{value:s.customerName,onChange:w=>i({...s,customerName:w.target.value}),placeholder:"Jean Dupont",error:a.customerName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx(Z,{type:"email",value:s.customerEmail,onChange:w=>i({...s,customerEmail:w.target.value}),placeholder:"jean@exemple.com",error:a.customerEmail})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone (optionnel)"}),o.jsx(Z,{type:"tel",value:s.customerPhone,onChange:w=>i({...s,customerPhone:w.target.value}),placeholder:"+33 6 12 34 56 78"})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(W,{variant:"outline",onClick:p,children:[o.jsx(Ed,{className:"w-5 h-5 mr-2"}),"Retour"]}),o.jsxs(W,{onClick:m,children:["Suivant",o.jsx(So,{className:"w-5 h-5 ml-2"})]})]})]}),r===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Adresse de livraison"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),o.jsx(Z,{value:s.shippingAddress.street,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,street:w.target.value}}),placeholder:"12 rue de la Rpublique",error:a.street})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code postal"}),o.jsx(Z,{value:s.shippingAddress.postal_code,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,postal_code:w.target.value}}),placeholder:"75001",error:a.postal_code})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),o.jsx(Z,{value:s.shippingAddress.city,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,city:w.target.value}}),placeholder:"Paris",error:a.city})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pays"}),o.jsx(Z,{value:s.shippingAddress.country,onChange:w=>i({...s,shippingAddress:{...s.shippingAddress,country:w.target.value}}),placeholder:"France"})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(W,{variant:"outline",onClick:p,children:[o.jsx(Ed,{className:"w-5 h-5 mr-2"}),"Retour"]}),o.jsxs(W,{onClick:m,children:["Suivant",o.jsx(So,{className:"w-5 h-5 ml-2"})]})]})]}),r===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Paiement"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rcapitulatif"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Pack"}),o.jsx("span",{className:"font-medium",children:aa(s.tier)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Quantit"}),o.jsx("span",{className:"font-medium",children:s.quantity})]}),o.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:o.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:fl(v)})]})})]})]}),o.jsx(x1,{stripe:W6,children:o.jsx(V6,{orderData:s,totalAmount:v,onBack:p})})]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs(W,{variant:"outline",onClick:()=>t("/"),children:[o.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Annuler la commande"]})})]})})}function q6({code:e,size:t="md"}){const[r,n]=b.useState(!1),s=async()=>{try{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)}catch(a){console.error("Failed to copy:",a)}},i={sm:"text-lg px-4 py-2",md:"text-2xl px-6 py-3",lg:"text-4xl px-8 py-4"};return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`bg-gray-900 text-white rounded-lg font-mono tracking-wider ${i[t]} border-2 border-gray-700`,children:e}),o.jsx("button",{onClick:s,className:"p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Copier le code",children:r?o.jsx(ie,{className:"w-5 h-5 text-green-600"}):o.jsx(KT,{className:"w-5 h-5 text-gray-600"})})]})}function K6(){var d;const[e]=Il(),t=Qe(),[r,n]=b.useState(!0),[s,i]=b.useState(null),[a,l]=b.useState([]),c=e.get("payment_intent");b.useEffect(()=>{c?u():n(!1)},[c]);const u=async()=>{try{const{data:f,error:h}=await z.from("orders").select("*").eq("stripe_payment_intent_id",c).maybeSingle();if(h)throw h;if(f){i(f);const{data:m,error:p}=await z.from("cards").select("*").eq("order_id",f.id);if(p)throw p;l(m||[])}}catch(f){console.error("Error fetching order details:",f)}finally{n(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(zs,{className:"w-12 h-12 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Commande confirme !"}),o.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Merci pour votre achat. Votre commande ",s.order_number," a t traite avec succs."]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vos codes d'activation"}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Utilisez ces codes pour activer vos cartes Obsi"}),o.jsx("div",{className:"space-y-4",children:a.map((f,h)=>o.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Carte ",h+1," - ",f.card_code]}),o.jsx(q6,{code:f.activation_code,size:"sm"})]},f.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(q,{to:`/activate?code=${(d=a[0])==null?void 0:d.activation_code}&email=${encodeURIComponent(s.customer_email)}`,children:o.jsxs(W,{className:"w-full",children:["Activer ma carte maintenant",o.jsx(ul,{className:"w-5 h-5 ml-2"})]})}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Un email de confirmation avec vos codes d'activation a t envoy "," ",o.jsx("span",{className:"font-medium",children:s.customer_email})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prochaines tapes"}),o.jsxs("ol",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-900 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Activez votre carte"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Utilisez le code d'activation pour activer votre carte et crer votre profil"})]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-900 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"2"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Personnalisez votre profil"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Ajoutez vos informations, photo, liens et personnalisez votre carte digitale"})]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-900 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"3"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Recevez votre carte physique"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Votre carte NFC sera expdie sous 2-3 jours ouvrs"})]})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Commande non trouve"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Nous n'avons pas pu trouver votre commande. Si vous avez des questions, contactez notre support."}),o.jsx(W,{onClick:()=>t("/"),children:"Retour  l'accueil"})]})})}function J6(){const[e,t]=b.useState(!1),[r,n]=b.useState(null);return{activateCard:async(i,a)=>{t(!0),n(null);try{const u=await fetch("https://zyzoszfbwtryqiwmrkgm.supabase.co/functions/v1/activate-card",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5em9zemZid3RyeXFpd21ya2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODM5OTMsImV4cCI6MjA4NDU1OTk5M30._U2m-HjTsWOGU2fltAczSW0GJFvauCzdMFN8yUC0q7g"},body:JSON.stringify({activationCode:i,email:a})});if(!u.ok){const f=await u.json();throw new Error(f.error||"Activation failed")}const d=await u.json();return{success:!0,message:d.message,profileId:d.profileId,shouldOnboard:d.shouldOnboard}}catch(l){const c=l instanceof Error?l.message:"Activation failed";return n(c),{success:!1,message:c}}finally{t(!1)}},loading:e,error:r}}function Q6(){const[e]=Il(),t=Qe(),{activateCard:r,loading:n,error:s}=J6(),[i,a]=b.useState({activationCode:e.get("code")||"",email:e.get("email")||""}),[l,c]=b.useState(!1),[u,d]=b.useState({}),f=p=>{const{name:v,value:w}=p.target;a(g=>({...g,[v]:w})),u[v]&&d(g=>{const y={...g};return delete y[v],y})},h=()=>{const p={},v=i.activationCode.trim().toUpperCase();return v?B6(v)||(p.activationCode="Format de code invalide (ex: ABCD-1234)"):p.activationCode="Le code d'activation est requis",i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(p.email="Format d'email invalide"):p.email="L'email est requis",d(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h())return;const v=await r(i.activationCode.trim().toUpperCase(),i.email.trim());v.success&&(c(!0),setTimeout(()=>{v.shouldOnboard?t(`/onboarding?email=${encodeURIComponent(i.email)}`):t("/dashboard")},2e3))};return l?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(zs,{className:"w-10 h-10 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activation russie !"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Votre carte Obsi a t active avec succs. Vous allez tre redirig..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Activez votre carte Obsi"}),o.jsx("p",{className:"text-gray-600",children:"Entrez votre code d'activation et votre email pour commencer"})]}),s&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[o.jsx(Pi,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-900",children:"Erreur d'activation"}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:s})]})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"activationCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Code d'activation"}),o.jsx(Z,{id:"activationCode",name:"activationCode",type:"text",value:i.activationCode,onChange:f,placeholder:"ABCD-1234",className:"text-center font-mono tracking-wider text-lg uppercase",error:u.activationCode}),u.activationCode&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.activationCode})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),o.jsx(Z,{id:"email",name:"email",type:"email",value:i.email,onChange:f,placeholder:"vous@exemple.com",error:u.email}),u.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),o.jsx(W,{type:"submit",disabled:n,className:"w-full",children:n?"Activation en cours...":"Activer ma carte"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",o.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Se connecter"})]})})]})})}function Y6(){const[e,t]=wa({triggerOnce:!0,threshold:.1}),r=Qe(),{user:n}=Yt(),s=[{name:"Pack Roc",icon:qr,price:"19,90",period:"/mois pendant 1 an",tier:"roc",features:["1 profil personnalis","1 carte NFC premium","Partage illimit","QR code dynamique"],highlighted:!1,color:"from-gray-500 to-gray-700"},{name:"Pack Saphir",icon:qr,price:"24,90",period:"/mois pendant 1 an",tier:"saphir",features:["Tout du Pack Roc","3 profils personnaliss","Pitch vido intgr","CRM intgr","Statistiques avances"],highlighted:!0,recommended:!0,color:"from-[#3B82F6] to-[#2563EB]"},{name:"Pack Emeraude",icon:qr,price:"34,90",period:"/mois pendant 1 an",tier:"emeraude",features:["Tout des Packs Roc & Saphir","Logo personnalis sur carte","Adhsion au club VIP","Support prioritaire","Accs exclusif aux vnements"],highlighted:!1,color:"from-emerald-600 to-emerald-800"}],i=a=>{r(`/order-card?tier=${a}`)};return o.jsxs("div",{className:"min-h-screen bg-warmGray-50",children:[o.jsx(f1,{title:"Nos Offres - Obsi",description:"Dcouvrez nos packs premium avec cartes NFC intelligentes. Choisissez l'offre qui vous correspond."}),o.jsx("div",{className:"bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 py-8 border-b border-neutral-700",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("button",{onClick:()=>r("/"),className:"inline-flex items-center gap-2 text-warmGray-300 hover:text-warmGray-100 transition-colors mb-4",children:[o.jsx(zl,{className:"w-4 h-4"}),"Retour  l'accueil"]})})}),o.jsxs("section",{ref:e,className:"relative py-20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/10 via-transparent to-transparent opacity-30"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(E.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-16",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"Nos Offres"}),o.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700",children:"Choisissez le pack qui vous correspond"})]}),o.jsx(E.div,{variants:sa,initial:"initial",animate:t?"animate":"initial",className:"grid md:grid-cols-3 gap-8 mb-20",children:s.map(a=>{const l=a.icon;return o.jsxs(E.div,{variants:qe,className:"relative",children:[a.recommended&&o.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 z-20",children:o.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-semibold bg-gradient-to-r from-gold-500 to-gold-600 text-white shadow-gold-md",children:"Recommand"})}),o.jsx(oe,{variant:"dark-premium",className:`relative h-full ${a.highlighted?"ring-2 ring-[#3B82F6]/50 shadow-xl transform scale-105":""}`,children:o.jsxs(ye,{className:"p-6 flex flex-col h-full",children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${a.color} flex items-center justify-center mb-4 shadow-lg`,children:o.jsx(l,{className:"w-9 h-9 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-warmGray-50 mb-2",children:a.name})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[o.jsx("span",{className:"text-5xl font-bold text-gold-400",children:a.price}),o.jsx("span",{className:"text-xl text-warmGray-300",children:""})]}),o.jsx("p",{className:"text-sm text-warmGray-300 mt-2",children:a.period})]}),o.jsx("ul",{className:"space-y-3 mb-6 flex-1",children:a.features.map((c,u)=>o.jsxs("li",{className:"flex items-start gap-2 text-warmGray-300 text-sm",children:[o.jsx(ie,{className:"w-5 h-5 text-gold-400 flex-shrink-0 mt-0.5"}),o.jsx("span",{children:c})]},u))}),o.jsx(W,{variant:a.highlighted?"primary":"secondary",className:"w-full",onClick:()=>i(a.tier),children:"Choisir ce pack"})]})})]},a.name)})}),o.jsxs(E.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.3},className:"max-w-5xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-gold-700 text-center mb-10",children:"Comparaison dtaille"}),o.jsx(oe,{variant:"dark-premium",className:"overflow-hidden",children:o.jsx(ye,{className:"p-0",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-neutral-700",children:[o.jsx("th",{className:"text-left p-4 md:p-6 font-semibold text-warmGray-50 bg-neutral-800/30",children:"Fonctionnalits"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-warmGray-200 bg-neutral-800/30",children:"Pack Roc"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-[#3B82F6] bg-[#3B82F6]/20",children:"Pack Saphir"}),o.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-emerald-400 bg-emerald-900/20",children:"Pack Emeraude"})]})}),o.jsx("tbody",{className:"divide-y divide-neutral-700",children:[{label:"Profils personnaliss",roc:"1",saphir:"3",emeraude:"Illimits"},{label:"Carte NFC premium",roc:!0,saphir:!0,emeraude:!0},{label:"Partage illimit",roc:!0,saphir:!0,emeraude:!0},{label:"QR code dynamique",roc:!0,saphir:!0,emeraude:!0},{label:"Pitch vido intgr",roc:!1,saphir:!0,emeraude:!0},{label:"CRM intgr",roc:!1,saphir:!0,emeraude:!0},{label:"Statistiques avances",roc:!1,saphir:!0,emeraude:!0},{label:"Logo personnalis sur carte",roc:!1,saphir:!1,emeraude:!0},{label:"Adhsion au club VIP",roc:!1,saphir:!1,emeraude:!0},{label:"Support prioritaire",roc:!1,saphir:!1,emeraude:!0},{label:"Accs exclusif aux vnements",roc:!1,saphir:!1,emeraude:!0}].map((a,l)=>o.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:a.label}),["roc","saphir","emeraude"].map(c=>{const u=a[c];return o.jsx("td",{className:"p-4 md:p-6 text-center",children:typeof u=="boolean"?o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:`w-6 h-6 rounded-full ${u?"bg-gradient-to-br from-gold-400 to-gold-600":"bg-neutral-700"} flex items-center justify-center`,children:u?o.jsx(ie,{className:"w-4 h-4 text-white"}):o.jsx($e,{className:"w-4 h-4 text-warmGray-500"})})}):o.jsx("span",{className:"text-warmGray-200",children:u})},c)})]},l))})]})})})})]})]})]})]})}function X6(){const[e,t]=b.useState(null),[r,n]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:{user:c}}=await z.auth.getUser();if(!c){t(null),n(!1);return}const{data:u,error:d}=await z.from("user_roles").select("role").eq("user_id",c.id).maybeSingle();if(d)throw d;if(u)t(u.role);else{const{error:f}=await z.from("user_roles").insert({user_id:c.id,role:"customer"});f||t("customer")}}catch(c){console.error("Error fetching user role:",c)}finally{n(!1)}};return{role:e,loading:r,isAdmin:e==="admin",isReseller:e==="reseller",isCustomer:e==="customer",refetch:s}}function pl({children:e}){const t=ar(),r=Qe(),{signOut:n}=Yt(),{role:s,loading:i}=X6(),a=async()=>{await n(),r("/login")};if(i)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});if(s!=="admin")return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Accs refus"}),o.jsx("p",{className:"text-gray-600",children:"Vous n'avez pas les permissions ncessaires."}),o.jsx(q,{to:"/dashboard",className:"mt-4 inline-block text-blue-600 hover:underline",children:"Retour au tableau de bord"})]})});const l=[{name:"Tableau de bord",href:"/admin",icon:eR},{name:"Cartes",href:"/admin/cards",icon:Cf},{name:"Commandes",href:"/admin/orders",icon:Lf},{name:"Revendeurs",href:"/admin/resellers",icon:Df},{name:"Batches",href:"/admin/batches",icon:aR}];return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"flex",children:[o.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-screen fixed left-0 top-0",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Administration Obsi"})}),o.jsx("nav",{className:"p-4 space-y-1",children:l.map(c=>{const u=c.icon,d=t.pathname===c.href||c.href!=="/admin"&&t.pathname.startsWith(c.href);return o.jsxs(q,{to:c.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${d?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(u,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:c.name})]},c.href)})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:o.jsxs("button",{onClick:a,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 w-full transition-colors",children:[o.jsx(Mb,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Dconnexion"})]})})]}),o.jsx("main",{className:"flex-1 ml-64 p-8",children:e})]})})}function Z6(){const[e,t]=b.useState({totalCards:0,activatedCards:0,pendingCards:0,totalOrders:0,pendingOrders:0,completedOrders:0}),[r,n]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{const[{count:a},{count:l},{count:c},{count:u},{count:d},{count:f}]=await Promise.all([z.from("cards").select("*",{count:"exact",head:!0}),z.from("cards").select("*",{count:"exact",head:!0}).eq("status","activated"),z.from("cards").select("*",{count:"exact",head:!0}).eq("status","pending"),z.from("orders").select("*",{count:"exact",head:!0}),z.from("orders").select("*",{count:"exact",head:!0}).eq("status","pending"),z.from("orders").select("*",{count:"exact",head:!0}).eq("status","completed")]);t({totalCards:a||0,activatedCards:l||0,pendingCards:c||0,totalOrders:u||0,pendingOrders:d||0,completedOrders:f||0})}catch(a){console.error("Error fetching stats:",a)}finally{n(!1)}},i=[{title:"Total Cartes",value:e.totalCards,icon:Cf,color:"bg-blue-500",link:"/admin/cards"},{title:"Cartes Actives",value:e.activatedCards,icon:zs,color:"bg-green-500",link:"/admin/cards?status=activated"},{title:"Cartes en Attente",value:e.pendingCards,icon:dl,color:"bg-yellow-500",link:"/admin/cards?status=pending"},{title:"Total Commandes",value:e.totalOrders,icon:Lf,color:"bg-purple-500",link:"/admin/orders"}];return r?o.jsx(pl,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})}):o.jsx(pl,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble de votre systme de cartes Obsi"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(a=>{const l=a.icon;return o.jsx(q,{to:a.link,className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:a.title}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.value})]}),o.jsx("div",{className:`${a.color} p-3 rounded-lg`,children:o.jsx(l,{className:"w-6 h-6 text-white"})})]})},a.title)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(q,{to:"/admin/cards/generate",className:"block p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Gnrer des cartes"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Crer un nouveau batch de codes d'activation"})]}),o.jsxs(q,{to:"/admin/orders",className:"block p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Grer les commandes"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Voir et traiter les commandes en cours"})]}),o.jsxs(q,{to:"/admin/resellers",className:"block p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Grer les revendeurs"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ajouter ou modifier des revendeurs"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-gray-600",children:"Taux d'activation"}),o.jsxs("span",{className:"font-medium text-gray-900",children:[e.totalCards>0?Math.round(e.activatedCards/e.totalCards*100):0,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${e.totalCards>0?e.activatedCards/e.totalCards*100:0}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-gray-600",children:"Commandes compltes"}),o.jsxs("span",{className:"font-medium text-gray-900",children:[e.totalOrders>0?Math.round(e.completedOrders/e.totalOrders*100):0,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all",style:{width:`${e.totalOrders>0?e.completedOrders/e.totalOrders*100:0}%`}})})]})]})]})]})]})})}function e5(e={}){const[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,a]=b.useState(null),l=async()=>{s(!0),a(null);try{let d=z.from("cards").select("*").order("created_at",{ascending:!1});e.status&&(d=d.eq("status",e.status)),e.tier&&(d=d.eq("tier",e.tier)),e.resellerId&&(d=d.eq("reseller_id",e.resellerId));const{data:f,error:h}=await d;if(h)throw h;r(f||[])}catch(d){console.error("Error fetching cards:",d),a(d instanceof Error?d.message:"Failed to fetch cards")}finally{s(!1)}},c=async(d,f)=>{try{const{error:h}=await z.from("cards").update(f).eq("id",d);if(h)throw h;return r(m=>m.map(p=>p.id===d?{...p,...f}:p)),{success:!0}}catch(h){return console.error("Error updating card:",h),{success:!1,error:h instanceof Error?h.message:"Failed to update card"}}},u=async d=>{s(!0),a(null);try{const{data:f,error:h}=await z.from("cards").select("*").or(`card_code.ilike.%${d}%,activation_code.ilike.%${d}%`).order("created_at",{ascending:!1});if(h)throw h;r(f||[])}catch(f){console.error("Error searching cards:",f),a(f instanceof Error?f.message:"Failed to search cards")}finally{s(!1)}};return b.useEffect(()=>{e.autoFetch!==!1&&l()},[e.status,e.tier,e.resellerId]),{cards:t,loading:n,error:i,fetchCards:l,updateCard:c,searchCards:u}}const t5={pending:"En attente",activated:"Active",deactivated:"Dsactive",shipped:"Expdie"};function r5({status:e}){return o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${U6(e)}`,children:t5[e]})}function n5(){const[e,t]=b.useState("all"),[r,n]=b.useState("all"),[s,i]=b.useState(""),{cards:a,loading:l,searchCards:c,fetchCards:u}=e5({autoFetch:!0}),d=m=>{m.preventDefault(),s.trim()?c(s):u()},f=a.filter(m=>!(e!=="all"&&m.status!==e||r!=="all"&&m.tier!==r)),h=()=>{const m=["Code Carte","Code Activation","Tier","Statut","Date Cration"],p=f.map(y=>[y.card_code,y.activation_code,aa(y.tier),y.status,ml(y.created_at)]),v=[m.join(","),...p.map(y=>y.join(","))].join(`
`),w=new Blob([v],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a");g.href=URL.createObjectURL(w),g.download=`obsi-cards-${new Date().toISOString().split("T")[0]}.csv`,g.click()};return o.jsx(pl,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des cartes"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:[f.length," carte(s)"]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:h,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[o.jsx(Es,{className:"w-4 h-4"}),"Exporter CSV"]}),o.jsxs(q,{to:"/admin/cards/generate",className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors flex items-center gap-2",children:[o.jsx(Vb,{className:"w-4 h-4"}),"Gnrer des cartes"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsx("form",{onSubmit:d,className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:m=>i(m.target.value),placeholder:"Rechercher par code carte ou code activation...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent"})]})}),o.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"activated",children:"Active"}),o.jsx("option",{value:"shipped",children:"Expdie"}),o.jsx("option",{value:"deactivated",children:"Dsactive"})]}),o.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les tiers"}),o.jsx("option",{value:"roc",children:"Roc"}),o.jsx("option",{value:"saphir",children:"Saphir"}),o.jsx("option",{value:"emeraude",children:"meraude"})]})]})}),l?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):f.length===0?o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:o.jsx("p",{className:"text-gray-600",children:"Aucune carte trouve"})}):o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code Carte"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code Activation"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Cration"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.card_code}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.activation_code}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:aa(m.tier)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(r5,{status:m.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ml(m.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx(q,{to:`/admin/cards/${m.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Voir dtails"})})]},m.id))})]})})})]})})}function s5(e={}){const[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,a]=b.useState(null),l=async()=>{s(!0),a(null);try{let f=z.from("orders").select("*").order("created_at",{ascending:!1});e.status&&(f=f.eq("status",e.status)),e.paymentStatus&&(f=f.eq("payment_status",e.paymentStatus)),e.userId&&(f=f.eq("user_id",e.userId));const{data:h,error:m}=await f;if(m)throw m;r(h||[])}catch(f){console.error("Error fetching orders:",f),a(f instanceof Error?f.message:"Failed to fetch orders")}finally{s(!1)}},c=async f=>{try{const{data:h,error:m}=await z.from("orders").select("*").eq("id",f).maybeSingle();if(m)throw m;return{data:h,error:null}}catch(h){return console.error("Error fetching order:",h),{data:null,error:h instanceof Error?h.message:"Failed to fetch order"}}},u=async(f,h)=>{try{const{error:m}=await z.from("orders").update(h).eq("id",f);if(m)throw m;return r(p=>p.map(v=>v.id===f?{...v,...h}:v)),{success:!0}}catch(m){return console.error("Error updating order:",m),{success:!1,error:m instanceof Error?m.message:"Failed to update order"}}},d=async f=>{s(!0),a(null);try{const{data:h,error:m}=await z.from("orders").select("*").or(`order_number.ilike.%${f}%,customer_email.ilike.%${f}%,customer_name.ilike.%${f}%`).order("created_at",{ascending:!1});if(m)throw m;r(h||[])}catch(h){console.error("Error searching orders:",h),a(h instanceof Error?h.message:"Failed to search orders")}finally{s(!1)}};return b.useEffect(()=>{e.autoFetch!==!1&&l()},[e.status,e.paymentStatus,e.userId]),{orders:t,loading:n,error:i,fetchOrders:l,getOrder:c,updateOrder:u,searchOrders:d}}const i5={pending:"En attente",confirmed:"Confirme",shipped:"Expdie",completed:"Complte",cancelled:"Annule"};function a5({status:e}){return o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${z6(e)}`,children:i5[e]})}const o5={pending:"En attente",succeeded:"Pay",failed:"chou",refunded:"Rembours"};function l5({status:e}){return o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${G6(e)}`,children:o5[e]})}function c5(){const[e,t]=b.useState("all"),[r,n]=b.useState("all"),[s,i]=b.useState(""),{orders:a,loading:l,searchOrders:c,fetchOrders:u}=s5({autoFetch:!0}),d=m=>{m.preventDefault(),s.trim()?c(s):u()},f=a.filter(m=>!(e!=="all"&&m.status!==e||r!=="all"&&m.payment_status!==r)),h=()=>{const m=["Numro","Client","Email","Tier","Montant","Statut","Paiement","Date"],p=f.map(y=>[y.order_number,y.customer_name,y.customer_email,aa(y.tier),fl(y.total_amount),y.status,y.payment_status,ml(y.created_at)]),v=[m.join(","),...p.map(y=>y.map(x=>`"${x}"`).join(","))].join(`
`),w=new Blob([v],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a");g.href=URL.createObjectURL(w),g.download=`obsi-orders-${new Date().toISOString().split("T")[0]}.csv`,g.click()};return o.jsx(pl,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des commandes"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:[f.length," commande(s)"]})]}),o.jsxs("button",{onClick:h,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[o.jsx(Es,{className:"w-4 h-4"}),"Exporter CSV"]})]}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsx("form",{onSubmit:d,className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:m=>i(m.target.value),placeholder:"Rechercher par numro, email ou nom...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent"})]})}),o.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"confirmed",children:"Confirme"}),o.jsx("option",{value:"shipped",children:"Expdie"}),o.jsx("option",{value:"completed",children:"Complte"}),o.jsx("option",{value:"cancelled",children:"Annule"})]}),o.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"Tous les paiements"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"succeeded",children:"Pay"}),o.jsx("option",{value:"failed",children:"chou"}),o.jsx("option",{value:"refunded",children:"Rembours"})]})]})}),l?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):f.length===0?o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:o.jsx("p",{className:"text-gray-600",children:"Aucune commande trouve"})}):o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paiement"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:m.order_number}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.customer_name}),o.jsx("div",{className:"text-sm text-gray-500",children:m.customer_email})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:aa(m.tier)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:fl(m.total_amount)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(a5,{status:m.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(l5,{status:m.payment_status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ml(m.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx(q,{to:`/admin/orders/${m.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Voir dtails"})})]},m.id))})]})})})]})})}function ln({children:e}){const{user:t,loading:r}=Yt();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(Lv,{to:"/login"})}function d0({children:e}){const{user:t,loading:r}=Yt();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?o.jsx(Lv,{to:"/dashboard"}):o.jsx(o.Fragment,{children:e})}function u5(){return o.jsx(mS,{children:o.jsx(Wk,{children:o.jsx(bR,{children:o.jsxs(G_,{children:[o.jsx(He,{path:"/",element:o.jsx(vA,{})}),o.jsx(He,{path:"/login",element:o.jsx(d0,{children:o.jsx(xA,{})})}),o.jsx(He,{path:"/signup",element:o.jsx(d0,{children:o.jsx(wA,{})})}),o.jsx(He,{path:"/onboarding",element:o.jsx(ln,{children:o.jsx(PA,{})})}),o.jsx(He,{path:"/dashboard",element:o.jsx(ln,{children:o.jsx(AA,{})})}),o.jsx(He,{path:"/edit",element:o.jsx(ln,{children:o.jsx(HA,{})})}),o.jsx(He,{path:"/analytics",element:o.jsx(ln,{children:o.jsx(c6,{})})}),o.jsx(He,{path:"/pricing",element:o.jsx(Y6,{})}),o.jsx(He,{path:"/order",element:o.jsx(H6,{})}),o.jsx(He,{path:"/order/confirmation",element:o.jsx(K6,{})}),o.jsx(He,{path:"/activate",element:o.jsx(Q6,{})}),o.jsx(He,{path:"/admin",element:o.jsx(ln,{children:o.jsx(Z6,{})})}),o.jsx(He,{path:"/admin/cards",element:o.jsx(ln,{children:o.jsx(n5,{})})}),o.jsx(He,{path:"/admin/orders",element:o.jsx(ln,{children:o.jsx(c5,{})})}),o.jsx(He,{path:"/:username",element:o.jsx(l6,{})})]})})})})}Nv(document.getElementById("root")).render(o.jsx(b.StrictMode,{children:o.jsx(u5,{})}));
