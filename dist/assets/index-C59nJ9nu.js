function _1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function j1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var k0={exports:{}},zo={},S0={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),k1=Symbol.for("react.portal"),S1=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),P1=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),A1=Symbol.for("react.memo"),O1=Symbol.for("react.lazy"),sf=Symbol.iterator;function I1(e){return e===null||typeof e!="object"?null:(e=sf&&e[sf]||e["@@iterator"],typeof e=="function"?e:null)}var E0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C0=Object.assign,N0={};function xs(e,t,r){this.props=e,this.context=t,this.refs=N0,this.updater=r||E0}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T0(){}T0.prototype=xs.prototype;function Zc(e,t,r){this.props=e,this.context=t,this.refs=N0,this.updater=r||E0}var ed=Zc.prototype=new T0;ed.constructor=Zc;C0(ed,xs.prototype);ed.isPureReactComponent=!0;var af=Array.isArray,P0=Object.prototype.hasOwnProperty,td={current:null},R0={key:!0,ref:!0,__self:!0,__source:!0};function A0(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)P0.call(t,n)&&!R0.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Ui,type:e,key:i,ref:a,props:s,_owner:td.current}}function L1(e,t){return{$$typeof:Ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ui}function D1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var of=/\/+/g;function xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D1(""+e.key):t.toString(36)}function $a(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ui:case k1:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+xl(a,0):n,af(s)?(r="",e!=null&&(r=e.replace(of,"$&/")+"/"),$a(s,t,r,"",function(c){return c})):s!=null&&(rd(s)&&(s=L1(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(of,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",af(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+xl(i,o);a+=$a(i,t,r,u,s)}else if(u=I1(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+xl(i,o++),a+=$a(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ra(e,t,r){if(e==null)return e;var n=[],s=0;return $a(e,n,"","",function(i){return t.call(r,i,s++)}),n}function M1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Fa={transition:null},$1={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Fa,ReactCurrentOwner:td};function O0(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:ra,forEach:function(e,t,r){ra(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ra(e,function(){t++}),t},toArray:function(e){return ra(e,function(t){return t})||[]},only:function(e){if(!rd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=xs;z.Fragment=S1;z.Profiler=C1;z.PureComponent=Zc;z.StrictMode=E1;z.Suspense=R1;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1;z.act=O0;z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C0({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=td.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)P0.call(t,u)&&!R0.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ui,type:e.type,key:s,ref:i,props:n,_owner:a}};z.createContext=function(e){return e={$$typeof:T1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:N1,_context:e},e.Consumer=e};z.createElement=A0;z.createFactory=function(e){var t=A0.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:P1,render:e}};z.isValidElement=rd;z.lazy=function(e){return{$$typeof:O1,_payload:{_status:-1,_result:e},_init:M1}};z.memo=function(e,t){return{$$typeof:A1,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Fa.transition;Fa.transition={};try{e()}finally{Fa.transition=t}};z.unstable_act=O0;z.useCallback=function(e,t){return He.current.useCallback(e,t)};z.useContext=function(e){return He.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return He.current.useDeferredValue(e)};z.useEffect=function(e,t){return He.current.useEffect(e,t)};z.useId=function(){return He.current.useId()};z.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};z.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return He.current.useMemo(e,t)};z.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};z.useRef=function(e){return He.current.useRef(e)};z.useState=function(e){return He.current.useState(e)};z.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};z.useTransition=function(){return He.current.useTransition()};z.version="18.3.1";S0.exports=z;var b=S0.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=b,B1=Symbol.for("react.element"),V1=Symbol.for("react.fragment"),U1=Object.prototype.hasOwnProperty,z1=F1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W1={key:!0,ref:!0,__self:!0,__source:!0};function I0(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)U1.call(t,n)&&!W1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:B1,type:e,key:i,ref:a,props:s,_owner:z1.current}}zo.Fragment=V1;zo.jsx=I0;zo.jsxs=I0;k0.exports=zo;var l=k0.exports,L0={exports:{}},ht={},D0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,D){var $=P.length;P.push(D);e:for(;0<$;){var F=$-1>>>1,U=P[F];if(0<s(U,D))P[F]=D,P[$]=U,$=F;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var D=P[0],$=P.pop();if($!==D){P[0]=$;e:for(var F=0,U=P.length,X=U>>>1;F<X;){var Ne=2*(F+1)-1,nt=P[Ne],pt=Ne+1,Xt=P[pt];if(0>s(nt,$))pt<U&&0>s(Xt,nt)?(P[F]=Xt,P[pt]=$,F=pt):(P[F]=nt,P[Ne]=$,F=Ne);else if(pt<U&&0>s(Xt,$))P[F]=Xt,P[pt]=$,F=pt;else break e}}return D}function s(P,D){var $=P.sortIndex-D.sortIndex;return $!==0?$:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=P)n(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(c)}}function _(P){if(x=!1,p(P),!g)if(r(u)!==null)g=!0,Je(j);else{var D=r(c);D!==null&&W(_,D.startTime-P)}}function j(P,D){g=!1,x&&(x=!1,y(E),E=-1),m=!0;var $=h;try{for(p(D),f=r(u);f!==null&&(!(f.expirationTime>D)||P&&!M());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var U=F(f.expirationTime<=D);D=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(u)&&n(u),p(D)}else n(u);f=r(u)}if(f!==null)var X=!0;else{var Ne=r(c);Ne!==null&&W(_,Ne.startTime-D),X=!1}return X}finally{f=null,h=$,m=!1}}var k=!1,S=null,E=-1,C=5,R=-1;function M(){return!(e.unstable_now()-R<C)}function re(){if(S!==null){var P=e.unstable_now();R=P;var D=!0;try{D=S(!0,P)}finally{D?q():(k=!1,S=null)}}else k=!1}var q;if(typeof v=="function")q=function(){v(re)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,rt=Ke.port2;Ke.port1.onmessage=re,q=function(){rt.postMessage(null)}}else q=function(){w(re,0)};function Je(P){S=P,k||(k=!0,q())}function W(P,D){E=w(function(){P(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Je(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var $=h;h=D;try{return P()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=h;h=P;try{return D()}finally{h=$}},e.unstable_scheduleCallback=function(P,D,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=$+U,P={id:d++,callback:D,priorityLevel:P,startTime:$,expirationTime:U,sortIndex:-1},$>F?(P.sortIndex=$,t(c,P),r(u)===null&&P===r(c)&&(x?(y(E),E=-1):x=!0,W(_,$-F))):(P.sortIndex=U,t(u,P),g||m||(g=!0,Je(j))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var D=h;return function(){var $=h;h=D;try{return P.apply(this,arguments)}finally{h=$}}}})(M0);D0.exports=M0;var G1=D0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=b,dt=G1;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $0=new Set,hi={};function Sn(e,t){ls(e,t),ls(e+"Capture",t)}function ls(e,t){for(hi[e]=t,e=0;e<t.length;e++)$0.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=Object.prototype.hasOwnProperty,q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lf={},uf={};function K1(e){return bu.call(uf,e)?!0:bu.call(lf,e)?!1:q1.test(e)?uf[e]=!0:(lf[e]=!0,!1)}function J1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q1(e,t,r,n){if(t===null||typeof t>"u"||J1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var nd=/[\-:]([a-z])/g;function sd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nd,sd);De[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nd,sd);De[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nd,sd);De[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function id(e,t,r,n){var s=De.hasOwnProperty(t)?De[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q1(t,r,s,n)&&(r=null),n||s===null?K1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gr=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),ad=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),F0=Symbol.for("react.provider"),B0=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),ju=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),ld=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),V0=Symbol.for("react.offscreen"),cf=Symbol.iterator;function Os(e){return e===null||typeof e!="object"?null:(e=cf&&e[cf]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,wl;function zs(e){if(wl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wl=t&&t[1]||""}return`
`+wl+e}var bl=!1;function _l(e,t){if(!e||bl)return"";bl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{bl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zs(e):""}function Y1(e){switch(e.tag){case 5:return zs(e.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return e=_l(e.type,!1),e;case 11:return e=_l(e.type.render,!1),e;case 1:return e=_l(e.type,!0),e;default:return""}}function Su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mn:return"Fragment";case Dn:return"Portal";case _u:return"Profiler";case ad:return"StrictMode";case ju:return"Suspense";case ku:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B0:return(e.displayName||"Context")+".Consumer";case F0:return(e._context.displayName||"Context")+".Provider";case od:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ld:return t=e.displayName||null,t!==null?t:Su(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return Su(e(t))}catch{}}return null}function X1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Su(t);case 8:return t===ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z1(e){var t=U0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sa(e){e._valueTracker||(e._valueTracker=Z1(e))}function z0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=U0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eu(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function df(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$r(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W0(e,t){t=t.checked,t!=null&&id(e,"checked",t,!1)}function Cu(e,t){W0(e,t);var r=$r(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nu(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nu(e,t,r){(t!=="number"||io(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ws=Array.isArray;function Zn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$r(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ff(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Ws(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$r(r)}}function G0(e,t){var r=$r(t.value),n=$r(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ia,q0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ia=ia||document.createElement("div"),ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eb=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){eb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function K0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function J0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=K0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var tb=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ru(e,t){if(t){if(tb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Iu=null,es=null,ts=null;function pf(e){if(e=Gi(e)){if(typeof Iu!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Ko(t),Iu(e.stateNode,e.type,t))}}function Q0(e){es?ts?ts.push(e):ts=[e]:es=e}function Y0(){if(es){var e=es,t=ts;if(ts=es=null,pf(e),t)for(e=0;e<t.length;e++)pf(t[e])}}function X0(e,t){return e(t)}function Z0(){}var jl=!1;function eg(e,t,r){if(jl)return e(t,r);jl=!0;try{return X0(e,t,r)}finally{jl=!1,(es!==null||ts!==null)&&(Z0(),Y0())}}function mi(e,t){var r=e.stateNode;if(r===null)return null;var n=Ko(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Lu=!1;if(lr)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Lu=!1}function rb(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Qs=!1,ao=null,oo=!1,Du=null,nb={onError:function(e){Qs=!0,ao=e}};function sb(e,t,r,n,s,i,a,o,u){Qs=!1,ao=null,rb.apply(nb,arguments)}function ib(e,t,r,n,s,i,a,o,u){if(sb.apply(this,arguments),Qs){if(Qs){var c=ao;Qs=!1,ao=null}else throw Error(T(198));oo||(oo=!0,Du=c)}}function En(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gf(e){if(En(e)!==e)throw Error(T(188))}function ab(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return gf(s),e;if(i===n)return gf(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function rg(e){return e=ab(e),e!==null?ng(e):null}function ng(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ng(e);if(t!==null)return t;e=e.sibling}return null}var sg=dt.unstable_scheduleCallback,yf=dt.unstable_cancelCallback,ob=dt.unstable_shouldYield,lb=dt.unstable_requestPaint,ye=dt.unstable_now,ub=dt.unstable_getCurrentPriorityLevel,cd=dt.unstable_ImmediatePriority,ig=dt.unstable_UserBlockingPriority,lo=dt.unstable_NormalPriority,cb=dt.unstable_LowPriority,ag=dt.unstable_IdlePriority,Wo=null,Jt=null;function db(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Wo,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:mb,hb=Math.log,fb=Math.LN2;function mb(e){return e>>>=0,e===0?32:31-(hb(e)/fb|0)|0}var aa=64,oa=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Gs(o):(i&=a,i!==0&&(n=Gs(i)))}else a=r&~s,a!==0?n=Gs(a):i!==0&&(n=Gs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$t(t),s=1<<r,n|=e[r],t&=~s;return n}function pb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-$t(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=pb(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Mu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function og(){var e=aa;return aa<<=1,!(aa&4194240)&&(aa=64),e}function kl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=r}function yb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$t(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function dd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$t(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var H=0;function lg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ug,hd,cg,dg,hg,$u=!1,la=[],Pr=null,Rr=null,Ar=null,pi=new Map,gi=new Map,Sr=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vf(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function Ls(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gi(t),t!==null&&hd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xb(e,t,r,n,s){switch(t){case"focusin":return Pr=Ls(Pr,e,t,r,n,s),!0;case"dragenter":return Rr=Ls(Rr,e,t,r,n,s),!0;case"mouseover":return Ar=Ls(Ar,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return pi.set(i,Ls(pi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,gi.set(i,Ls(gi.get(i)||null,e,t,r,n,s)),!0}return!1}function fg(e){var t=ln(e.target);if(t!==null){var r=En(t);if(r!==null){if(t=r.tag,t===13){if(t=tg(r),t!==null){e.blockedOn=t,hg(e.priority,function(){cg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ou=n,r.target.dispatchEvent(n),Ou=null}else return t=Gi(r),t!==null&&hd(t),e.blockedOn=r,!1;t.shift()}return!0}function xf(e,t,r){Ba(e)&&r.delete(t)}function wb(){$u=!1,Pr!==null&&Ba(Pr)&&(Pr=null),Rr!==null&&Ba(Rr)&&(Rr=null),Ar!==null&&Ba(Ar)&&(Ar=null),pi.forEach(xf),gi.forEach(xf)}function Ds(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,wb)))}function yi(e){function t(s){return Ds(s,e)}if(0<la.length){Ds(la[0],e);for(var r=1;r<la.length;r++){var n=la[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pr!==null&&Ds(Pr,e),Rr!==null&&Ds(Rr,e),Ar!==null&&Ds(Ar,e),pi.forEach(t),gi.forEach(t),r=0;r<Sr.length;r++)n=Sr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)fg(r),r.blockedOn===null&&Sr.shift()}var rs=gr.ReactCurrentBatchConfig,co=!0;function bb(e,t,r,n){var s=H,i=rs.transition;rs.transition=null;try{H=1,fd(e,t,r,n)}finally{H=s,rs.transition=i}}function _b(e,t,r,n){var s=H,i=rs.transition;rs.transition=null;try{H=4,fd(e,t,r,n)}finally{H=s,rs.transition=i}}function fd(e,t,r,n){if(co){var s=Fu(e,t,r,n);if(s===null)Il(e,t,n,ho,r),vf(e,n);else if(xb(s,e,t,r,n))n.stopPropagation();else if(vf(e,n),t&4&&-1<vb.indexOf(e)){for(;s!==null;){var i=Gi(s);if(i!==null&&ug(i),i=Fu(e,t,r,n),i===null&&Il(e,t,n,ho,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Il(e,t,n,null,r)}}var ho=null;function Fu(e,t,r,n){if(ho=null,e=ud(n),e=ln(e),e!==null)if(t=En(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ho=e,null}function mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ub()){case cd:return 1;case ig:return 4;case lo:case cb:return 16;case ag:return 536870912;default:return 16}default:return 16}}var Nr=null,md=null,Va=null;function pg(){if(Va)return Va;var e,t=md,r=t.length,n,s="value"in Nr?Nr.value:Nr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Va=s.slice(e,1<n?1-n:void 0)}function Ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ua(){return!0}function wf(){return!1}function ft(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ua:wf,this.isPropagationStopped=wf,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=ft(ws),Wi=ce({},ws,{view:0,detail:0}),jb=ft(Wi),Sl,El,Ms,Go=ce({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Sl=e.screenX-Ms.screenX,El=e.screenY-Ms.screenY):El=Sl=0,Ms=e),Sl)},movementY:function(e){return"movementY"in e?e.movementY:El}}),bf=ft(Go),kb=ce({},Go,{dataTransfer:0}),Sb=ft(kb),Eb=ce({},Wi,{relatedTarget:0}),Cl=ft(Eb),Cb=ce({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Nb=ft(Cb),Tb=ce({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pb=ft(Tb),Rb=ce({},ws,{data:0}),_f=ft(Rb),Ab={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ib={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ib[e])?!!t[e]:!1}function gd(){return Lb}var Db=ce({},Wi,{key:function(e){if(e.key){var t=Ab[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ob[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gd,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mb=ft(Db),$b=ce({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=ft($b),Fb=ce({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gd}),Bb=ft(Fb),Vb=ce({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ub=ft(Vb),zb=ce({},Go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wb=ft(zb),Gb=[9,13,27,32],yd=lr&&"CompositionEvent"in window,Ys=null;lr&&"documentMode"in document&&(Ys=document.documentMode);var Hb=lr&&"TextEvent"in window&&!Ys,gg=lr&&(!yd||Ys&&8<Ys&&11>=Ys),kf=" ",Sf=!1;function yg(e,t){switch(e){case"keyup":return Gb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function qb(e,t){switch(e){case"compositionend":return vg(t);case"keypress":return t.which!==32?null:(Sf=!0,kf);case"textInput":return e=t.data,e===kf&&Sf?null:e;default:return null}}function Kb(e,t){if($n)return e==="compositionend"||!yd&&yg(e,t)?(e=pg(),Va=md=Nr=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gg&&t.locale!=="ko"?null:t.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jb[e.type]:t==="textarea"}function xg(e,t,r,n){Q0(n),t=fo(t,"onChange"),0<t.length&&(r=new pd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xs=null,vi=null;function Qb(e){Pg(e,0)}function Ho(e){var t=Vn(e);if(z0(t))return e}function Yb(e,t){if(e==="change")return t}var wg=!1;if(lr){var Nl;if(lr){var Tl="oninput"in document;if(!Tl){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),Tl=typeof Cf.oninput=="function"}Nl=Tl}else Nl=!1;wg=Nl&&(!document.documentMode||9<document.documentMode)}function Nf(){Xs&&(Xs.detachEvent("onpropertychange",bg),vi=Xs=null)}function bg(e){if(e.propertyName==="value"&&Ho(vi)){var t=[];xg(t,vi,e,ud(e)),eg(Qb,t)}}function Xb(e,t,r){e==="focusin"?(Nf(),Xs=t,vi=r,Xs.attachEvent("onpropertychange",bg)):e==="focusout"&&Nf()}function Zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ho(vi)}function e_(e,t){if(e==="click")return Ho(t)}function t_(e,t){if(e==="input"||e==="change")return Ho(t)}function r_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:r_;function xi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!bu.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function Tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var r=Tf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tf(r)}}function _g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jg(){for(var e=window,t=io();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=io(e.document)}return t}function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n_(e){var t=jg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_g(r.ownerDocument.documentElement,r)){if(n!==null&&vd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Pf(r,i);var a=Pf(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s_=lr&&"documentMode"in document&&11>=document.documentMode,Fn=null,Bu=null,Zs=null,Vu=!1;function Rf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vu||Fn==null||Fn!==io(n)||(n=Fn,"selectionStart"in n&&vd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zs&&xi(Zs,n)||(Zs=n,n=fo(Bu,"onSelect"),0<n.length&&(t=new pd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fn)))}function ca(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bn={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},Pl={},kg={};lr&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function qo(e){if(Pl[e])return Pl[e];if(!Bn[e])return e;var t=Bn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kg)return Pl[e]=t[r];return e}var Sg=qo("animationend"),Eg=qo("animationiteration"),Cg=qo("animationstart"),Ng=qo("transitionend"),Tg=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Tg.set(e,t),Sn(t,[e])}for(var Rl=0;Rl<Af.length;Rl++){var Al=Af[Rl],i_=Al.toLowerCase(),a_=Al[0].toUpperCase()+Al.slice(1);Vr(i_,"on"+a_)}Vr(Sg,"onAnimationEnd");Vr(Eg,"onAnimationIteration");Vr(Cg,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Ng,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function Of(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ib(n,t,void 0,e),e.currentTarget=null}function Pg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Of(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Of(s,o,c),i=u}}}if(oo)throw e=Du,oo=!1,Du=null,e}function Z(e,t){var r=t[Hu];r===void 0&&(r=t[Hu]=new Set);var n=e+"__bubble";r.has(n)||(Rg(t,e,2,!1),r.add(n))}function Ol(e,t,r){var n=0;t&&(n|=4),Rg(r,e,n,t)}var da="_reactListening"+Math.random().toString(36).slice(2);function wi(e){if(!e[da]){e[da]=!0,$0.forEach(function(r){r!=="selectionchange"&&(o_.has(r)||Ol(r,!1,e),Ol(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[da]||(t[da]=!0,Ol("selectionchange",!1,t))}}function Rg(e,t,r,n){switch(mg(t)){case 1:var s=bb;break;case 4:s=_b;break;default:s=fd}r=s.bind(null,t,r,e),s=void 0,!Lu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Il(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ln(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}eg(function(){var c=i,d=ud(r),f=[];e:{var h=Tg.get(e);if(h!==void 0){var m=pd,g=e;switch(e){case"keypress":if(Ua(r)===0)break e;case"keydown":case"keyup":m=Mb;break;case"focusin":g="focus",m=Cl;break;case"focusout":g="blur",m=Cl;break;case"beforeblur":case"afterblur":m=Cl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Bb;break;case Sg:case Eg:case Cg:m=Nb;break;case Ng:m=Ub;break;case"scroll":m=jb;break;case"wheel":m=Wb;break;case"copy":case"cut":case"paste":m=Pb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jf}var x=(t&4)!==0,w=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var v=c,p;v!==null;){p=v;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,y!==null&&(_=mi(v,y),_!=null&&x.push(bi(v,_,p)))),w)break;v=v.return}0<x.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Ou&&(g=r.relatedTarget||r.fromElement)&&(ln(g)||g[ur]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?ln(g):null,g!==null&&(w=En(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(x=bf,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=jf,_="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?h:Vn(m),p=g==null?h:Vn(g),h=new x(_,v+"leave",m,r,d),h.target=w,h.relatedTarget=p,_=null,ln(d)===c&&(x=new x(y,v+"enter",g,r,d),x.target=p,x.relatedTarget=w,_=x),w=_,m&&g)t:{for(x=m,y=g,v=0,p=x;p;p=Cn(p))v++;for(p=0,_=y;_;_=Cn(_))p++;for(;0<v-p;)x=Cn(x),v--;for(;0<p-v;)y=Cn(y),p--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=Cn(x),y=Cn(y)}x=null}else x=null;m!==null&&If(f,h,m,x,!1),g!==null&&w!==null&&If(f,w,g,x,!0)}}e:{if(h=c?Vn(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Yb;else if(Ef(h))if(wg)j=t_;else{j=Zb;var k=Xb}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=e_);if(j&&(j=j(e,c))){xg(f,j,r,d);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Nu(h,"number",h.value)}switch(k=c?Vn(c):window,e){case"focusin":(Ef(k)||k.contentEditable==="true")&&(Fn=k,Bu=c,Zs=null);break;case"focusout":Zs=Bu=Fn=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Rf(f,r,d);break;case"selectionchange":if(s_)break;case"keydown":case"keyup":Rf(f,r,d)}var S;if(yd)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $n?yg(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(gg&&r.locale!=="ko"&&($n||E!=="onCompositionStart"?E==="onCompositionEnd"&&$n&&(S=pg()):(Nr=d,md="value"in Nr?Nr.value:Nr.textContent,$n=!0)),k=fo(c,E),0<k.length&&(E=new _f(E,e,null,r,d),f.push({event:E,listeners:k}),S?E.data=S:(S=vg(r),S!==null&&(E.data=S)))),(S=Hb?qb(e,r):Kb(e,r))&&(c=fo(c,"onBeforeInput"),0<c.length&&(d=new _f("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=S))}Pg(f,t)})}function bi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mi(e,r),i!=null&&n.unshift(bi(e,i,s)),i=mi(e,t),i!=null&&n.push(bi(e,i,s))),e=e.return}return n}function Cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function If(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=mi(r,i),u!=null&&a.unshift(bi(r,u,o))):s||(u=mi(r,i),u!=null&&a.push(bi(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var l_=/\r\n?/g,u_=/\u0000|\uFFFD/g;function Lf(e){return(typeof e=="string"?e:""+e).replace(l_,`
`).replace(u_,"")}function ha(e,t,r){if(t=Lf(t),Lf(e)!==t&&r)throw Error(T(425))}function mo(){}var Uu=null,zu=null;function Wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,c_=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,d_=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(e){return Df.resolve(null).then(e).catch(h_)}:Gu;function h_(e){setTimeout(function(){throw e})}function Ll(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),yi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);yi(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Ht="__reactFiber$"+bs,_i="__reactProps$"+bs,ur="__reactContainer$"+bs,Hu="__reactEvents$"+bs,f_="__reactListeners$"+bs,m_="__reactHandles$"+bs;function ln(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ur]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mf(e);e!==null;){if(r=e[Ht])return r;e=Mf(e)}return t}e=r,r=e.parentNode}return null}function Gi(e){return e=e[Ht]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Ko(e){return e[_i]||null}var qu=[],Un=-1;function Ur(e){return{current:e}}function ee(e){0>Un||(e.current=qu[Un],qu[Un]=null,Un--)}function Y(e,t){Un++,qu[Un]=e.current,e.current=t}var Fr={},Ve=Ur(Fr),Ze=Ur(!1),xn=Fr;function us(e,t){var r=e.type.contextTypes;if(!r)return Fr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function et(e){return e=e.childContextTypes,e!=null}function po(){ee(Ze),ee(Ve)}function $f(e,t,r){if(Ve.current!==Fr)throw Error(T(168));Y(Ve,t),Y(Ze,r)}function Ag(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,X1(e)||"Unknown",s));return ce({},r,n)}function go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,xn=Ve.current,Y(Ve,e),Y(Ze,Ze.current),!0}function Ff(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=Ag(e,t,xn),n.__reactInternalMemoizedMergedChildContext=e,ee(Ze),ee(Ve),Y(Ve,e)):ee(Ze),Y(Ze,r)}var nr=null,Jo=!1,Dl=!1;function Og(e){nr===null?nr=[e]:nr.push(e)}function p_(e){Jo=!0,Og(e)}function zr(){if(!Dl&&nr!==null){Dl=!0;var e=0,t=H;try{var r=nr;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}nr=null,Jo=!1}catch(s){throw nr!==null&&(nr=nr.slice(e+1)),sg(cd,zr),s}finally{H=t,Dl=!1}}return null}var zn=[],Wn=0,yo=null,vo=0,wt=[],bt=0,wn=null,sr=1,ir="";function en(e,t){zn[Wn++]=vo,zn[Wn++]=yo,yo=e,vo=t}function Ig(e,t,r){wt[bt++]=sr,wt[bt++]=ir,wt[bt++]=wn,wn=e;var n=sr;e=ir;var s=32-$t(n)-1;n&=~(1<<s),r+=1;var i=32-$t(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,sr=1<<32-$t(t)+s|r<<s|n,ir=i+e}else sr=1<<i|r<<s|n,ir=e}function xd(e){e.return!==null&&(en(e,1),Ig(e,1,0))}function wd(e){for(;e===yo;)yo=zn[--Wn],zn[Wn]=null,vo=zn[--Wn],zn[Wn]=null;for(;e===wn;)wn=wt[--bt],wt[bt]=null,ir=wt[--bt],wt[bt]=null,sr=wt[--bt],wt[bt]=null}var ct=null,ut=null,se=!1,Dt=null;function Lg(e,t){var r=_t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wn!==null?{id:sr,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ct=e,ut=null,!0):!1;default:return!1}}function Ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ju(e){if(se){var t=ut;if(t){var r=t;if(!Bf(e,t)){if(Ku(e))throw Error(T(418));t=Or(r.nextSibling);var n=ct;t&&Bf(e,t)?Lg(n,r):(e.flags=e.flags&-4097|2,se=!1,ct=e)}}else{if(Ku(e))throw Error(T(418));e.flags=e.flags&-4097|2,se=!1,ct=e}}}function Vf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function fa(e){if(e!==ct)return!1;if(!se)return Vf(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wu(e.type,e.memoizedProps)),t&&(t=ut)){if(Ku(e))throw Dg(),Error(T(418));for(;t;)Lg(e,t),t=Or(t.nextSibling)}if(Vf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=Or(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?Or(e.stateNode.nextSibling):null;return!0}function Dg(){for(var e=ut;e;)e=Or(e.nextSibling)}function cs(){ut=ct=null,se=!1}function bd(e){Dt===null?Dt=[e]:Dt.push(e)}var g_=gr.ReactCurrentBatchConfig;function $s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function ma(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uf(e){var t=e._init;return t(e._payload)}function Mg(e){function t(y,v){if(e){var p=y.deletions;p===null?(y.deletions=[v],y.flags|=16):p.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Mr(y,v),y.index=0,y.sibling=null,y}function i(y,v,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<v?(y.flags|=2,v):p):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,v,p,_){return v===null||v.tag!==6?(v=zl(p,y.mode,_),v.return=y,v):(v=s(v,p),v.return=y,v)}function u(y,v,p,_){var j=p.type;return j===Mn?d(y,v,p.props.children,_,p.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Uf(j)===v.type)?(_=s(v,p.props),_.ref=$s(y,v,p),_.return=y,_):(_=Ja(p.type,p.key,p.props,null,y.mode,_),_.ref=$s(y,v,p),_.return=y,_)}function c(y,v,p,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==p.containerInfo||v.stateNode.implementation!==p.implementation?(v=Wl(p,y.mode,_),v.return=y,v):(v=s(v,p.children||[]),v.return=y,v)}function d(y,v,p,_,j){return v===null||v.tag!==7?(v=pn(p,y.mode,_,j),v.return=y,v):(v=s(v,p),v.return=y,v)}function f(y,v,p){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zl(""+v,y.mode,p),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case na:return p=Ja(v.type,v.key,v.props,null,y.mode,p),p.ref=$s(y,null,v),p.return=y,p;case Dn:return v=Wl(v,y.mode,p),v.return=y,v;case _r:var _=v._init;return f(y,_(v._payload),p)}if(Ws(v)||Os(v))return v=pn(v,y.mode,p,null),v.return=y,v;ma(y,v)}return null}function h(y,v,p,_){var j=v!==null?v.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:o(y,v,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case na:return p.key===j?u(y,v,p,_):null;case Dn:return p.key===j?c(y,v,p,_):null;case _r:return j=p._init,h(y,v,j(p._payload),_)}if(Ws(p)||Os(p))return j!==null?null:d(y,v,p,_,null);ma(y,p)}return null}function m(y,v,p,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(p)||null,o(v,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case na:return y=y.get(_.key===null?p:_.key)||null,u(v,y,_,j);case Dn:return y=y.get(_.key===null?p:_.key)||null,c(v,y,_,j);case _r:var k=_._init;return m(y,v,p,k(_._payload),j)}if(Ws(_)||Os(_))return y=y.get(p)||null,d(v,y,_,j,null);ma(v,_)}return null}function g(y,v,p,_){for(var j=null,k=null,S=v,E=v=0,C=null;S!==null&&E<p.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var R=h(y,S,p[E],_);if(R===null){S===null&&(S=C);break}e&&S&&R.alternate===null&&t(y,S),v=i(R,v,E),k===null?j=R:k.sibling=R,k=R,S=C}if(E===p.length)return r(y,S),se&&en(y,E),j;if(S===null){for(;E<p.length;E++)S=f(y,p[E],_),S!==null&&(v=i(S,v,E),k===null?j=S:k.sibling=S,k=S);return se&&en(y,E),j}for(S=n(y,S);E<p.length;E++)C=m(S,y,E,p[E],_),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),v=i(C,v,E),k===null?j=C:k.sibling=C,k=C);return e&&S.forEach(function(M){return t(y,M)}),se&&en(y,E),j}function x(y,v,p,_){var j=Os(p);if(typeof j!="function")throw Error(T(150));if(p=j.call(p),p==null)throw Error(T(151));for(var k=j=null,S=v,E=v=0,C=null,R=p.next();S!==null&&!R.done;E++,R=p.next()){S.index>E?(C=S,S=null):C=S.sibling;var M=h(y,S,R.value,_);if(M===null){S===null&&(S=C);break}e&&S&&M.alternate===null&&t(y,S),v=i(M,v,E),k===null?j=M:k.sibling=M,k=M,S=C}if(R.done)return r(y,S),se&&en(y,E),j;if(S===null){for(;!R.done;E++,R=p.next())R=f(y,R.value,_),R!==null&&(v=i(R,v,E),k===null?j=R:k.sibling=R,k=R);return se&&en(y,E),j}for(S=n(y,S);!R.done;E++,R=p.next())R=m(S,y,E,R.value,_),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),v=i(R,v,E),k===null?j=R:k.sibling=R,k=R);return e&&S.forEach(function(re){return t(y,re)}),se&&en(y,E),j}function w(y,v,p,_){if(typeof p=="object"&&p!==null&&p.type===Mn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case na:e:{for(var j=p.key,k=v;k!==null;){if(k.key===j){if(j=p.type,j===Mn){if(k.tag===7){r(y,k.sibling),v=s(k,p.props.children),v.return=y,y=v;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Uf(j)===k.type){r(y,k.sibling),v=s(k,p.props),v.ref=$s(y,k,p),v.return=y,y=v;break e}r(y,k);break}else t(y,k);k=k.sibling}p.type===Mn?(v=pn(p.props.children,y.mode,_,p.key),v.return=y,y=v):(_=Ja(p.type,p.key,p.props,null,y.mode,_),_.ref=$s(y,v,p),_.return=y,y=_)}return a(y);case Dn:e:{for(k=p.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===p.containerInfo&&v.stateNode.implementation===p.implementation){r(y,v.sibling),v=s(v,p.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Wl(p,y.mode,_),v.return=y,y=v}return a(y);case _r:return k=p._init,w(y,v,k(p._payload),_)}if(Ws(p))return g(y,v,p,_);if(Os(p))return x(y,v,p,_);ma(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,p),v.return=y,y=v):(r(y,v),v=zl(p,y.mode,_),v.return=y,y=v),a(y)):r(y,v)}return w}var ds=Mg(!0),$g=Mg(!1),xo=Ur(null),wo=null,Gn=null,_d=null;function jd(){_d=Gn=wo=null}function kd(e){var t=xo.current;ee(xo),e._currentValue=t}function Qu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ns(e,t){wo=e,_d=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(_d!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(wo===null)throw Error(T(308));Gn=e,wo.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var un=null;function Sd(e){un===null?un=[e]:un.push(e)}function Fg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sd(t)):(r.next=s.next,s.next=r),t.interleaved=r,cr(e,n)}function cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jr=!1;function Ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,cr(e,r)}return s=n.interleaved,s===null?(t.next=t,Sd(n)):(t.next=s.next,s.next=t),n.interleaved=t,cr(e,r)}function za(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dd(e,r)}}function zf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bo(e,t,r,n){var s=e.updateQueue;jr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,d=c=u=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,x=o;switch(h=t,m=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=ce({},f,h);break e;case 2:jr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);_n|=a,e.lanes=a,e.memoizedState=f}}function Wf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Hi={},Qt=Ur(Hi),ji=Ur(Hi),ki=Ur(Hi);function cn(e){if(e===Hi)throw Error(T(174));return e}function Cd(e,t){switch(Y(ki,t),Y(ji,e),Y(Qt,Hi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pu(t,e)}ee(Qt),Y(Qt,t)}function hs(){ee(Qt),ee(ji),ee(ki)}function Vg(e){cn(ki.current);var t=cn(Qt.current),r=Pu(t,e.type);t!==r&&(Y(ji,e),Y(Qt,r))}function Nd(e){ji.current===e&&(ee(Qt),ee(ji))}var le=Ur(0);function _o(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function Td(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Wa=gr.ReactCurrentDispatcher,$l=gr.ReactCurrentBatchConfig,bn=0,ue=null,je=null,Se=null,jo=!1,ei=!1,Si=0,y_=0;function Me(){throw Error(T(321))}function Pd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function Rd(e,t,r,n,s,i){if(bn=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wa.current=e===null||e.memoizedState===null?b_:__,e=r(n,s),ei){i=0;do{if(ei=!1,Si=0,25<=i)throw Error(T(301));i+=1,Se=je=null,t.updateQueue=null,Wa.current=j_,e=r(n,s)}while(ei)}if(Wa.current=ko,t=je!==null&&je.next!==null,bn=0,Se=je=ue=null,jo=!1,t)throw Error(T(300));return e}function Ad(){var e=Si!==0;return Si=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ue.memoizedState=Se=e:Se=Se.next=e,Se}function Ct(){if(je===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Se===null?ue.memoizedState:Se.next;if(t!==null)Se=t,je=e;else{if(e===null)throw Error(T(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Se===null?ue.memoizedState=Se=e:Se=Se.next=e}return Se}function Ei(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=Ct(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=je,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((bn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,a=n):u=u.next=f,ue.lanes|=d,_n|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,Vt(n,t.memoizedState)||(Ye=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ue.lanes|=i,_n|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bl(e){var t=Ct(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Vt(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ug(){}function zg(e,t){var r=ue,n=Ct(),s=t(),i=!Vt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ye=!0),n=n.queue,Od(Hg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,Ci(9,Gg.bind(null,r,n,s,t),void 0,null),Ce===null)throw Error(T(349));bn&30||Wg(r,t,s)}return s}function Wg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Gg(e,t,r,n){t.value=r,t.getSnapshot=n,qg(t)&&Kg(e)}function Hg(e,t,r){return r(function(){qg(t)&&Kg(e)})}function qg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function Kg(e){var t=cr(e,1);t!==null&&Ft(t,e,1,-1)}function Gf(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t.queue=e,e=e.dispatch=w_.bind(null,ue,e),[t.memoizedState,e]}function Ci(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jg(){return Ct().memoizedState}function Ga(e,t,r,n){var s=Gt();ue.flags|=e,s.memoizedState=Ci(1|t,r,void 0,n===void 0?null:n)}function Qo(e,t,r,n){var s=Ct();n=n===void 0?null:n;var i=void 0;if(je!==null){var a=je.memoizedState;if(i=a.destroy,n!==null&&Pd(n,a.deps)){s.memoizedState=Ci(t,r,i,n);return}}ue.flags|=e,s.memoizedState=Ci(1|t,r,i,n)}function Hf(e,t){return Ga(8390656,8,e,t)}function Od(e,t){return Qo(2048,8,e,t)}function Qg(e,t){return Qo(4,2,e,t)}function Yg(e,t){return Qo(4,4,e,t)}function Xg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zg(e,t,r){return r=r!=null?r.concat([e]):null,Qo(4,4,Xg.bind(null,t,e),r)}function Id(){}function ey(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ty(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ry(e,t,r){return bn&21?(Vt(r,t)||(r=og(),ue.lanes|=r,_n|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=r)}function v_(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=$l.transition;$l.transition={};try{e(!1),t()}finally{H=r,$l.transition=n}}function ny(){return Ct().memoizedState}function x_(e,t,r){var n=Dr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sy(e))iy(t,r);else if(r=Fg(e,t,r,n),r!==null){var s=Ge();Ft(r,e,n,s),ay(r,t,n)}}function w_(e,t,r){var n=Dr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sy(e))iy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Vt(o,a)){var u=t.interleaved;u===null?(s.next=s,Sd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Fg(e,t,s,n),r!==null&&(s=Ge(),Ft(r,e,n,s),ay(r,t,n))}}function sy(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function iy(e,t){ei=jo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ay(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dd(e,r)}}var ko={readContext:Et,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},b_={readContext:Et,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Hf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ga(4194308,4,Xg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ga(4,2,e,t)},useMemo:function(e,t){var r=Gt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Gt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=x_.bind(null,ue,e),[n.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Gf,useDebugValue:Id,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Gf(!1),t=e[0];return e=v_.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ue,s=Gt();if(se){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ce===null)throw Error(T(349));bn&30||Wg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Hf(Hg.bind(null,n,i,e),[e]),n.flags|=2048,Ci(9,Gg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Gt(),t=Ce.identifierPrefix;if(se){var r=ir,n=sr;r=(n&~(1<<32-$t(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Si++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=y_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},__={readContext:Et,useCallback:ey,useContext:Et,useEffect:Od,useImperativeHandle:Zg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:ty,useReducer:Fl,useRef:Jg,useState:function(){return Fl(Ei)},useDebugValue:Id,useDeferredValue:function(e){var t=Ct();return ry(t,je.memoizedState,e)},useTransition:function(){var e=Fl(Ei)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Ug,useSyncExternalStore:zg,useId:ny,unstable_isNewReconciler:!1},j_={readContext:Et,useCallback:ey,useContext:Et,useEffect:Od,useImperativeHandle:Zg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:ty,useReducer:Bl,useRef:Jg,useState:function(){return Bl(Ei)},useDebugValue:Id,useDeferredValue:function(e){var t=Ct();return je===null?t.memoizedState=e:ry(t,je.memoizedState,e)},useTransition:function(){var e=Bl(Ei)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Ug,useSyncExternalStore:zg,useId:ny,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yo={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ge(),s=Dr(e),i=ar(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ir(e,i,s),t!==null&&(Ft(t,e,s,n),za(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ge(),s=Dr(e),i=ar(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ir(e,i,s),t!==null&&(Ft(t,e,s,n),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ge(),n=Dr(e),s=ar(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ir(e,s,n),t!==null&&(Ft(t,e,n,r),za(t,e,n))}};function qf(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!xi(r,n)||!xi(s,i):!0}function oy(e,t,r){var n=!1,s=Fr,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=et(t)?xn:Ve.current,n=t.contextTypes,i=(n=n!=null)?us(e,s):Fr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function Xu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ed(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=et(t)?xn:Ve.current,s.context=us(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yo.enqueueReplaceState(s,s.state,null),bo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,t){try{var r="",n=t;do r+=Y1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Vl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var k_=typeof WeakMap=="function"?WeakMap:Map;function ly(e,t,r){r=ar(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eo||(Eo=!0,uc=n),Zu(e,t)},r}function uy(e,t,r){r=ar(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Zu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zu(e,t),typeof n!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Jf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new k_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=$_.bind(null,e,t,r),t.then(e,e))}function Qf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ar(-1,1),t.tag=2,Ir(r,t,1))),r.lanes|=1),e)}var S_=gr.ReactCurrentOwner,Ye=!1;function Ue(e,t,r,n){t.child=e===null?$g(t,null,r,n):ds(t,e.child,r,n)}function Xf(e,t,r,n,s){r=r.render;var i=t.ref;return ns(t,s),n=Rd(e,t,r,n,i,s),r=Ad(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dr(e,t,s)):(se&&r&&xd(t),t.flags|=1,Ue(e,t,n,s),t.child)}function Zf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ud(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,cy(e,t,i,n,s)):(e=Ja(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:xi,r(a,n)&&e.ref===t.ref)return dr(e,t,s)}return t.flags|=1,e=Mr(i,n),e.ref=t.ref,e.return=t,t.child=e}function cy(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(xi(i,n)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,dr(e,t,s)}return ec(e,t,r,n,s)}function dy(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(qn,it),it|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(qn,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(qn,it),it|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Y(qn,it),it|=n;return Ue(e,t,s,r),t.child}function hy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ec(e,t,r,n,s){var i=et(r)?xn:Ve.current;return i=us(t,i),ns(t,s),r=Rd(e,t,r,n,i,s),n=Ad(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dr(e,t,s)):(se&&n&&xd(t),t.flags|=1,Ue(e,t,r,s),t.child)}function em(e,t,r,n,s){if(et(r)){var i=!0;go(t)}else i=!1;if(ns(t,s),t.stateNode===null)Ha(e,t),oy(t,r,n),Xu(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=et(r)?xn:Ve.current,c=us(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Kf(t,a,n,c),jr=!1;var h=t.memoizedState;a.state=h,bo(t,n,a,s),u=t.memoizedState,o!==n||h!==u||Ze.current||jr?(typeof d=="function"&&(Yu(t,r,d,n),u=t.memoizedState),(o=jr||qf(t,r,o,n,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Bg(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:At(t.type,o),a.props=c,f=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Et(u):(u=et(r)?xn:Ve.current,u=us(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==u)&&Kf(t,a,n,u),jr=!1,h=t.memoizedState,a.state=h,bo(t,n,a,s);var g=t.memoizedState;o!==f||h!==g||Ze.current||jr?(typeof m=="function"&&(Yu(t,r,m,n),g=t.memoizedState),(c=jr||qf(t,r,c,n,h,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return tc(e,t,r,n,i,s)}function tc(e,t,r,n,s,i){hy(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Ff(t,r,!1),dr(e,t,i);n=t.stateNode,S_.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ds(t,e.child,null,i),t.child=ds(t,null,o,i)):Ue(e,t,o,i),t.memoizedState=n.state,s&&Ff(t,r,!0),t.child}function fy(e){var t=e.stateNode;t.pendingContext?$f(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$f(e,t.context,!1),Cd(e,t.containerInfo)}function tm(e,t,r,n,s){return cs(),bd(s),t.flags|=256,Ue(e,t,r,n),t.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function nc(e){return{baseLanes:e,cachePool:null,transitions:null}}function my(e,t,r){var n=t.pendingProps,s=le.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(le,s&1),e===null)return Ju(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=el(a,n,0,null),e=pn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nc(r),t.memoizedState=rc,e):Ld(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return E_(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Mr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Mr(o,i):(i=pn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?nc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=rc,n}return i=e.child,e=i.sibling,n=Mr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ld(e,t){return t=el({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pa(e,t,r,n){return n!==null&&bd(n),ds(t,e.child,null,r),e=Ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function E_(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Vl(Error(T(422))),pa(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=el({mode:"visible",children:n.children},s,0,null),i=pn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ds(t,e.child,null,a),t.child.memoizedState=nc(a),t.memoizedState=rc,i);if(!(t.mode&1))return pa(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(T(419)),n=Vl(i,n,void 0),pa(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ye||o){if(n=Ce,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cr(e,s),Ft(n,e,s,-1))}return Vd(),n=Vl(Error(T(421))),pa(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=F_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ut=Or(s.nextSibling),ct=t,se=!0,Dt=null,e!==null&&(wt[bt++]=sr,wt[bt++]=ir,wt[bt++]=wn,sr=e.id,ir=e.overflow,wn=t),t=Ld(t,n.children),t.flags|=4096,t)}function rm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qu(e.return,t,r)}function Ul(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function py(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ue(e,t,n.children,r),n=le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rm(e,r,t);else if(e.tag===19)rm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_o(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ul(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_o(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ul(t,!0,r,null,i);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function C_(e,t,r){switch(t.tag){case 3:fy(t),cs();break;case 5:Vg(t);break;case 1:et(t.type)&&go(t);break;case 4:Cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Y(xo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(le,le.current&1),t.flags|=128,null):r&t.child.childLanes?my(e,t,r):(Y(le,le.current&1),e=dr(e,t,r),e!==null?e.sibling:null);Y(le,le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return py(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(le,le.current),n)break;return null;case 22:case 23:return t.lanes=0,dy(e,t,r)}return dr(e,t,r)}var gy,sc,yy,vy;gy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sc=function(){};yy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,cn(Qt.current);var i=null;switch(r){case"input":s=Eu(e,s),n=Eu(e,n),i=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),i=[];break;case"textarea":s=Tu(e,s),n=Tu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mo)}Ru(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Z("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};vy=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fs(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function N_(e,t,r){var n=t.pendingProps;switch(wd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return et(t.type)&&po(),$e(t),null;case 3:return n=t.stateNode,hs(),ee(Ze),ee(Ve),Td(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(hc(Dt),Dt=null))),sc(e,t),$e(t),null;case 5:Nd(t);var s=cn(ki.current);if(r=t.type,e!==null&&t.stateNode!=null)yy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return $e(t),null}if(e=cn(Qt.current),fa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ht]=t,n[_i]=i,e=(t.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(s=0;s<Hs.length;s++)Z(Hs[s],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":df(n,i),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Z("invalid",n);break;case"textarea":ff(n,i),Z("invalid",n)}Ru(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ha(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ha(n.textContent,o,e),s=["children",""+o]):hi.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Z("scroll",n)}switch(r){case"input":sa(n),hf(n,i,!0);break;case"textarea":sa(n),mf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ht]=t,e[_i]=n,gy(e,t,!1,!1),t.stateNode=e;e:{switch(a=Au(r,n),r){case"dialog":Z("cancel",e),Z("close",e),s=n;break;case"iframe":case"object":case"embed":Z("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hs.length;s++)Z(Hs[s],e);s=n;break;case"source":Z("error",e),s=n;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=n;break;case"details":Z("toggle",e),s=n;break;case"input":df(e,n),s=Eu(e,n),Z("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),Z("invalid",e);break;case"textarea":ff(e,n),s=Tu(e,n),Z("invalid",e);break;default:s=n}Ru(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?J0(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&q0(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&fi(e,u):typeof u=="number"&&fi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hi.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Z("scroll",e):u!=null&&id(e,i,u,a))}switch(r){case"input":sa(e),hf(e,n,!1);break;case"textarea":sa(e),mf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$r(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Zn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Zn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)vy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=cn(ki.current),cn(Qt.current),fa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ht]=t,(i=n.nodeValue!==r)&&(e=ct,e!==null))switch(e.tag){case 3:ha(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ha(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ht]=t,t.stateNode=n}return $e(t),null;case 13:if(ee(le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&ut!==null&&t.mode&1&&!(t.flags&128))Dg(),cs(),t.flags|=98560,i=!1;else if(i=fa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Ht]=t}else cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else Dt!==null&&(hc(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?ke===0&&(ke=3):Vd())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return hs(),sc(e,t),e===null&&wi(t.stateNode.containerInfo),$e(t),null;case 10:return kd(t.type._context),$e(t),null;case 17:return et(t.type)&&po(),$e(t),null;case 19:if(ee(le),i=t.memoizedState,i===null)return $e(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Fs(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=_o(e),a!==null){for(t.flags|=128,Fs(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>ms&&(t.flags|=128,n=!0,Fs(i,!1),t.lanes=4194304)}else{if(!n)if(e=_o(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!se)return $e(t),null}else 2*ye()-i.renderingStartTime>ms&&r!==1073741824&&(t.flags|=128,n=!0,Fs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,r=le.current,Y(le,n?r&1|2:r&1),t):($e(t),null);case 22:case 23:return Bd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?it&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function T_(e,t){switch(wd(t),t.tag){case 1:return et(t.type)&&po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),ee(Ze),ee(Ve),Td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nd(t),null;case 13:if(ee(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(le),null;case 4:return hs(),null;case 10:return kd(t.type._context),null;case 22:case 23:return Bd(),null;case 24:return null;default:return null}}var ga=!1,Be=!1,P_=typeof WeakSet=="function"?WeakSet:Set,A=null;function Hn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fe(e,t,n)}else r.current=null}function ic(e,t,r){try{r()}catch(n){fe(e,t,n)}}var nm=!1;function R_(e,t){if(Uu=co,e=jg(),vd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===s&&(o=a),h===i&&++d===n&&(u=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(zu={focusedElem:e,selectionRange:r},co=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:At(t.type,x),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){fe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return g=nm,nm=!1,g}function ti(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ic(t,r,i)}s=s.next}while(s!==n)}}function Xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ac(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xy(e){var t=e.alternate;t!==null&&(e.alternate=null,xy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[_i],delete t[Hu],delete t[f_],delete t[m_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wy(e){return e.tag===5||e.tag===3||e.tag===4}function sm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mo));else if(n!==4&&(e=e.child,e!==null))for(oc(e,t,r),e=e.sibling;e!==null;)oc(e,t,r),e=e.sibling}function lc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lc(e,t,r),e=e.sibling;e!==null;)lc(e,t,r),e=e.sibling}var Re=null,It=!1;function vr(e,t,r){for(r=r.child;r!==null;)by(e,t,r),r=r.sibling}function by(e,t,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Wo,r)}catch{}switch(r.tag){case 5:Be||Hn(r,t);case 6:var n=Re,s=It;Re=null,vr(e,t,r),Re=n,It=s,Re!==null&&(It?(e=Re,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Re.removeChild(r.stateNode));break;case 18:Re!==null&&(It?(e=Re,r=r.stateNode,e.nodeType===8?Ll(e.parentNode,r):e.nodeType===1&&Ll(e,r),yi(e)):Ll(Re,r.stateNode));break;case 4:n=Re,s=It,Re=r.stateNode.containerInfo,It=!0,vr(e,t,r),Re=n,It=s;break;case 0:case 11:case 14:case 15:if(!Be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ic(r,t,a),s=s.next}while(s!==n)}vr(e,t,r);break;case 1:if(!Be&&(Hn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){fe(r,t,o)}vr(e,t,r);break;case 21:vr(e,t,r);break;case 22:r.mode&1?(Be=(n=Be)||r.memoizedState!==null,vr(e,t,r),Be=n):vr(e,t,r);break;default:vr(e,t,r)}}function im(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new P_),t.forEach(function(n){var s=B_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Re=o.stateNode,It=!1;break e;case 3:Re=o.stateNode.containerInfo,It=!0;break e;case 4:Re=o.stateNode.containerInfo,It=!0;break e}o=o.return}if(Re===null)throw Error(T(160));by(i,a,s),Re=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){fe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_y(t,e),t=t.sibling}function _y(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Wt(e),n&4){try{ti(3,e,e.return),Xo(3,e)}catch(x){fe(e,e.return,x)}try{ti(5,e,e.return)}catch(x){fe(e,e.return,x)}}break;case 1:Tt(t,e),Wt(e),n&512&&r!==null&&Hn(r,r.return);break;case 5:if(Tt(t,e),Wt(e),n&512&&r!==null&&Hn(r,r.return),e.flags&32){var s=e.stateNode;try{fi(s,"")}catch(x){fe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&W0(s,i),Au(o,a);var c=Au(o,i);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?J0(s,f):d==="dangerouslySetInnerHTML"?q0(s,f):d==="children"?fi(s,f):id(s,d,f,c)}switch(o){case"input":Cu(s,i);break;case"textarea":G0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Zn(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Zn(s,!!i.multiple,i.defaultValue,!0):Zn(s,!!i.multiple,i.multiple?[]:"",!1))}s[_i]=i}catch(x){fe(e,e.return,x)}}break;case 6:if(Tt(t,e),Wt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){fe(e,e.return,x)}}break;case 3:if(Tt(t,e),Wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yi(t.containerInfo)}catch(x){fe(e,e.return,x)}break;case 4:Tt(t,e),Wt(e);break;case 13:Tt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($d=ye())),n&4&&im(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Be=(c=Be)||d,Tt(t,e),Be=c):Tt(t,e),Wt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(f=A=d;A!==null;){switch(h=A,m=h.child,h.tag){case 0:case 11:case 14:case 15:ti(4,h,h.return);break;case 1:Hn(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){fe(n,r,x)}}break;case 5:Hn(h,h.return);break;case 22:if(h.memoizedState!==null){om(f);continue}}m!==null?(m.return=h,A=m):om(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=K0("display",a))}catch(x){fe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){fe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Wt(e),n&4&&im(e);break;case 21:break;default:Tt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wy(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fi(s,""),n.flags&=-33);var i=sm(e);lc(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=sm(e);oc(e,o,a);break;default:throw Error(T(161))}}catch(u){fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A_(e,t,r){A=e,jy(e)}function jy(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ga;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Be;o=ga;var c=Be;if(ga=a,(Be=u)&&!c)for(A=s;A!==null;)a=A,u=a.child,a.tag===22&&a.memoizedState!==null?lm(s):u!==null?(u.return=a,A=u):lm(s);for(;i!==null;)A=i,jy(i),i=i.sibling;A=s,ga=o,Be=c}am(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):am(e)}}function am(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||Xo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Be)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:At(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wf(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wf(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Be||t.flags&512&&ac(t)}catch(h){fe(t,t.return,h)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function om(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function lm(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xo(4,t)}catch(u){fe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){fe(t,s,u)}}var i=t.return;try{ac(t)}catch(u){fe(t,i,u)}break;case 5:var a=t.return;try{ac(t)}catch(u){fe(t,a,u)}}}catch(u){fe(t,t.return,u)}if(t===e){A=null;break}var o=t.sibling;if(o!==null){o.return=t.return,A=o;break}A=t.return}}var O_=Math.ceil,So=gr.ReactCurrentDispatcher,Dd=gr.ReactCurrentOwner,kt=gr.ReactCurrentBatchConfig,G=0,Ce=null,be=null,Le=0,it=0,qn=Ur(0),ke=0,Ni=null,_n=0,Zo=0,Md=0,ri=null,Qe=null,$d=0,ms=1/0,tr=null,Eo=!1,uc=null,Lr=null,ya=!1,Tr=null,Co=0,ni=0,cc=null,qa=-1,Ka=0;function Ge(){return G&6?ye():qa!==-1?qa:qa=ye()}function Dr(e){return e.mode&1?G&2&&Le!==0?Le&-Le:g_.transition!==null?(Ka===0&&(Ka=og()),Ka):(e=H,e!==0||(e=window.event,e=e===void 0?16:mg(e.type)),e):1}function Ft(e,t,r,n){if(50<ni)throw ni=0,cc=null,Error(T(185));zi(e,r,n),(!(G&2)||e!==Ce)&&(e===Ce&&(!(G&2)&&(Zo|=r),ke===4&&Er(e,Le)),tt(e,n),r===1&&G===0&&!(t.mode&1)&&(ms=ye()+500,Jo&&zr()))}function tt(e,t){var r=e.callbackNode;gb(e,t);var n=uo(e,e===Ce?Le:0);if(n===0)r!==null&&yf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&yf(r),t===1)e.tag===0?p_(um.bind(null,e)):Og(um.bind(null,e)),d_(function(){!(G&6)&&zr()}),r=null;else{switch(lg(n)){case 1:r=cd;break;case 4:r=ig;break;case 16:r=lo;break;case 536870912:r=ag;break;default:r=lo}r=Ry(r,ky.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ky(e,t){if(qa=-1,Ka=0,G&6)throw Error(T(327));var r=e.callbackNode;if(ss()&&e.callbackNode!==r)return null;var n=uo(e,e===Ce?Le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=No(e,n);else{t=n;var s=G;G|=2;var i=Ey();(Ce!==e||Le!==t)&&(tr=null,ms=ye()+500,mn(e,t));do try{D_();break}catch(o){Sy(e,o)}while(!0);jd(),So.current=i,G=s,be!==null?t=0:(Ce=null,Le=0,t=ke)}if(t!==0){if(t===2&&(s=Mu(e),s!==0&&(n=s,t=dc(e,s))),t===1)throw r=Ni,mn(e,0),Er(e,n),tt(e,ye()),r;if(t===6)Er(e,n);else{if(s=e.current.alternate,!(n&30)&&!I_(s)&&(t=No(e,n),t===2&&(i=Mu(e),i!==0&&(n=i,t=dc(e,i))),t===1))throw r=Ni,mn(e,0),Er(e,n),tt(e,ye()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:tn(e,Qe,tr);break;case 3:if(Er(e,n),(n&130023424)===n&&(t=$d+500-ye(),10<t)){if(uo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gu(tn.bind(null,e,Qe,tr),t);break}tn(e,Qe,tr);break;case 4:if(Er(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-$t(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*O_(n/1960))-n,10<n){e.timeoutHandle=Gu(tn.bind(null,e,Qe,tr),n);break}tn(e,Qe,tr);break;case 5:tn(e,Qe,tr);break;default:throw Error(T(329))}}}return tt(e,ye()),e.callbackNode===r?ky.bind(null,e):null}function dc(e,t){var r=ri;return e.current.memoizedState.isDehydrated&&(mn(e,t).flags|=256),e=No(e,t),e!==2&&(t=Qe,Qe=r,t!==null&&hc(t)),e}function hc(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function I_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~Md,t&=~Zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$t(t),n=1<<r;e[r]=-1,t&=~n}}function um(e){if(G&6)throw Error(T(327));ss();var t=uo(e,0);if(!(t&1))return tt(e,ye()),null;var r=No(e,t);if(e.tag!==0&&r===2){var n=Mu(e);n!==0&&(t=n,r=dc(e,n))}if(r===1)throw r=Ni,mn(e,0),Er(e,t),tt(e,ye()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tn(e,Qe,tr),tt(e,ye()),null}function Fd(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(ms=ye()+500,Jo&&zr())}}function jn(e){Tr!==null&&Tr.tag===0&&!(G&6)&&ss();var t=G;G|=1;var r=kt.transition,n=H;try{if(kt.transition=null,H=1,e)return e()}finally{H=n,kt.transition=r,G=t,!(G&6)&&zr()}}function Bd(){it=qn.current,ee(qn)}function mn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,c_(r)),be!==null)for(r=be.return;r!==null;){var n=r;switch(wd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&po();break;case 3:hs(),ee(Ze),ee(Ve),Td();break;case 5:Nd(n);break;case 4:hs();break;case 13:ee(le);break;case 19:ee(le);break;case 10:kd(n.type._context);break;case 22:case 23:Bd()}r=r.return}if(Ce=e,be=e=Mr(e.current,null),Le=it=t,ke=0,Ni=null,Md=Zo=_n=0,Qe=ri=null,un!==null){for(t=0;t<un.length;t++)if(r=un[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}un=null}return e}function Sy(e,t){do{var r=be;try{if(jd(),Wa.current=ko,jo){for(var n=ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jo=!1}if(bn=0,Se=je=ue=null,ei=!1,Si=0,Dd.current=null,r===null||r.return===null){ke=1,Ni=t,be=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=Le,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Qf(a);if(m!==null){m.flags&=-257,Yf(m,a,o,i,t),m.mode&1&&Jf(i,c,t),t=m,u=c;var g=t.updateQueue;if(g===null){var x=new Set;x.add(u),t.updateQueue=x}else g.add(u);break e}else{if(!(t&1)){Jf(i,c,t),Vd();break e}u=Error(T(426))}}else if(se&&o.mode&1){var w=Qf(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Yf(w,a,o,i,t),bd(fs(u,o));break e}}i=u=fs(u,o),ke!==4&&(ke=2),ri===null?ri=[i]:ri.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=ly(i,u,t);zf(i,y);break e;case 1:o=u;var v=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Lr===null||!Lr.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=uy(i,o,t);zf(i,_);break e}}i=i.return}while(i!==null)}Ny(r)}catch(j){t=j,be===r&&r!==null&&(be=r=r.return);continue}break}while(!0)}function Ey(){var e=So.current;return So.current=ko,e===null?ko:e}function Vd(){(ke===0||ke===3||ke===2)&&(ke=4),Ce===null||!(_n&268435455)&&!(Zo&268435455)||Er(Ce,Le)}function No(e,t){var r=G;G|=2;var n=Ey();(Ce!==e||Le!==t)&&(tr=null,mn(e,t));do try{L_();break}catch(s){Sy(e,s)}while(!0);if(jd(),G=r,So.current=n,be!==null)throw Error(T(261));return Ce=null,Le=0,ke}function L_(){for(;be!==null;)Cy(be)}function D_(){for(;be!==null&&!ob();)Cy(be)}function Cy(e){var t=Py(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Ny(e):be=t,Dd.current=null}function Ny(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=T_(r,t),r!==null){r.flags&=32767,be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,be=null;return}}else if(r=N_(r,t,it),r!==null){be=r;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);ke===0&&(ke=5)}function tn(e,t,r){var n=H,s=kt.transition;try{kt.transition=null,H=1,M_(e,t,r,n)}finally{kt.transition=s,H=n}return null}function M_(e,t,r,n){do ss();while(Tr!==null);if(G&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(yb(e,i),e===Ce&&(be=Ce=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ya||(ya=!0,Ry(lo,function(){return ss(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var a=H;H=1;var o=G;G|=4,Dd.current=null,R_(e,r),_y(r,e),n_(zu),co=!!Uu,zu=Uu=null,e.current=r,A_(r),lb(),G=o,H=a,kt.transition=i}else e.current=r;if(ya&&(ya=!1,Tr=e,Co=s),i=e.pendingLanes,i===0&&(Lr=null),db(r.stateNode),tt(e,ye()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Eo)throw Eo=!1,e=uc,uc=null,e;return Co&1&&e.tag!==0&&ss(),i=e.pendingLanes,i&1?e===cc?ni++:(ni=0,cc=e):ni=0,zr(),null}function ss(){if(Tr!==null){var e=lg(Co),t=kt.transition,r=H;try{if(kt.transition=null,H=16>e?16:e,Tr===null)var n=!1;else{if(e=Tr,Tr=null,Co=0,G&6)throw Error(T(331));var s=G;for(G|=4,A=e.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(A=c;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:ti(8,d,i)}var f=d.child;if(f!==null)f.return=d,A=f;else for(;A!==null;){d=A;var h=d.sibling,m=d.return;if(xy(d),d===c){A=null;break}if(h!==null){h.return=m,A=h;break}A=m}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ti(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,A=y;break e}A=i.return}}var v=e.current;for(A=v;A!==null;){a=A;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,A=p;else e:for(a=v;A!==null;){if(o=A,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xo(9,o)}}catch(j){fe(o,o.return,j)}if(o===a){A=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,A=_;break e}A=o.return}}if(G=s,zr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Wo,e)}catch{}n=!0}return n}finally{H=r,kt.transition=t}}return!1}function cm(e,t,r){t=fs(r,t),t=ly(e,t,1),e=Ir(e,t,1),t=Ge(),e!==null&&(zi(e,1,t),tt(e,t))}function fe(e,t,r){if(e.tag===3)cm(e,e,r);else for(;t!==null;){if(t.tag===3){cm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lr===null||!Lr.has(n))){e=fs(r,e),e=uy(t,e,1),t=Ir(t,e,1),e=Ge(),t!==null&&(zi(t,1,e),tt(t,e));break}}t=t.return}}function $_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&r,Ce===e&&(Le&r)===r&&(ke===4||ke===3&&(Le&130023424)===Le&&500>ye()-$d?mn(e,0):Md|=r),tt(e,t)}function Ty(e,t){t===0&&(e.mode&1?(t=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):t=1);var r=Ge();e=cr(e,t),e!==null&&(zi(e,t,r),tt(e,r))}function F_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ty(e,r)}function B_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Ty(e,r)}var Py;Py=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Ye=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ye=!1,C_(e,t,r);Ye=!!(e.flags&131072)}else Ye=!1,se&&t.flags&1048576&&Ig(t,vo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ha(e,t),e=t.pendingProps;var s=us(t,Ve.current);ns(t,r),s=Rd(null,t,n,e,s,r);var i=Ad();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(n)?(i=!0,go(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ed(t),s.updater=Yo,t.stateNode=s,s._reactInternals=t,Xu(t,n,e,r),t=tc(null,t,n,!0,i,r)):(t.tag=0,se&&i&&xd(t),Ue(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=U_(n),e=At(n,e),s){case 0:t=ec(null,t,n,e,r);break e;case 1:t=em(null,t,n,e,r);break e;case 11:t=Xf(null,t,n,e,r);break e;case 14:t=Zf(null,t,n,At(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),ec(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),em(e,t,n,s,r);case 3:e:{if(fy(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Bg(e,t),bo(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fs(Error(T(423)),t),t=tm(e,t,n,r,s);break e}else if(n!==s){s=fs(Error(T(424)),t),t=tm(e,t,n,r,s);break e}else for(ut=Or(t.stateNode.containerInfo.firstChild),ct=t,se=!0,Dt=null,r=$g(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cs(),n===s){t=dr(e,t,r);break e}Ue(e,t,n,r)}t=t.child}return t;case 5:return Vg(t),e===null&&Ju(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Wu(n,s)?a=null:i!==null&&Wu(n,i)&&(t.flags|=32),hy(e,t),Ue(e,t,a,r),t.child;case 6:return e===null&&Ju(t),null;case 13:return my(e,t,r);case 4:return Cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ds(t,null,n,r):Ue(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),Xf(e,t,n,s,r);case 7:return Ue(e,t,t.pendingProps,r),t.child;case 8:return Ue(e,t,t.pendingProps.children,r),t.child;case 12:return Ue(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Y(xo,n._currentValue),n._currentValue=a,i!==null)if(Vt(i.value,a)){if(i.children===s.children&&!Ze.current){t=dr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=ar(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Qu(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Qu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ue(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ns(t,r),s=Et(s),n=n(s),t.flags|=1,Ue(e,t,n,r),t.child;case 14:return n=t.type,s=At(n,t.pendingProps),s=At(n.type,s),Zf(e,t,n,s,r);case 15:return cy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),Ha(e,t),t.tag=1,et(n)?(e=!0,go(t)):e=!1,ns(t,r),oy(t,n,s),Xu(t,n,s,r),tc(null,t,n,!0,e,r);case 19:return py(e,t,r);case 22:return dy(e,t,r)}throw Error(T(156,t.tag))};function Ry(e,t){return sg(e,t)}function V_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,r,n){return new V_(e,t,r,n)}function Ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U_(e){if(typeof e=="function")return Ud(e)?1:0;if(e!=null){if(e=e.$$typeof,e===od)return 11;if(e===ld)return 14}return 2}function Mr(e,t){var r=e.alternate;return r===null?(r=_t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ja(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Ud(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Mn:return pn(r.children,s,i,t);case ad:a=8,s|=8;break;case _u:return e=_t(12,r,t,s|2),e.elementType=_u,e.lanes=i,e;case ju:return e=_t(13,r,t,s),e.elementType=ju,e.lanes=i,e;case ku:return e=_t(19,r,t,s),e.elementType=ku,e.lanes=i,e;case V0:return el(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F0:a=10;break e;case B0:a=9;break e;case od:a=11;break e;case ld:a=14;break e;case _r:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=_t(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function pn(e,t,r,n){return e=_t(7,e,n,t),e.lanes=r,e}function el(e,t,r,n){return e=_t(22,e,n,t),e.elementType=V0,e.lanes=r,e.stateNode={isHidden:!1},e}function zl(e,t,r){return e=_t(6,e,null,t),e.lanes=r,e}function Wl(e,t,r){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zd(e,t,r,n,s,i,a,o,u){return e=new z_(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(i),e}function W_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ay(e){if(!e)return Fr;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(et(r))return Ag(e,r,t)}return t}function Oy(e,t,r,n,s,i,a,o,u){return e=zd(r,n,!0,e,s,i,a,o,u),e.context=Ay(null),r=e.current,n=Ge(),s=Dr(r),i=ar(n,s),i.callback=t??null,Ir(r,i,s),e.current.lanes=s,zi(e,s,n),tt(e,n),e}function tl(e,t,r,n){var s=t.current,i=Ge(),a=Dr(s);return r=Ay(r),t.context===null?t.context=r:t.pendingContext=r,t=ar(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ir(s,t,a),e!==null&&(Ft(e,s,a,i),za(e,s,a)),a}function To(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wd(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function G_(){return null}var Iy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gd(e){this._internalRoot=e}rl.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));tl(e,t,null,null)};rl.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){tl(null,e,null,null)}),t[ur]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=dg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sr.length&&t!==0&&t<Sr[r].priority;r++);Sr.splice(r,0,e),r===0&&fg(e)}};function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hm(){}function H_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=To(a);i.call(c)}}var a=Oy(t,n,e,0,null,!1,!1,"",hm);return e._reactRootContainer=a,e[ur]=a.current,wi(e.nodeType===8?e.parentNode:e),jn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=To(u);o.call(c)}}var u=zd(e,0,!1,null,null,!1,!1,"",hm);return e._reactRootContainer=u,e[ur]=u.current,wi(e.nodeType===8?e.parentNode:e),jn(function(){tl(t,u,r,n)}),u}function sl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=To(a);o.call(u)}}tl(t,a,e,s)}else a=H_(r,t,e,s,n);return To(a)}ug=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gs(t.pendingLanes);r!==0&&(dd(t,r|1),tt(t,ye()),!(G&6)&&(ms=ye()+500,zr()))}break;case 13:jn(function(){var n=cr(e,1);if(n!==null){var s=Ge();Ft(n,e,1,s)}}),Wd(e,1)}};hd=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var r=Ge();Ft(t,e,134217728,r)}Wd(e,134217728)}};cg=function(e){if(e.tag===13){var t=Dr(e),r=cr(e,t);if(r!==null){var n=Ge();Ft(r,e,t,n)}Wd(e,t)}};dg=function(){return H};hg=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};Iu=function(e,t,r){switch(t){case"input":if(Cu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ko(n);if(!s)throw Error(T(90));z0(n),Cu(n,s)}}}break;case"textarea":G0(e,r);break;case"select":t=r.value,t!=null&&Zn(e,!!r.multiple,t,!1)}};X0=Fd;Z0=jn;var q_={usingClientEntryPoint:!1,Events:[Gi,Vn,Ko,Q0,Y0,Fd]},Bs={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K_={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rg(e),e===null?null:e.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||G_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!va.isDisabled&&va.supportsFiber)try{Wo=va.inject(K_),Jt=va}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q_;ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(t))throw Error(T(200));return W_(e,t,null,r)};ht.createRoot=function(e,t){if(!Hd(e))throw Error(T(299));var r=!1,n="",s=Iy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zd(e,1,!1,null,null,r,!1,n,s),e[ur]=t.current,wi(e.nodeType===8?e.parentNode:e),new Gd(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=rg(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return jn(e)};ht.hydrate=function(e,t,r){if(!nl(t))throw Error(T(200));return sl(null,e,t,!0,r)};ht.hydrateRoot=function(e,t,r){if(!Hd(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Iy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Oy(t,null,e,1,r??null,s,!1,i,a),e[ur]=t.current,wi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new rl(t)};ht.render=function(e,t,r){if(!nl(t))throw Error(T(200));return sl(null,e,t,!1,r)};ht.unmountComponentAtNode=function(e){if(!nl(e))throw Error(T(40));return e._reactRootContainer?(jn(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};ht.unstable_batchedUpdates=Fd;ht.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!nl(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return sl(e,t,r,!1,n)};ht.version="18.3.1-next-f1338f8080-20240426";function Ly(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ly)}catch(e){console.error(e)}}Ly(),L0.exports=ht;var J_=L0.exports,Dy,fm=J_;Dy=fm.createRoot,fm.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mm="popstate";function Q_(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return fc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ti(s)}return X_(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y_(){return Math.random().toString(36).substring(2,10)}function pm(e,t){return{usr:e.state,key:e.key,idx:t}}function fc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_s(t):t,state:r,key:t&&t.key||n||Y_()}}function Ti({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _s(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function X_(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let w=d(),y=w==null?null:w-c;c=w,u&&u({action:o,location:x.location,delta:y})}function h(w,y){o="PUSH";let v=fc(x.location,w,y);c=d()+1;let p=pm(v,c),_=x.createHref(v);try{a.pushState(p,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&u&&u({action:o,location:x.location,delta:1})}function m(w,y){o="REPLACE";let v=fc(x.location,w,y);c=d();let p=pm(v,c),_=x.createHref(v);a.replaceState(p,"",_),i&&u&&u({action:o,location:x.location,delta:0})}function g(w){return Z_(w)}let x={get action(){return o},get location(){return e(s,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(mm,f),u=w,()=>{s.removeEventListener(mm,f),u=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(w){return a.go(w)}};return x}function Z_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ae(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ti(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function My(e,t,r="/"){return e2(e,t,r,!1)}function e2(e,t,r,n){let s=typeof t=="string"?_s(t):t,i=hr(s.pathname||"/",r);if(i==null)return null;let a=$y(e);t2(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=h2(i);o=c2(a[u],c,n)}return o}function $y(e,t=[],r=[],n="",s=!1){let i=(a,o,u=s,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;ae(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=or([n,d.relativePath]),h=r.concat(d);a.children&&a.children.length>0&&(ae(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$y(a.children,t,h,f,u)),!(a.path==null&&!a.index)&&t.push({path:f,score:l2(f,a.index),routesMeta:h})};return e.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,o);else for(let c of Fy(a.path))i(a,o,!0,c)}),t}function Fy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Fy(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function t2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:u2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var r2=/^:[\w-]+$/,n2=3,s2=2,i2=1,a2=10,o2=-2,gm=e=>e==="*";function l2(e,t){let r=e.split("/"),n=r.length;return r.some(gm)&&(n+=o2),t&&(n+=s2),r.filter(s=>!gm(s)).reduce((s,i)=>s+(r2.test(i)?n2:i===""?i2:a2),n)}function u2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function c2(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Po({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Po({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:or([i,f.pathname]),pathnameBase:y2(or([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=or([i,f.pathnameBase]))}return a}function Po(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=d2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=o[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[h];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function d2(e,t=!1,r=!0){Nt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function h2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var f2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=e=>f2.test(e);function p2(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?_s(e):e,i;if(r)if(m2(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Nt(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=ym(r.substring(1),"/"):i=ym(r,t)}else i=t;return{pathname:i,search:v2(n),hash:x2(s)}}function ym(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gl(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qd(e){let t=g2(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Kd(e,t,r,n=!1){let s;typeof e=="string"?s=_s(e):(s={...e},ae(!s.pathname||!s.pathname.includes("?"),Gl("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),Gl("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),Gl("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let u=p2(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var or=e=>e.join("/").replace(/\/\/+/g,"/"),y2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var By=["POST","PUT","PATCH","DELETE"];new Set(By);var b2=["GET",...By];new Set(b2);var js=b.createContext(null);js.displayName="DataRouter";var il=b.createContext(null);il.displayName="DataRouterState";b.createContext(!1);var Vy=b.createContext({isTransitioning:!1});Vy.displayName="ViewTransition";var _2=b.createContext(new Map);_2.displayName="Fetchers";var j2=b.createContext(null);j2.displayName="Await";var Ut=b.createContext(null);Ut.displayName="Navigation";var qi=b.createContext(null);qi.displayName="Location";var zt=b.createContext({outlet:null,matches:[],isDataRoute:!1});zt.displayName="Route";var Jd=b.createContext(null);Jd.displayName="RouteError";function k2(e,{relative:t}={}){ae(ks(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Ut),{hash:s,pathname:i,search:a}=Ki(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:or([r,i])),n.createHref({pathname:o,search:a,hash:s})}function ks(){return b.useContext(qi)!=null}function Wr(){return ae(ks(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(qi).location}var Uy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zy(e){b.useContext(Ut).static||b.useLayoutEffect(e)}function Gr(){let{isDataRoute:e}=b.useContext(zt);return e?$2():S2()}function S2(){ae(ks(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(js),{basename:t,navigator:r}=b.useContext(Ut),{matches:n}=b.useContext(zt),{pathname:s}=Wr(),i=JSON.stringify(qd(n)),a=b.useRef(!1);return zy(()=>{a.current=!0}),b.useCallback((u,c={})=>{if(Nt(a.current,Uy),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Kd(u,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:or([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}b.createContext(null);function E2(){let{matches:e}=b.useContext(zt),t=e[e.length-1];return t?t.params:{}}function Ki(e,{relative:t}={}){let{matches:r}=b.useContext(zt),{pathname:n}=Wr(),s=JSON.stringify(qd(r));return b.useMemo(()=>Kd(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function C2(e,t){return Wy(e,t)}function Wy(e,t,r,n,s){var v;ae(ks(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Ut),{matches:a}=b.useContext(zt),o=a[a.length-1],u=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let p=f&&f.path||"";Gy(c,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=Wr(),m;if(t){let p=typeof t=="string"?_s(t):t;ae(d==="/"||((v=p.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=h;let g=m.pathname||"/",x=g;if(d!=="/"){let p=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=My(e,{pathname:x});Nt(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Nt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=A2(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:or([d,i.encodeLocation?i.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:or([d,i.encodeLocation?i.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),a,r,n,s);return t&&y?b.createElement(qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function N2(){let e=M2(),t=w2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}var T2=b.createElement(N2,null),P2=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(zt.Provider,{value:this.props.routeContext},b.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R2({routeContext:e,match:t,children:r}){let n=b.useContext(js);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(zt.Provider,{value:e},r)}function A2(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);ae(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,u=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let c=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let m,g=!1,x=null,w=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||T2,o&&(u<0&&h===0?(Gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):u===h&&(g=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),v=()=>{let p;return m?p=x:g?p=w:f.route.Component?p=b.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=d,b.createElement(R2,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:p})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(P2,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:c}):v()},null)}function Qd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O2(e){let t=b.useContext(js);return ae(t,Qd(e)),t}function I2(e){let t=b.useContext(il);return ae(t,Qd(e)),t}function L2(e){let t=b.useContext(zt);return ae(t,Qd(e)),t}function Yd(e){let t=L2(e),r=t.matches[t.matches.length-1];return ae(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function D2(){return Yd("useRouteId")}function M2(){var n;let e=b.useContext(Jd),t=I2("useRouteError"),r=Yd("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function $2(){let{router:e}=O2("useNavigate"),t=Yd("useNavigate"),r=b.useRef(!1);return zy(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{Nt(r.current,Uy),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var vm={};function Gy(e,t,r){!t&&!vm[e]&&(vm[e]=!0,Nt(!1,r))}b.memo(F2);function F2({routes:e,future:t,state:r,unstable_onError:n}){return Wy(e,void 0,r,n,t)}function Hy({to:e,replace:t,state:r,relative:n}){ae(ks(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Ut);Nt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(zt),{pathname:a}=Wr(),o=Gr(),u=Kd(e,qd(i),a,n==="path"),c=JSON.stringify(u);return b.useEffect(()=>{o(JSON.parse(c),{replace:t,state:r,relative:n})},[o,c,n,t,r]),null}function er(e){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B2({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){ae(!ks(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=_s(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,m=b.useMemo(()=>{let g=hr(u,a);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:h},navigationType:n}},[a,u,c,d,f,h,n]);return Nt(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(Ut.Provider,{value:o},b.createElement(qi.Provider,{children:t,value:m}))}function V2({children:e,location:t}){return C2(mc(e),t)}function mc(e,t=[]){let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,mc(n.props.children,i));return}ae(n.type===er,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=mc(n.props.children,i)),r.push(a)}),r}var Qa="get",Ya="application/x-www-form-urlencoded";function al(e){return e!=null&&typeof e.tagName=="string"}function U2(e){return al(e)&&e.tagName.toLowerCase()==="button"}function z2(e){return al(e)&&e.tagName.toLowerCase()==="form"}function W2(e){return al(e)&&e.tagName.toLowerCase()==="input"}function G2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H2(e,t){return e.button===0&&(!t||t==="_self")&&!G2(e)}var xa=null;function q2(){if(xa===null)try{new FormData(document.createElement("form"),0),xa=!1}catch{xa=!0}return xa}var K2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hl(e){return e!=null&&!K2.has(e)?(Nt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ya}"`),null):e}function J2(e,t){let r,n,s,i,a;if(z2(e)){let o=e.getAttribute("action");n=o?hr(o,t):null,r=e.getAttribute("method")||Qa,s=Hl(e.getAttribute("enctype"))||Ya,i=new FormData(e)}else if(U2(e)||W2(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?hr(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Qa,s=Hl(e.getAttribute("formenctype"))||Hl(o.getAttribute("enctype"))||Ya,i=new FormData(o,e),!q2()){let{name:c,type:d,value:f}=e;if(d==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,f)}}else{if(al(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qa,n=null,s=Ya,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q2(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&hr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Y2(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Z2(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await Y2(i,r);return a.links?a.links():[]}return[]}));return nj(n.flat(1).filter(X2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function xm(e,t,r,n,s,i){let a=(u,c)=>r[c]?u.route.id!==r[c].route.id:!0,o=(u,c)=>{var d;return r[c].pathname!==u.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,c)=>a(u,c)||o(u,c)):i==="data"?t.filter((u,c)=>{var f;let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function ej(e,t,{includeHydrateFallback:r}={}){return tj(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function tj(e){return[...new Set(e)]}function rj(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function nj(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(rj(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function qy(){let e=b.useContext(js);return Xd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sj(){let e=b.useContext(il);return Xd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zd=b.createContext(void 0);Zd.displayName="FrameworkContext";function Ky(){let e=b.useContext(Zd);return Xd(e,"You must render this element inside a <HydratedRouter> element"),e}function ij(e,t){let r=b.useContext(Zd),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=y=>{y.forEach(v=>{a(v.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{s(!0)},g=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Vs(o,m),onBlur:Vs(u,g),onMouseEnter:Vs(c,m),onMouseLeave:Vs(d,g),onTouchStart:Vs(f,m)}]:[!1,h,{}]}function Vs(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function aj({page:e,...t}){let{router:r}=qy(),n=b.useMemo(()=>My(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(lj,{page:e,matches:n,...t}):null}function oj(e){let{manifest:t,routeModules:r}=Ky(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return Z2(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function lj({page:e,matches:t,...r}){let n=Wr(),{manifest:s,routeModules:i}=Ky(),{basename:a}=qy(),{loaderData:o,matches:u}=sj(),c=b.useMemo(()=>xm(e,t,u,s,n,"data"),[e,t,u,s,n]),d=b.useMemo(()=>xm(e,t,u,s,n,"assets"),[e,t,u,s,n]),f=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,x=!1;if(t.forEach(y=>{var p;let v=s.routes[y.route.id];!v||!v.hasLoader||(!c.some(_=>_.route.id===y.route.id)&&y.route.id in o&&((p=i[y.route.id])!=null&&p.shouldRevalidate)||v.hasClientLoader?x=!0:g.add(y.route.id))}),g.size===0)return[];let w=Q2(e,a,"data");return x&&g.size>0&&w.searchParams.set("_routes",t.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[a,o,n,s,c,t,e,i]),h=b.useMemo(()=>ej(d,s),[d,s]),m=oj(d);return b.createElement(b.Fragment,null,f.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),m.map(({key:g,link:x})=>b.createElement("link",{key:g,nonce:r.nonce,...x})))}function uj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jy&&(window.__reactRouterVersion="7.9.6")}catch{}function cj({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=Q_({window:r,v5Compat:!0}));let s=n.current,[i,a]=b.useState({action:s.action,location:s.location}),o=b.useCallback(u=>{b.startTransition(()=>a(u))},[a]);return b.useLayoutEffect(()=>s.listen(o),[s,o]),b.createElement(B2,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Qy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:f,...h},m){let{basename:g}=b.useContext(Ut),x=typeof c=="string"&&Qy.test(c),w,y=!1;if(typeof c=="string"&&x&&(w=c,Jy))try{let C=new URL(window.location.href),R=c.startsWith("//")?new URL(C.protocol+c):new URL(c),M=hr(R.pathname,g);R.origin===C.origin&&M!=null?c=M+R.search+R.hash:y=!0}catch{Nt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=k2(c,{relative:s}),[p,_,j]=ij(n,h),k=mj(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:f});function S(C){t&&t(C),C.defaultPrevented||k(C)}let E=b.createElement("a",{...h,...j,href:w||v,onClick:y||i?t:S,ref:uj(m,_),target:u,"data-discover":!x&&r==="render"?"true":void 0});return p&&!x?b.createElement(b.Fragment,null,E,b.createElement(aj,{page:v})):E});K.displayName="Link";var dj=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:u,...c},d){let f=Ki(a,{relative:c.relative}),h=Wr(),m=b.useContext(il),{navigator:g,basename:x}=b.useContext(Ut),w=m!=null&&xj(f)&&o===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,v=h.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(v=v.toLowerCase(),p=p?p.toLowerCase():null,y=y.toLowerCase()),p&&x&&(p=hr(p,x)||p);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=v===y||!s&&v.startsWith(y)&&v.charAt(_)==="/",k=p!=null&&(p===y||!s&&p.startsWith(y)&&p.charAt(y.length)==="/"),S={isActive:j,isPending:k,isTransitioning:w},E=j?t:void 0,C;typeof n=="function"?C=n(S):C=[n,j?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(S):i;return b.createElement(K,{...c,"aria-current":E,className:C,ref:d,style:R,to:a,viewTransition:o},typeof u=="function"?u(S):u)});dj.displayName="NavLink";var hj=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=Qa,action:o,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:f,...h},m)=>{let g=yj(),x=vj(o,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&Qy.test(o),v=p=>{if(u&&u(p),p.defaultPrevented)return;p.preventDefault();let _=p.nativeEvent.submitter,j=(_==null?void 0:_.getAttribute("formmethod"))||a;g(_||p.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:f})};return b.createElement("form",{ref:m,method:w,action:x,onSubmit:n?u:v,...h,"data-discover":!y&&e==="render"?"true":void 0})});hj.displayName="Form";function fj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yy(e){let t=b.useContext(js);return ae(t,fj(e)),t}function mj(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=Gr(),u=Wr(),c=Ki(e,{relative:i});return b.useCallback(d=>{if(H2(d,t)){d.preventDefault();let f=r!==void 0?r:Ti(u)===Ti(c);o(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[u,o,c,r,n,t,e,s,i,a])}var pj=0,gj=()=>`__${String(++pj)}__`;function yj(){let{router:e}=Yy("useSubmit"),{basename:t}=b.useContext(Ut),r=D2();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:u,body:c}=J2(n,t);if(s.navigate===!1){let d=s.fetcherKey||gj();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function vj(e,{relative:t}={}){let{basename:r}=b.useContext(Ut),n=b.useContext(zt);ae(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Ki(e||".",{relative:t})},a=Wr();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(d=>d==="")){o.delete("index"),u.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:or([r,i.pathname])),Ti(i)}function xj(e,{relative:t}={}){let r=b.useContext(Vy);ae(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Yy("useViewTransitionState"),s=Ki(e,{relative:t});if(!r.isTransitioning)return!1;let i=hr(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=hr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Po(s.pathname,a)!=null||Po(s.pathname,i)!=null}var pc=function(e,t){return pc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},pc(e,t)};function Xy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ro=function(){return Ro=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ro.apply(this,arguments)};function Ss(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Zy(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function ev(e,t){return function(r,n){t(r,n,e)}}function tv(e,t,r,n,s,i){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,u=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var x in n)g[x]=x==="access"?{}:n[x];for(var x in n.access)g.access[x]=n.access[x];g.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(y||null))};var w=(0,r[m])(o==="accessor"?{get:d.get,set:d.set}:d[u],g);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=a(w.get))&&(d.get=f),(f=a(w.set))&&(d.set=f),(f=a(w.init))&&s.unshift(f)}else(f=a(w))&&(o==="field"?s.unshift(f):d[u]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function rv(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function nv(e){return typeof e=="symbol"?e:"".concat(e)}function sv(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function iv(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function I(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})}function av(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ol=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function ov(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ol(t,e,r)}function Ao(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function lv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eh(arguments[t]));return e}function uv(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function cv(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ps(e){return this instanceof ps?(this.v=e,this):new ps(e)}function dv(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(m){return function(g){return Promise.resolve(g).then(m,f)}}function o(m,g){n[m]&&(s[m]=function(x){return new Promise(function(w,y){i.push([m,x,w,y])>1||u(m,x)})},g&&(s[m]=g(s[m])))}function u(m,g){try{c(n[m](g))}catch(x){h(i[0][3],x)}}function c(m){m.value instanceof ps?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){u("next",m)}function f(m){u("throw",m)}function h(m,g){m(g),i.shift(),i.length&&u(i[0][0],i[0][1])}}function hv(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:ps(e[s](a)),done:!1}:i?i(a):a}:i}}function fv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ao=="function"?Ao(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(o,u){a=e[i](a),s(o,u,a.done,a.value)})}}function s(i,a,o,u){Promise.resolve(u).then(function(c){i({value:c,done:o})},a)}}function mv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var wj=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},gc=function(e){return gc=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},gc(e)};function pv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=gc(e),n=0;n<r.length;n++)r[n]!=="default"&&ol(t,e,r[n]);return wj(t,e),t}function gv(e){return e&&e.__esModule?e:{default:e}}function yv(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function vv(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function xv(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function wv(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var bj=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function bv(e){function t(i){e.error=e.hasError?new bj(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function _v(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const _j={__extends:Xy,__assign:Ro,__rest:Ss,__decorate:Zy,__param:ev,__esDecorate:tv,__runInitializers:rv,__propKey:nv,__setFunctionName:sv,__metadata:iv,__awaiter:I,__generator:av,__createBinding:ol,__exportStar:ov,__values:Ao,__read:eh,__spread:lv,__spreadArrays:uv,__spreadArray:cv,__await:ps,__asyncGenerator:dv,__asyncDelegator:hv,__asyncValues:fv,__makeTemplateObject:mv,__importStar:pv,__importDefault:gv,__classPrivateFieldGet:yv,__classPrivateFieldSet:vv,__classPrivateFieldIn:xv,__addDisposableResource:wv,__disposeResources:bv,__rewriteRelativeImportExtension:_v},jj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wv,get __assign(){return Ro},__asyncDelegator:hv,__asyncGenerator:dv,__asyncValues:fv,__await:ps,__awaiter:I,__classPrivateFieldGet:yv,__classPrivateFieldIn:xv,__classPrivateFieldSet:vv,__createBinding:ol,__decorate:Zy,__disposeResources:bv,__esDecorate:tv,__exportStar:ov,__extends:Xy,__generator:av,__importDefault:gv,__importStar:pv,__makeTemplateObject:mv,__metadata:iv,__param:ev,__propKey:nv,__read:eh,__rest:Ss,__rewriteRelativeImportExtension:_v,__runInitializers:rv,__setFunctionName:sv,__spread:lv,__spreadArray:cv,__spreadArrays:uv,__values:Ao,default:_j},Symbol.toStringTag,{value:"Module"})),kj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class th extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Sj extends th{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wm extends th{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bm extends th{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yc||(yc={}));class Ej{constructor(t,{headers:r={},customFetch:n,region:s=yc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=kj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:u,body:c,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let x;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(h["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(h["Content-Type"]="application/json",x=JSON.stringify(c)):x=c;let w=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const y=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:x,signal:w}).catch(j=>{throw new Sj(j)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new wm(y);if(!y.ok)throw new bm(y);let p=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield y.json():p==="application/octet-stream"||p==="application/pdf"?_=yield y.blob():p==="text/event-stream"?_=y:p==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof bm||o instanceof wm?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var ze={};const Es=j1(jj);var wa={},ba={},_a={},ja={},ka={},Sa={},_m;function jv(){if(_m)return Sa;_m=1,Object.defineProperty(Sa,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sa.default=e,Sa}var jm;function kv(){if(jm)return ka;jm=1,Object.defineProperty(ka,"__esModule",{value:!0});const t=Es.__importDefault(jv());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,h;let m=null,g=null,x=null,w=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const p=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&_&&_.length>1&&(x=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,w=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const p=await u.text();try{m=JSON.parse(p),Array.isArray(m)&&u.status===404&&(g=[],m=null,w=200,y="OK")}catch{u.status===404&&p===""?(w=204,y="No Content"):m={message:p}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,w=200,y="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:g,count:x,status:w,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var c,d,f,h,m,g;let x="";const w=u==null?void 0:u.cause;if(w){const y=(c=w==null?void 0:w.message)!==null&&c!==void 0?c:"",v=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";x=`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,x+=`

Caused by: ${(h=w==null?void 0:w.name)!==null&&h!==void 0?h:"Error"}: ${y}`,v&&(x+=` (${v})`),w!=null&&w.stack&&(x+=`
${w.stack}`)}else x=(m=u==null?void 0:u.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(g=u==null?void 0:u.name)!==null&&g!==void 0?g:"FetchError"}: ${u==null?void 0:u.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(s,i)}returns(){return this}overrideTypes(){return this}}return ka.default=r,ka}var km;function Sv(){if(km)return ja;km=1,Object.defineProperty(ja,"__esModule",{value:!0});const t=Es.__importDefault(kv());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:o,referencedTable:u=o}={}){const c=u?`${u}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:o=!1,wal:u=!1,format:c="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,a?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ja.default=r,ja}var Sm;function rh(){if(Sm)return _a;Sm=1,Object.defineProperty(_a,"__esModule",{value:!0});const t=Es.__importDefault(Sv()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return _a.default=n,_a}var Em;function Ev(){if(Em)return ba;Em=1,Object.defineProperty(ba,"__esModule",{value:!0});const t=Es.__importDefault(rh());class r{constructor(s,{headers:i={},schema:a,fetch:o}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=o}select(s,i){const{head:a=!1,count:o}=i??{},u=a?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var o;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:o,defaultToNull:u=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ba.default=r,ba}var Cm;function Cj(){if(Cm)return wa;Cm=1,Object.defineProperty(wa,"__esModule",{value:!0});const e=Es,t=e.__importDefault(Ev()),r=e.__importDefault(rh());class n{constructor(i,{headers:a={},schema:o,fetch:u}={}){this.url=i,this.headers=new Headers(a),this.schemaName=o,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:o=!1,get:u=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;o||u?(f=o?"HEAD":"GET",Object.entries(a).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{h.searchParams.append(x,w)})):(f="POST",m=a);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return wa.default=n,wa}Object.defineProperty(ze,"__esModule",{value:!0});var Cv=ze.PostgrestError=Mv=ze.PostgrestBuilder=Lv=ze.PostgrestTransformBuilder=Ov=ze.PostgrestFilterBuilder=Rv=ze.PostgrestQueryBuilder=Tv=ze.PostgrestClient=void 0;const Cs=Es,Nv=Cs.__importDefault(Cj());var Tv=ze.PostgrestClient=Nv.default;const Pv=Cs.__importDefault(Ev());var Rv=ze.PostgrestQueryBuilder=Pv.default;const Av=Cs.__importDefault(rh());var Ov=ze.PostgrestFilterBuilder=Av.default;const Iv=Cs.__importDefault(Sv());var Lv=ze.PostgrestTransformBuilder=Iv.default;const Dv=Cs.__importDefault(kv());var Mv=ze.PostgrestBuilder=Dv.default;const $v=Cs.__importDefault(jv());Cv=ze.PostgrestError=$v.default;var Fv=ze.default={PostgrestClient:Nv.default,PostgrestQueryBuilder:Pv.default,PostgrestFilterBuilder:Av.default,PostgrestTransformBuilder:Iv.default,PostgrestBuilder:Dv.default,PostgrestError:$v.default};const Nj=_1({__proto__:null,get PostgrestBuilder(){return Mv},get PostgrestClient(){return Tv},get PostgrestError(){return Cv},get PostgrestFilterBuilder(){return Ov},get PostgrestQueryBuilder(){return Rv},get PostgrestTransformBuilder(){return Lv},default:Fv},[ze]),{PostgrestClient:Tj,PostgrestQueryBuilder:XR,PostgrestFilterBuilder:ZR,PostgrestTransformBuilder:eA,PostgrestBuilder:tA,PostgrestError:rA}=Fv||Nj;class Pj{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Rj="2.84.0",Aj=`realtime-js/${Rj}`,Bv="1.0.0",Oj="2.0.0",Nm=Bv,vc=1e4,Ij=1e3,Lj=100;var sn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sn||(sn={}));var _e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_e||(_e={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var xc;(function(e){e.websocket="websocket"})(xc||(xc={}));var an;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(an||(an={}));class Dj{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,i;const a=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",u=(n=t.join_ref)!==null&&n!==void 0?n:"",c=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+o.length+a.length+c.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),g=0;m.setUint8(g++,this.KINDS.userBroadcastPush),m.setUint8(g++,u.length),m.setUint8(g++,o.length),m.setUint8(g++,a.length),m.setUint8(g++,c.length),m.setUint8(g++,this.BINARY_ENCODING),Array.from(u,w=>m.setUint8(g++,w.charCodeAt(0))),Array.from(o,w=>m.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(g++,w.charCodeAt(0))),Array.from(c,w=>m.setUint8(g++,w.charCodeAt(0)));var x=new Uint8Array(h.byteLength+d.byteLength);return x.set(new Uint8Array(h),0),x.set(new Uint8Array(d),h.byteLength),x.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,i;const a=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",u=(n=t.join_ref)!==null&&n!==void 0?n:"",c=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+o.length+a.length+c.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(g),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,u.length),x.setUint8(w++,o.length),x.setUint8(w++,a.length),x.setUint8(w++,c.length),x.setUint8(w++,this.JSON_ENCODING),Array.from(u,v=>x.setUint8(w++,v.charCodeAt(0))),Array.from(o,v=>x.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>x.setUint8(w++,v.charCodeAt(0))),Array.from(c,v=>x.setUint8(w++,v.charCodeAt(0)));var y=new Uint8Array(g.byteLength+h.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(h),g.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,u]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(t.slice(u,u+s));u=u+s;const d=n.decode(t.slice(u,u+i));u=u+i;const f=n.decode(t.slice(u,u+a));u=u+a;const h=t.slice(u,t.byteLength),m=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Vv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const Tm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Mj(a,e,t,s),i),{}):{}},Mj=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Uv(i,a):wc(a)},Uv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Vj(t,r)}switch(e){case J.bool:return $j(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Fj(t);case J.json:case J.jsonb:return Bj(t);case J.timestamp:return Uj(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return wc(t);default:return wc(t)}},wc=e=>e,$j=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Fj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Bj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Uv(t,o))}return e},Uj=e=>typeof e=="string"?e.replace(" ","T"):e,zv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ql{constructor(t,r,n={},s=vc){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pm||(Pm={}));class si{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=si.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=si.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=si.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),g=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(o[c]=g),x.length>0&&(u[c]=x)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rm||(Rm={}));var ii;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ii||(ii={}));var rr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rr||(rr={}));class nh{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ql(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new Vv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new si(this),this.broadcastEndpointURL=zv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ii.PRESENCE]&&this.bindings[ii.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(rr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(rr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(rr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,y=[];for(let v=0;v<w;v++){const p=x[v],{filter:{event:_,schema:j,table:k,filter:S}}=p,E=m&&m[v];if(E&&E.event===_&&E.schema===j&&E.table===k&&E.filter===S)y.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=_e.errored,t==null||t(rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(rr.SUBSCRIBED);return}}).receive("error",m=>{this.state=_e.errored,t==null||t(rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===_e.joined&&t===ii.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let u=o.statusText;try{const c=await o.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ql(this,Lt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ql(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Lj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=Lt;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,x,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var g,x,w,y,v,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:w,commit_timestamp:y,type:v,errors:p}=g;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:p}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&nh.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Tm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Tm(t.columns,t.old_record)),r}}const Kl=()=>{},Ea={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zj=[1e3,2e3,5e3,1e4],Wj=1e4,Gj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hj{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vc,this.transport=null,this.heartbeatIntervalMs=Ea.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kl,this.ref=0,this.reconnectTimer=null,this.vsn=Nm,this.logger=Kl,this.conn=null,this.sendBuffer=[],this.serializer=new Dj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xc.websocket}`,this.httpEndpoint=zv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sn.connecting:return an.Connecting;case sn.open:return an.Open;case sn.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new nh(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ij,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ea.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===sn.open||this.conn.readyState===sn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Gj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Aj};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Lt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Vv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ea.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,u,c,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:vc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ea.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Kl,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:Nm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:g=>zj[g-1]||Wj,this.vsn){case Bv:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,x)=>x(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,x)=>x(JSON.parse(g));break;case Oj:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class sh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qj extends sh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bc extends sh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ih=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Kj=()=>Response,_c=e=>{if(Array.isArray(e))return e.map(r=>_c(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=_c(n)}),t},Jj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jl=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Qj=(e,t,r)=>I(void 0,void 0,void 0,function*(){const n=yield Kj();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new qj(Jl(s),i,a))}).catch(s=>{t(new bc(Jl(s),s))}):t(new bc(Jl(e),e))}),Yj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Jj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ji(e,t,r,n,s,i){return I(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,Yj(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Qj(u,o,n))})})}function Pi(e,t,r,n){return I(this,void 0,void 0,function*(){return Ji(e,"GET",t,r,n)})}function Ot(e,t,r,n,s){return I(this,void 0,void 0,function*(){return Ji(e,"POST",t,n,s,r)})}function jc(e,t,r,n,s){return I(this,void 0,void 0,function*(){return Ji(e,"PUT",t,n,s,r)})}function Xj(e,t,r,n){return I(this,void 0,void 0,function*(){return Ji(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ah(e,t,r,n,s){return I(this,void 0,void 0,function*(){return Ji(e,"DELETE",t,n,s,r)})}class Zj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}}var Wv;class ek{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Wv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zj(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}}Wv=Symbol.toStringTag;const tk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rk{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ih(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return I(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Am),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?jc:Ot)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return I(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Am.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield jc(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(oe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return I(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ot(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new sh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}update(t,r,n){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return I(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return I(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ot(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return I(this,void 0,void 0,function*(){try{const s=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(t),u=()=>Pi(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new ek(u,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Pi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:_c(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}exists(t){return I(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Xj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n)&&n instanceof bc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}list(t,r,n){return I(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tk),r),{prefix:t||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}listV2(t,r){return I(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Gv="2.84.0",Hv={"X-Client-Info":`storage-js/${Gv}`};class nk{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hv),r),this.fetch=ih(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Pi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}createBucket(t){return I(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return I(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class sk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hv),r),this.fetch=ih(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Pi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}}const oh={"X-Client-Info":`storage-js/${Gv}`,"Content-Type":"application/json"};class qv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function at(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ql extends qv{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ik extends qv{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Om;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Om||(Om={}));const lh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ak=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Im=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ok=(e,t,r)=>I(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new Ql(Im(a),s,o))}).catch(()=>{const a=s+"",o=i.statusText||`HTTP ${s} error`;t(new Ql(o,s,a))});else{const a=s+"",o=i.statusText||`HTTP ${s} error`;t(new Ql(o,s,a))}}else t(new ik(Im(e),e))}),lk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ak(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function uk(e,t,r,n,s,i){return I(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,lk(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>ok(u,o,n))})})}function ot(e,t,r,n,s){return I(this,void 0,void 0,function*(){return uk(e,"POST",t,n,s,r)})}class ck{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),r),this.fetch=lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}getIndex(t,r){return I(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return I(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}}class dk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),r),this.fetch=lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ot(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ot(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ot(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}}class hk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),r),this.fetch=lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield ot(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}}class fk extends hk{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new mk(this.url,this.headers,t,this.fetch)}}class mk extends ck{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pk extends dk{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gk extends nk{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new rk(this.url,this.headers,t,this.fetch)}get vectors(){return new fk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sk(this.url+"/iceberg",this.headers,this.fetch)}}const yk="2.84.0";let qs="";typeof Deno<"u"?qs="deno":typeof document<"u"?qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qs="react-native":qs="node";const vk={"X-Client-Info":`supabase-js-${qs}/${yk}`},xk={headers:vk},wk={schema:"public"},bk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_k={},jk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kk=()=>Headers,Sk=(e,t,r)=>{const n=jk(r),s=kk();return async(i,a)=>{var o;const u=(o=await t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))}};function Ek(e){return e.endsWith("/")?e:e+"/"}function Ck(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:u,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Nk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ek(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Kv="2.84.0",In=30*1e3,kc=3,Yl=kc*In,Tk="http://localhost:9999",Pk="supabase.auth.token",Rk={"X-Client-Info":`gotrue-js/${Kv}`},Sc="X-Supabase-Api-Version",Jv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ak=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ok=10*60*1e3;class Ri extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ik extends Ri{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Lk(e){return L(e)&&e.name==="AuthApiError"}class on extends Ri{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hr extends Ri{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class st extends Hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dk(e){return L(e)&&e.name==="AuthSessionMissingError"}class Nn extends Hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends Hr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Na extends Hr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mk(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lm extends Hr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ec extends Hr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xl(e){return L(e)&&e.name==="AuthRetryableFetchError"}class Dm extends Hr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cc extends Hr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mm=` 	
\r=`.split(""),$k=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mm.length;t+=1)e[Mm[t].charCodeAt(0)]=-2;for(let t=0;t<Oo.length;t+=1)e[Oo[t].charCodeAt(0)]=t;return e})();function $m(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Oo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Oo[n]),t.queuedBits-=6}}function Qv(e,t,r){const n=$k[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Vk(a,n,r)};for(let a=0;a<e.length;a+=1)Qv(e.charCodeAt(a),s,i);return t.join("")}function Fk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bk(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Fk(n,t)}}function Vk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function is(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Qv(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Uk(e){const t=[];return Bk(e,r=>t.push(r)),new Uint8Array(t)}function dn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>$m(s,r,n)),$m(null,r,n),t.join("")}function zk(e){return Math.round(Date.now()/1e3)+e}function Wk(){return Symbol("auth-callback")}const Pe=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},Yv=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function Gk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Xv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ln=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xr=async(e,t)=>{await e.removeItem(t)};class ll{constructor(){this.promise=new ll.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ll.promiseConstructor=Promise;function Zl(e){const t=e.split(".");if(t.length!==3)throw new Cc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ak.test(t[n]))throw new Cc("JWT not in base64url format");return{header:JSON.parse(Fm(t[0])),payload:JSON.parse(Fm(t[1])),signature:is(t[2]),raw:{header:t[0],payload:t[1]}}}async function qk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Kk(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Jk(e){return("0"+e.toString(16)).substr(-2)}function Qk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Jk).join("")}async function Yk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Xk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Yk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tn(e,t,r=!1){const n=Qk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ln(e,`${t}-code-verifier`,s);const i=await Xk(n);return[i,n===i?"plain":"s256"]}const Zk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eS(e){const t=e.headers.get(Sc);if(!t||!t.match(Zk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(e){if(!nS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sS(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Bm(e){return JSON.parse(JSON.stringify(e))}const rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iS=[502,503,504];async function Vm(e){var t;if(!Hk(e))throw new Ec(rn(e),0);if(iS.includes(e.status))throw new Ec(rn(e),e.status);let r;try{r=await e.json()}catch(i){throw new on(rn(i),i)}let n;const s=eS(e);if(s&&s.getTime()>=Jv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Dm(rn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new st}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Dm(rn(r),e.status,r.weak_password.reasons);throw new Ik(rn(r),e.status||500,n)}const aS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Sc]||(i[Sc]=Jv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await oS(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function oS(e,t,r,n,s,i){const a=aS(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Ec(rn(u),0)}if(o.ok||await Vm(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await Vm(u)}}function Pt(e){var t;let r=null;cS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Um(e){const t=Pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lS(e){return{data:e,error:null}}function uS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Ss(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function zm(e){return e}function cS(e){return e.access_token&&e.refresh_token&&e.expires_in}const tu=["global","local","others"];class dS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Xv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=tu[0]){if(tu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tu.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cr})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ss(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:uS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cr})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zm});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Pn(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cr})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pn(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cr})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pn(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cr})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pn(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pn(t.userId),Pn(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zm});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(L(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}}function Wm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rn={debug:!!(globalThis&&Yv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hS extends Zv{}async function fS(e,t,r){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ex(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pS(e){return parseInt(e,16)}function gS(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function yS(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:u,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=ex(e.address),g=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${m}

${x}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),u&&(y+=`
Request ID: ${u}`),c){let v=`
Resources:`;for(const p of c){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);v+=`
- ${p}`}y+=v}return`${w}
${y}`}class ve extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Io extends ve{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function vS({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(tx(a)){if(i.rp.id!==a)return new ve({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function xS({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tx(n)){if(r.rpId!==n)return new ve({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bS=new wS;function _S(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ss(e,["challenge","user","excludeCredentials"]),i=is(t).buffer,a=Object.assign(Object.assign({},r),{id:is(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];o.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:is(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function jS(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ss(e,["challenge","allowCredentials"]),s=is(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:is(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function kS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:dn(new Uint8Array(e.response.attestationObject)),clientDataJSON:dn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:dn(new Uint8Array(s.authenticatorData)),clientDataJSON:dn(new Uint8Array(s.clientDataJSON)),signature:dn(new Uint8Array(s.signature)),userHandle:s.userHandle?dn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Gm(){var e,t;return!!(Pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ES(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Io("Browser returned unexpected credential type",t)}:{data:null,error:new Io("Empty credential response",t)}}catch(t){return{data:null,error:vS({error:t,options:e})}}}async function CS(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Io("Browser returned unexpected credential type",t)}:{data:null,error:new Io("Empty credential response",t)}}catch(t){return{data:null,error:xS({error:t,options:e})}}}const NS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=Lo(o,a):n[i]=Lo(a)}else n[i]=a}return n}function PS(e,t){return Lo(NS,e,t||{})}function RS(e,t){return Lo(TS,e,t||{})}class AS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const u=s??bS.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=PS(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await ES({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=RS(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await CS(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new on("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ri("rpId is required for WebAuthn authentication")};try{if(!Gm())return{data:null,error:new on("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new on("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ri("rpId is required for WebAuthn registration")};try{if(!Gm())return{data:null,error:new on("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new on("Unexpected error in register",a)}}}}mS();const OS={url:Tk,storageKey:Pk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Hm(e,t,r){return await r()}const An={};class Ai{get jwks(){var t,r;return(r=(t=An[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=An[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},OS),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ai.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ai.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xv(i.fetch),this.lock=i.lock||Hm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Pe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fS:this.lock=Hm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Yv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Wm(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pe()&&(r=Gk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Mk(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?this._returnResult({error:r}):this._returnResult({error:new on("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Tn(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Pt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pt})}else throw new Ca("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Um})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Um})}else throw new Ca("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Nn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,u,c,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:x,wallet:w,statement:y,options:v}=t;let p;if(Pe())if(typeof w=="object")p=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")p=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=w}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await p.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=ex(j[0]);let S=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await p.request({method:"eth_chainId"});S=pS(C)}const E={domain:_.host,address:k,statement:y,uri:_.href,version:"1",chainId:S,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=yS(E),g=await p.request({method:"personal_sign",params:[gS(m),k]})}try{const{data:x,error:w}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Pt});if(w)throw w;if(!x||!x.session||!x.user){const y=new Nn;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(L(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,i,a,o,u,c,d,f,h,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:w,wallet:y,statement:v,options:p}=t;let _;if(Pe())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:w,error:y}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:dn(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Pt});if(y)throw y;if(!w||!w.session||!w.user){const v=new Nn;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(L(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Qr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Pt});if(await xr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Nn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pt}),{data:u,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new Nn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tn(this.storage,this.storageKey));const{error:f}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Ca("You must provide either an email or phone number.")}catch(o){if(L(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Pt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,u=null;this.flowType==="pkce"&&([o,u]=await Tn(this.storage,this.storageKey));const c=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:lS});return!((i=c.data)===null||i===void 0)&&i.url&&Pe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(L(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new st;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(L(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Ca("You must provide either an email or phone number and a type")}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Yl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Qr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=eu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=sS(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new st}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Cr})})}catch(r){if(L(r))return Dk(r)&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new st;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await Tn(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:Cr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(L(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new st;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Zl(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new st;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pe())throw new Na("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Na(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Na("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lm("No code detected.");const{data:v,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new Na("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;u&&(h=parseInt(u));const m=h-d;m*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Lk(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Wk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tn(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Pe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(L(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:u,access_token:c,nonce:d}=t,f=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pt}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Nn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Kk(async s=>(s>0&&await qk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Xl(i)&&Date.now()+a-n<In})}catch(n){if(this._debug(r,"error",n),L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ln(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:eu()}else if(s&&!s.user&&!s.user){const a=await Qr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await xr(this.storage,this.storageKey+"-user"),await Ln(this.storage,this.storageKey,s)):s.user=eu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Yl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Xl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new st;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ll;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new st;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),L(i)){const a={data:null,error:i};return Xl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ln(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Bm(s);await Ln(this.storage,this.storageKey,i)}else{const s=Bm(r);await Ln(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await xr(this.storage,this.storageKey),await xr(this.storage,this.storageKey+"-code-verifier"),await xr(this.storage,this.storageKey+"-user"),this.userStorage&&await xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${In}ms, refresh threshold is ${kc} ticks`),s<=kc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Tn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kS(t.webauthn.credential_response):SS(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:u}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:u}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:_S(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:jS(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zl(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new st})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new st});const a=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new st});const a=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new st})})}catch(t){if(L(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new st})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Ok>s)return n;const{data:i,error:a}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Zl(n);r!=null&&r.allowExpired||tS(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=rS(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Uk(`${o}.${u}`)))throw new Cc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}}Ai.nextInstanceID={};const IS=Ai;class LS extends IS{constructor(t){super(t)}}class DS{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const o=Nk(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:wk,realtime:_k,auth:Object.assign(Object.assign({},bk),{storageKey:u}),global:xk},d=Ck(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Sk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Tj(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ej(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:o,lock:u,debug:c,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LS({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:o,lock:u,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Hj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const MS=(e,t,r)=>new DS(e,t,r);function $S(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$S()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FS="https://zyzoszfbwtryqiwmrkgm.supabase.co",BS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5em9zemZid3RyeXFpd21ya2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODM5OTMsImV4cCI6MjA4NDU1OTk5M30._U2m-HjTsWOGU2fltAczSW0GJFvauCzdMFN8yUC0q7g",Q=MS(FS,BS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),rx=b.createContext(void 0);function VS({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{Q.auth.getSession().then(({data:{session:h}})=>{s(h),r((h==null?void 0:h.user)??null),a(!1)});const{data:{subscription:f}}=Q.auth.onAuthStateChange((h,m)=>{(async()=>(s(m),r((m==null?void 0:m.user)??null)))()});return()=>f.unsubscribe()},[]);const d={user:t,session:n,loading:i,signUp:async(f,h)=>{const{error:m}=await Q.auth.signUp({email:f,password:h});return{error:m}},signIn:async(f,h)=>{const{error:m}=await Q.auth.signInWithPassword({email:f,password:h});return{error:m}},signOut:async()=>{const{error:f}=await Q.auth.signOut();return{error:f}}};return l.jsx(rx.Provider,{value:d,children:e})}function yr(){const e=b.useContext(rx);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const uh=b.createContext({});function Qi(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const ch=typeof window<"u",dh=ch?b.useLayoutEffect:b.useEffect,ul=b.createContext(null);function hh(e,t){e.indexOf(t)===-1&&e.push(t)}function cl(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const fr=(e,t,r)=>r>t?t:r<e?e:r;let fh=()=>{};const mr={},nx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function sx(e){return typeof e=="object"&&e!==null}const ix=e=>/^0[^.\s]+$/u.test(e);function mh(e){let t;return()=>(t===void 0&&(t=e()),t)}const St=e=>e,US=(e,t)=>r=>t(e(r)),Yi=(...e)=>e.reduce(US),gs=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class ph{constructor(){this.subscriptions=[]}add(t){return hh(this.subscriptions,t),()=>cl(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bt=e=>e*1e3,jt=e=>e/1e3;function ax(e,t){return t?e*(1e3/t):0}const zS=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},ox=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,WS=1e-7,GS=12;function HS(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=ox(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>WS&&++o<GS);return a}function Xi(e,t,r,n){if(e===t&&r===n)return St;const s=i=>HS(i,0,1,e,r);return i=>i===0||i===1?i:ox(s(i),t,n)}const lx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ux=e=>t=>1-e(1-t),cx=Xi(.33,1.53,.69,.99),gh=ux(cx),dx=lx(gh),hx=e=>(e*=2)<1?.5*gh(e):.5*(2-Math.pow(2,-10*(e-1))),yh=e=>1-Math.sin(Math.acos(e)),fx=ux(yh),mx=lx(yh),qS=Xi(.42,0,1,1),KS=Xi(0,0,.58,1),px=Xi(.42,0,.58,1),gx=e=>Array.isArray(e)&&typeof e[0]!="number";function yx(e,t){return gx(e)?e[zS(0,e.length,t)]:e}const vx=e=>Array.isArray(e)&&typeof e[0]=="number",JS={linear:St,easeIn:qS,easeInOut:px,easeOut:KS,circIn:yh,circInOut:mx,circOut:fx,backIn:gh,backInOut:dx,backOut:cx,anticipate:hx},QS=e=>typeof e=="string",qm=e=>{if(vx(e)){fh(e.length===4);const[t,r,n,s]=e;return Xi(t,r,n,s)}else if(QS(e))return JS[e];return e},Ta=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YS(e,t){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,f=!1,h=!1)=>{const g=h&&s?r:n;return f&&a.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),r.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const XS=40;function xx(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Ta.reduce((p,_)=>(p[_]=YS(i),p),{}),{setup:o,read:u,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=a,x=()=>{const p=mr.useManualTiming?s.timestamp:performance.now();r=!1,mr.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(p-s.timestamp,XS),1)),s.timestamp=p,s.isProcessing=!0,o.process(s),u.process(s),c.process(s),d.process(s),f.process(s),h.process(s),m.process(s),g.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(x))},w=()=>{r=!0,n=!0,s.isProcessing||e(x)};return{schedule:Ta.reduce((p,_)=>{const j=a[_];return p[_]=(k,S=!1,E=!1)=>(r||w(),j.schedule(k,S,E)),p},{}),cancel:p=>{for(let _=0;_<Ta.length;_++)a[Ta[_]].cancel(p)},state:s,steps:a}}const{schedule:te,cancel:pr,state:Ae,steps:ru}=xx(typeof requestAnimationFrame<"u"?requestAnimationFrame:St,!0);let Xa;function ZS(){Xa=void 0}const Xe={now:()=>(Xa===void 0&&Xe.set(Ae.isProcessing||mr.useManualTiming?Ae.timestamp:performance.now()),Xa),set:e=>{Xa=e,queueMicrotask(ZS)}},wx=e=>t=>typeof t=="string"&&t.startsWith(e),vh=wx("--"),eE=wx("var(--"),xh=e=>eE(e)?tE.test(e.split("/*")[0].trim()):!1,tE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ns={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oi={...Ns,transform:e=>fr(0,1,e)},Pa={...Ns,default:1},ai=e=>Math.round(e*1e5)/1e5,wh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rE(e){return e==null}const nE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bh=(e,t)=>r=>!!(typeof r=="string"&&nE.test(r)&&r.startsWith(e)||t&&!rE(r)&&Object.prototype.hasOwnProperty.call(r,t)),bx=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(wh);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},sE=e=>fr(0,255,e),nu={...Ns,transform:e=>Math.round(sE(e))},hn={test:bh("rgb","red"),parse:bx("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+nu.transform(e)+", "+nu.transform(t)+", "+nu.transform(r)+", "+ai(Oi.transform(n))+")"};function iE(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Nc={test:bh("#"),parse:iE,transform:hn.transform},Zi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),br=Zi("deg"),Yt=Zi("%"),V=Zi("px"),aE=Zi("vh"),oE=Zi("vw"),Km={...Yt,parse:e=>Yt.parse(e)/100,transform:e=>Yt.transform(e*100)},Kn={test:bh("hsl","hue"),parse:bx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Yt.transform(ai(t))+", "+Yt.transform(ai(r))+", "+ai(Oi.transform(n))+")"},xe={test:e=>hn.test(e)||Nc.test(e)||Kn.test(e),parse:e=>hn.test(e)?hn.parse(e):Kn.test(e)?Kn.parse(e):Nc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hn.transform(e):Kn.transform(e),getAnimatableNone:e=>{const t=xe.parse(e);return t.alpha=0,xe.transform(t)}},lE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uE(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(wh))==null?void 0:t.length)||0)+(((r=e.match(lE))==null?void 0:r.length)||0)>0}const _x="number",jx="color",cE="var",dE="var(",Jm="${}",hE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ii(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(hE,u=>(xe.test(u)?(n.color.push(i),s.push(jx),r.push(xe.parse(u))):u.startsWith(dE)?(n.var.push(i),s.push(cE),r.push(u)):(n.number.push(i),s.push(_x),r.push(parseFloat(u))),++i,Jm)).split(Jm);return{values:r,split:o,indexes:n,types:s}}function kx(e){return Ii(e).values}function Sx(e){const{split:t,types:r}=Ii(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===_x?i+=ai(s[a]):o===jx?i+=xe.transform(s[a]):i+=s[a]}return i}}const fE=e=>typeof e=="number"?0:xe.test(e)?xe.getAnimatableNone(e):e;function mE(e){const t=kx(e);return Sx(e)(t.map(fE))}const Br={test:uE,parse:kx,createTransformer:Sx,getAnimatableNone:mE};function su(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function pE({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,u=2*r-o;s=su(u,o,e+1/3),i=su(u,o,e),a=su(u,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function Do(e,t){return r=>r>0?t:e}const ie=(e,t,r)=>e+(t-e)*r,iu=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},gE=[Nc,hn,Kn],yE=e=>gE.find(t=>t.test(e));function Qm(e){const t=yE(e);if(!t)return!1;let r=t.parse(e);return t===Kn&&(r=pE(r)),r}const Ym=(e,t)=>{const r=Qm(e),n=Qm(t);if(!r||!n)return Do(e,t);const s={...r};return i=>(s.red=iu(r.red,n.red,i),s.green=iu(r.green,n.green,i),s.blue=iu(r.blue,n.blue,i),s.alpha=ie(r.alpha,n.alpha,i),hn.transform(s))},Tc=new Set(["none","hidden"]);function vE(e,t){return Tc.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function xE(e,t){return r=>ie(e,t,r)}function _h(e){return typeof e=="number"?xE:typeof e=="string"?xh(e)?Do:xe.test(e)?Ym:_E:Array.isArray(e)?Ex:typeof e=="object"?xe.test(e)?Ym:wE:Do}function Ex(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>_h(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function wE(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=_h(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function bE(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][n[i]],o=e.values[a]??0;r[s]=o,n[i]++}return r}const _E=(e,t)=>{const r=Br.createTransformer(t),n=Ii(e),s=Ii(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Tc.has(e)&&!s.values.length||Tc.has(t)&&!n.values.length?vE(e,t):Yi(Ex(bE(n,s),s.values),r):Do(e,t)};function Cx(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ie(e,t,r):_h(e)(e,t)}const jE=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>te.update(t,r),stop:()=>pr(t),now:()=>Ae.isProcessing?Ae.timestamp:Xe.now()}},Nx=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Mo=2e4;function jh(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Mo;)t+=r,n=e.next(t);return t>=Mo?1/0:t}function Tx(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(jh(n),Mo);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:jt(s)}}const kE=5;function Px(e,t,r){const n=Math.max(t-kE,0);return ax(r-e(n),t-n)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},au=.001;function SE({duration:e=he.duration,bounce:t=he.bounce,velocity:r=he.velocity,mass:n=he.mass}){let s,i,a=1-t;a=fr(he.minDamping,he.maxDamping,a),e=fr(he.minDuration,he.maxDuration,jt(e)),a<1?(s=c=>{const d=c*a,f=d*e,h=d-r,m=Pc(c,a),g=Math.exp(-f);return au-h/m*g},i=c=>{const f=c*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(c,2)*e,g=Math.exp(-f),x=Pc(Math.pow(c,2),a);return(-s(c)+au>0?-1:1)*((h-m)*g)/x}):(s=c=>{const d=Math.exp(-c*e),f=(c-r)*e+1;return-au+d*f},i=c=>{const d=Math.exp(-c*e),f=(r-c)*(e*e);return d*f});const o=5/e,u=CE(s,i,o);if(e=Bt(e),isNaN(u))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const c=Math.pow(u,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:e}}}const EE=12;function CE(e,t,r){let n=r;for(let s=1;s<EE;s++)n=n-e(n)/t(n);return n}function Pc(e,t){return e*Math.sqrt(1-t*t)}const NE=["duration","bounce"],TE=["stiffness","damping","mass"];function Xm(e,t){return t.some(r=>e[r]!==void 0)}function PE(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!Xm(e,TE)&&Xm(e,NE))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*fr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:he.mass,stiffness:s,damping:i}}else{const r=SE(e);t={...t,...r,mass:he.mass},t.isResolvedFromDuration=!0}return t}function Li(e=he.visualDuration,t=he.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:u,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=PE({...r,velocity:-jt(r.velocity||0)}),g=h||0,x=c/(2*Math.sqrt(u*d)),w=a-i,y=jt(Math.sqrt(u/d)),v=Math.abs(w)<5;n||(n=v?he.restSpeed.granular:he.restSpeed.default),s||(s=v?he.restDelta.granular:he.restDelta.default);let p;if(x<1){const j=Pc(y,x);p=k=>{const S=Math.exp(-x*y*k);return a-S*((g+x*y*w)/j*Math.sin(j*k)+w*Math.cos(j*k))}}else if(x===1)p=j=>a-Math.exp(-y*j)*(w+(g+y*w)*j);else{const j=y*Math.sqrt(x*x-1);p=k=>{const S=Math.exp(-x*y*k),E=Math.min(j*k,300);return a-S*((g+x*y*w)*Math.sinh(E)+j*w*Math.cosh(E))/j}}const _={calculatedDuration:m&&f||null,next:j=>{const k=p(j);if(m)o.done=j>=f;else{let S=j===0?g:0;x<1&&(S=j===0?Bt(g):Px(p,j,k));const E=Math.abs(S)<=n,C=Math.abs(a-k)<=s;o.done=E&&C}return o.value=o.done?a:k,o},toString:()=>{const j=Math.min(jh(_),Mo),k=Nx(S=>_.next(j*S).value,j,30);return j+"ms "+k},toTransition:()=>{}};return _}Li.applyToOptions=e=>{const t=Tx(e,100,Li);return e.ease=t.ease,e.duration=Bt(t.duration),e.type="keyframes",e};function Rc({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:u,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||u!==void 0&&E>u,g=E=>o===void 0?u:u===void 0||Math.abs(o-E)<Math.abs(u-E)?o:u;let x=r*t;const w=f+x,y=a===void 0?w:a(w);y!==w&&(x=y-f);const v=E=>-x*Math.exp(-E/n),p=E=>y+v(E),_=E=>{const C=v(E),R=p(E);h.done=Math.abs(C)<=c,h.value=h.done?y:R};let j,k;const S=E=>{m(h.value)&&(j=E,k=Li({keyframes:[h.value,g(h.value)],velocity:Px(p,E,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let C=!1;return!k&&j===void 0&&(C=!0,_(E),S(E)),j!==void 0&&E>=j?k.next(E-j):(!C&&_(E),h)}}}function RE(e,t,r){const n=[],s=r||mr.mix||Cx,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||St:t;o=Yi(u,o)}n.push(o)}return n}function Rx(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(fh(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=RE(t,n,s),u=o.length,c=d=>{if(a&&d<e[0])return t[0];let f=0;if(u>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=gs(e[f],e[f+1],d);return o[f](h)};return r?d=>c(fr(e[0],e[i-1],d)):c}function Ax(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=gs(0,t,n);e.push(ie(r,1,s))}}function Ox(e){const t=[0];return Ax(t,e.length-1),t}function AE(e,t){return e.map(r=>r*t)}function OE(e,t){return e.map(()=>t||px).splice(0,e.length-1)}function oi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=gx(n)?n.map(qm):qm(n),i={done:!1,value:t[0]},a=AE(r&&r.length===t.length?r:Ox(t),e),o=Rx(a,t,{ease:Array.isArray(s)?s:OE(t,s)});return{calculatedDuration:e,next:u=>(i.value=o(u),i.done=u>=e,i)}}const IE=e=>e!==null;function kh(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(IE),o=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const LE={decay:Rc,inertia:Rc,tween:oi,keyframes:oi,spring:Li};function Ix(e){typeof e.type=="string"&&(e.type=LE[e.type])}class Sh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const DE=e=>e/100;class Eh extends Sh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Xe.now()&&this.tick(Xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ix(t);const{type:r=oi,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:o}=t;const u=r||oi;u!==oi&&typeof o[0]!="number"&&(this.mixKeyframes=Yi(DE,Cx(o[0],o[1])),o=[0,100]);const c=u({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=jh(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let p=this.currentTime,_=n;if(f){const E=Math.min(this.currentTime,s)/o;let C=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/o)):h==="mirror"&&(_=a)),p=fr(0,1,R)*o}const j=v?{done:!1,value:d[0]}:_.next(p);i&&(j.value=i(j.value));let{done:k}=j;!v&&u!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return S&&g!==Rc&&(j.value=kh(d,this.options,w,this.speed)),x&&x(j.value),S&&this.finish(),j}then(t,r){return this.finished.then(t,r)}get duration(){return jt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+jt(t)}get time(){return jt(this.currentTime)}set time(t){var r;t=Bt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xe.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=jt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=jE,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function ME(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fn=e=>e*180/Math.PI,Ac=e=>{const t=fn(Math.atan2(e[1],e[0]));return Oc(t)},$E={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ac,rotateZ:Ac,skewX:e=>fn(Math.atan(e[1])),skewY:e=>fn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Oc=e=>(e=e%360,e<0&&(e+=360),e),Zm=Ac,ep=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),FE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ep,scaleY:tp,scale:e=>(ep(e)+tp(e))/2,rotateX:e=>Oc(fn(Math.atan2(e[6],e[5]))),rotateY:e=>Oc(fn(Math.atan2(-e[2],e[0]))),rotateZ:Zm,rotate:Zm,skewX:e=>fn(Math.atan(e[4])),skewY:e=>fn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ic(e){return e.includes("scale")?1:0}function Lc(e,t){if(!e||e==="none")return Ic(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=FE,s=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=$E,s=o}if(!s)return Ic(t);const i=n[t],a=s[1].split(",").map(VE);return typeof i=="function"?i(a):a[i]}const BE=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Lc(r,t)};function VE(e){return parseFloat(e.trim())}const Ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ps=new Set(Ts),rp=e=>e===Ns||e===V,UE=new Set(["x","y","z"]),zE=Ts.filter(e=>!UE.has(e));function WE(e){const t=[];return zE.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const gn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Lc(t,"x"),y:(e,{transform:t})=>Lc(t,"y")};gn.translateX=gn.x;gn.translateY=gn.y;const yn=new Set;let Dc=!1,Mc=!1,$c=!1;function Lx(){if(Mc){const e=Array.from(yn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=WE(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))==null||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Mc=!1,Dc=!1,yn.forEach(e=>e.complete($c)),yn.clear()}function Dx(){yn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mc=!0)})}function GE(){$c=!0,Dx(),Lx(),$c=!1}class Ch{constructor(t,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(yn.add(this),Dc||(Dc=!0,te.read(Dx),te.resolveKeyframes(Lx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}ME(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),yn.delete(this)}cancel(){this.state==="scheduled"&&(yn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HE=e=>e.startsWith("--");function qE(e,t,r){HE(t)?e.style.setProperty(t,r):e.style[t]=r}const KE=mh(()=>window.ScrollTimeline!==void 0),JE={};function QE(e,t){const r=mh(e);return()=>JE[t]??r()}const Mx=QE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ks=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,np={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ks([0,.65,.55,1]),circOut:Ks([.55,0,1,.45]),backIn:Ks([.31,.01,.66,-.59]),backOut:Ks([.33,1.53,.69,.99])};function $x(e,t){if(e)return typeof e=="function"?Mx()?Nx(e,t):"ease-out":vx(e)?Ks(e):Array.isArray(e)?e.map(r=>$x(r,t)||np.easeOut):np[e]}function YE(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:u}={},c=void 0){const d={[t]:r};u&&(d.offset=u);const f=$x(o,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function Nh(e){return typeof e=="function"&&"applyToOptions"in e}function XE({type:e,...t}){return Nh(e)&&Mx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ZE extends Sh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,fh(typeof t.type!="string");const c=XE(t);this.animation=YE(r,n,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=kh(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):qE(r,n,d),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return jt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+jt(t)}get time(){return jt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Bt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KE()?(this.animation.timeline=t,St):r(this)}}const Fx={anticipate:hx,backInOut:dx,circInOut:mx};function eC(e){return e in Fx}function tC(e){typeof e.ease=="string"&&eC(e.ease)&&(e.ease=Fx[e.ease])}const sp=10;class rC extends ZE{constructor(t){tC(t),Ix(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Eh({...a,autoplay:!1}),u=Bt(this.finishedTime??this.time);r.setWithVelocity(o.sample(u-sp).value,o.sample(u).value,sp),o.stop()}}const ip=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Br.test(e)||e==="0")&&!e.startsWith("url("));function nC(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sC(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=ip(s,t),o=ip(i,t);return!a||!o?!1:nC(e)||(r==="spring"||Nh(r))&&n}function Fc(e){e.duration=0,e.type="keyframes"}const iC=new Set(["opacity","clipPath","filter","transform"]),aC=mh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oC(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return aC()&&r&&iC.has(r)&&(r!=="transform"||!c)&&!u&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const lC=40;class uC extends Sh{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:u,motionValue:c,element:d,...f}){var g;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Xe.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:u,motionValue:c,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||Ch;this.keyframeResolver=new m(o,(x,w,y)=>this.onKeyframesResolved(x,w,h,!y),u,c,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:u,isHandoff:c,onUpdate:d}=n;this.resolvedAt=Xe.now(),sC(t,i,a,o)||((mr.instantAnimations||!u)&&(d==null||d(kh(t,n,r))),t[0]=t[t.length-1],Fc(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!c&&oC(h)?new rC({...h,element:h.motionValue.owner.current}):new Eh(h);m.finished.then(()=>this.notifyFinished()).catch(St),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),GE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class cC{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,s)=>{n&&n(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return ap(this.animations,"duration")}get iterationDuration(){return ap(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function ap(e,t){let r=0;for(let n=0;n<e.length;n++){const s=e[n][t];s!==null&&s>r&&(r=s)}return r}class dC extends cC{then(t,r){return this.finished.finally(t).then(()=>{})}}const hC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fC(e){const t=hC.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Bx(e,t,r=1){const[n,s]=fC(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return nx(a)?parseFloat(a):a}return xh(s)?Bx(s,t,r+1):s}function Th(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Vx=new Set(["width","height","top","left","right","bottom",...Ts]),mC={test:e=>e==="auto",parse:e=>e},Ux=e=>t=>t.test(e),zx=[Ns,V,Yt,br,oE,aE,mC],op=e=>zx.find(Ux(e));function pC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ix(e):!0}const gC=new Set(["brightness","contrast","saturate","opacity"]);function yC(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(wh)||[];if(!n)return e;const s=r.replace(n,"");let i=gC.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const vC=/\b([a-z-]*)\(.*?\)/gu,Bc={...Br,getAnimatableNone:e=>{const t=e.match(vC);return t?t.map(yC).join(" "):e}},lp={...Ns,transform:Math.round},xC={rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:Pa,scaleX:Pa,scaleY:Pa,scaleZ:Pa,skew:br,skewX:br,skewY:br,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:Oi,originX:Km,originY:Km,originZ:V},Ph={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,backgroundPositionX:V,backgroundPositionY:V,...xC,zIndex:lp,fillOpacity:Oi,strokeOpacity:Oi,numOctaves:lp},wC={...Ph,color:xe,backgroundColor:xe,outlineColor:xe,fill:xe,stroke:xe,borderColor:xe,borderTopColor:xe,borderRightColor:xe,borderBottomColor:xe,borderLeftColor:xe,filter:Bc,WebkitFilter:Bc},Wx=e=>wC[e];function Gx(e,t){let r=Wx(e);return r!==Bc&&(r=Br),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const bC=new Set(["auto","none","0"]);function _C(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!bC.has(i)&&Ii(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Gx(r,s)}class jC extends Ch{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let c=t[u];if(typeof c=="string"&&(c=c.trim(),xh(c))){const d=Bx(c,r.current);d!==void 0&&(t[u]=d),u===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Vx.has(n)||t.length!==2)return;const[s,i]=t,a=op(s),o=op(i);if(a!==o)if(rp(a)&&rp(o))for(let u=0;u<t.length;u++){const c=t[u];typeof c=="string"&&(t[u]=parseFloat(c))}else gn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||pC(t[s]))&&n.push(s);n.length&&_C(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=gn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function Rh(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Hx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function qx(e){return sx(e)&&"offsetHeight"in e}const up=30,kC=e=>!isNaN(parseFloat(e)),li={current:void 0};class SC{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Xe.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Xe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ph);const n=this.events[t].add(r);return t==="change"?()=>{n(),te.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return li.current&&li.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>up)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,up);return ax(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kn(e,t){return new SC(e,t)}const{schedule:Ah}=xx(queueMicrotask,!1),Rt={x:!1,y:!1};function Kx(){return Rt.x||Rt.y}function EC(e){return e==="x"||e==="y"?Rt[e]?null:(Rt[e]=!0,()=>{Rt[e]=!1}):Rt.x||Rt.y?null:(Rt.x=Rt.y=!0,()=>{Rt.x=Rt.y=!1})}function Jx(e,t){const r=Rh(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function cp(e){return!(e.pointerType==="touch"||Kx())}function CC(e,t,r={}){const[n,s,i]=Jx(e,r),a=o=>{if(!cp(o))return;const{target:u}=o,c=t(u,o);if(typeof c!="function"||!u)return;const d=f=>{cp(f)&&(c(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,s)};return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const Qx=(e,t)=>t?e===t?!0:Qx(e,t.parentElement):!1,Oh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,NC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TC(e){return NC.has(e.tagName)||e.tabIndex!==-1}const Za=new WeakSet;function dp(e){return t=>{t.key==="Enter"&&e(t)}}function ou(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PC=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=dp(()=>{if(Za.has(r))return;ou(r,"down");const s=dp(()=>{ou(r,"up")}),i=()=>ou(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function hp(e){return Oh(e)&&!Kx()}function RC(e,t,r={}){const[n,s,i]=Jx(e,r),a=o=>{const u=o.currentTarget;if(!hp(o))return;Za.add(u);const c=t(u,o),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Za.has(u)&&Za.delete(u),hp(m)&&typeof c=="function"&&c(m,{success:g})},f=m=>{d(m,u===window||u===document||r.useGlobalTarget||Qx(u,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),qx(o)&&(o.addEventListener("focus",c=>PC(c,s)),!TC(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Ih(e){return sx(e)&&"ownerSVGElement"in e}function Yx(e){return Ih(e)&&e.tagName==="svg"}function AC(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],i=e[2+r],a=e[3+r],o=Rx(s,i,a);return t?o(n):o}const Ee=e=>!!(e&&e.getVelocity),OC=[...zx,xe,Br],IC=e=>OC.find(Ux(e)),dl=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function fp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function LC(...e){return t=>{let r=!1;const n=e.map(s=>{const i=fp(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():fp(e[s],null)}}}}function DC(...e){return b.useCallback(LC(...e),e)}class MC extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=qx(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $C({children:e,isPresent:t,anchorX:r,root:n}){const s=b.useId(),i=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=b.useContext(dl),u=DC(i,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:h,right:m}=a.current;if(t||!i.current||!c||!d)return;const g=r==="left"?`left: ${h}`:`right: ${m}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");o&&(x.nonce=o);const w=n??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[t]),l.jsx(MC,{isPresent:t,childRef:i,sizeRef:a,children:b.cloneElement(e,{ref:u})})}const FC=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,root:u})=>{const c=Qi(BC),d=b.useId();let f=!0,h=b.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:m=>{c.set(m,!0);for(const g of c.values())if(!g)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return i&&f&&(h={...h}),b.useMemo(()=>{c.forEach((m,g)=>c.set(g,!1))},[r]),b.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(e=l.jsx($C,{isPresent:r,anchorX:o,root:u,children:e})),l.jsx(ul.Provider,{value:h,children:e})};function BC(){return new Map}function Xx(e=!0){const t=b.useContext(ul);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const Ra=e=>e.key||"";function mp(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const $o=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",root:u})=>{const[c,d]=Xx(a),f=b.useMemo(()=>mp(e),[e]),h=a&&!c?[]:f.map(Ra),m=b.useRef(!0),g=b.useRef(f),x=Qi(()=>new Map),[w,y]=b.useState(f),[v,p]=b.useState(f);dh(()=>{m.current=!1,g.current=f;for(let k=0;k<v.length;k++){const S=Ra(v[k]);h.includes(S)?x.delete(S):x.get(S)!==!0&&x.set(S,!1)}},[v,h.length,h.join("-")]);const _=[];if(f!==w){let k=[...f];for(let S=0;S<v.length;S++){const E=v[S],C=Ra(E);h.includes(C)||(k.splice(S,0,E),_.push(E))}return i==="wait"&&_.length&&(k=_),p(mp(k)),y(f),null}const{forceRender:j}=b.useContext(uh);return l.jsx(l.Fragment,{children:v.map(k=>{const S=Ra(k),E=a&&!c?!1:f===v||h.includes(S),C=()=>{if(x.has(S))x.set(S,!0);else return;let R=!0;x.forEach(M=>{M||(R=!1)}),R&&(j==null||j(),p(g.current),a&&(d==null||d()),n&&n())};return l.jsx(FC,{isPresent:E,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:E?void 0:C,anchorX:o,children:k},S)})})},Zx=b.createContext({strict:!1}),pp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ys={};for(const e in pp)ys[e]={isEnabled:t=>pp[e].some(r=>!!t[r])};function VC(e){for(const t in e)ys[t]={...ys[t],...e[t]}}const UC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||UC.has(e)}let ew=e=>!Fo(e);function zC(e){typeof e=="function"&&(ew=t=>t.startsWith("on")?!Fo(t):e(t))}try{zC(require("@emotion/is-prop-valid").default)}catch{}function WC(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(ew(s)||r===!0&&Fo(s)||!t&&!Fo(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const hl=b.createContext({});function fl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Di(e){return typeof e=="string"||Array.isArray(e)}const Lh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dh=["initial",...Lh];function ml(e){return fl(e.animate)||Dh.some(t=>Di(e[t]))}function tw(e){return!!(ml(e)||e.variants)}function GC(e,t){if(ml(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Di(r)?r:void 0,animate:Di(n)?n:void 0}}return e.inherit!==!1?t:{}}function HC(e){const{initial:t,animate:r}=GC(e,b.useContext(hl));return b.useMemo(()=>({initial:t,animate:r}),[gp(t),gp(r)])}function gp(e){return Array.isArray(e)?e.join(" "):e}const Mi={};function qC(e){for(const t in e)Mi[t]=e[t],vh(t)&&(Mi[t].isCSSVariable=!0)}function rw(e,{layout:t,layoutId:r}){return Ps.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Mi[e]||e==="opacity")}const KC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JC=Ts.length;function QC(e,t,r){let n="",s=!0;for(let i=0;i<JC;i++){const a=Ts[i],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||r){const c=Hx(o,Ph[a]);if(!u){s=!1;const d=KC[a]||a;n+=`${d}(${c}) `}r&&(t[a]=c)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Mh(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const u in t){const c=t[u];if(Ps.has(u)){a=!0;continue}else if(vh(u)){s[u]=c;continue}else{const d=Hx(c,Ph[u]);u.startsWith("origin")?(o=!0,i[u]=d):n[u]=d}}if(t.transform||(a||r?n.transform=QC(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:u="50%",originY:c="50%",originZ:d=0}=i;n.transformOrigin=`${u} ${c} ${d}`}}const $h=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nw(e,t,r){for(const n in t)!Ee(t[n])&&!rw(n,r)&&(e[n]=t[n])}function YC({transformTemplate:e},t){return b.useMemo(()=>{const r=$h();return Mh(r,t,e),Object.assign({},r.vars,r.style)},[t])}function XC(e,t){const r=e.style||{},n={};return nw(n,r,e),Object.assign(n,YC(e,t)),n}function ZC(e,t){const r={},n=XC(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const eN={offset:"stroke-dashoffset",array:"stroke-dasharray"},tN={offset:"strokeDashoffset",array:"strokeDasharray"};function rN(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?eN:tN;e[i.offset]=V.transform(-n);const a=V.transform(t),o=V.transform(r);e[i.array]=`${a} ${o}`}function sw(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},u,c,d){if(Mh(e,o,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&rN(f,s,i,a,!1)}const iw=()=>({...$h(),attrs:{}}),aw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nN(e,t,r,n){const s=b.useMemo(()=>{const i=iw();return sw(i,t,aw(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};nw(i,e.style,e),s.style={...i,...s.style}}return s}const sN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fh(e){return typeof e!="string"||e.includes("-")?!1:!!(sN.indexOf(e)>-1||/[A-Z]/u.test(e))}function iN(e,t,r,{latestValues:n},s,i=!1){const o=(Fh(e)?nN:ZC)(t,n,s,e),u=WC(t,typeof e=="string",i),c=e!==b.Fragment?{...u,...o,ref:r}:{},{children:d}=t,f=b.useMemo(()=>Ee(d)?d.get():d,[d]);return b.createElement(e,{...c,children:f})}function yp(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Bh(e,t,r,n){if(typeof t=="function"){const[s,i]=yp(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=yp(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function eo(e){return Ee(e)?e.get():e}function aN({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:oN(r,n,s,e),renderState:t()}}function oN(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=eo(i[h]);let{initial:a,animate:o}=e;const u=ml(e),c=tw(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!fl(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=Bh(e,h[m]);if(g){const{transitionEnd:x,transition:w,...y}=g;for(const v in y){let p=y[v];if(Array.isArray(p)){const _=d?p.length-1:0;p=p[_]}p!==null&&(s[v]=p)}for(const v in x)s[v]=x[v]}}}return s}const ow=e=>(t,r)=>{const n=b.useContext(hl),s=b.useContext(ul),i=()=>aN(e,t,n,s);return r?i():Qi(i)};function Vh(e,t,r){var i;const{style:n}=e,s={};for(const a in n)(Ee(n[a])||t.style&&Ee(t.style[a])||rw(a,e)||((i=r==null?void 0:r.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const lN=ow({scrapeMotionValuesFromProps:Vh,createRenderState:$h});function lw(e,t,r){const n=Vh(e,t,r);for(const s in e)if(Ee(e[s])||Ee(t[s])){const i=Ts.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const uN=ow({scrapeMotionValuesFromProps:lw,createRenderState:iw}),cN=Symbol.for("motionComponentSymbol");function Jn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dN(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Jn(r)&&(r.current=n))},[t])}const Uh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hN="framerAppearId",uw="data-"+Uh(hN),cw=b.createContext({});function fN(e,t,r,n,s){var x,w;const{visualElement:i}=b.useContext(hl),a=b.useContext(Zx),o=b.useContext(ul),u=b.useContext(dl).reducedMotion,c=b.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u}));const d=c.current,f=b.useContext(cw);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&mN(c.current,r,s,f);const h=b.useRef(!1);b.useInsertionEffect(()=>{d&&h.current&&d.update(r,o)});const m=r[uw],g=b.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return dh(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function mN(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:dw(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Jn(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:u,layoutRoot:c})}function dw(e){if(e)return e.options.allowProjection!==!1?e.projection:dw(e.parent)}function lu(e,{forwardMotionProps:t=!1}={},r,n){r&&VC(r);const s=Fh(e)?uN:lN;function i(o,u){let c;const d={...b.useContext(dl),...o,layoutId:pN(o)},{isStatic:f}=d,h=HC(o),m=s(o,f);if(!f&&ch){gN();const g=yN(d);c=g.MeasureLayout,h.visualElement=fN(e,m,d,n,g.ProjectionNode)}return l.jsxs(hl.Provider,{value:h,children:[c&&h.visualElement?l.jsx(c,{visualElement:h.visualElement,...d}):null,iN(e,o,dN(m,h.visualElement,u),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=b.forwardRef(i);return a[cN]=e,a}function pN({layoutId:e}){const t=b.useContext(uh).id;return t&&e!==void 0?t+"-"+e:e}function gN(e,t){b.useContext(Zx).strict}function yN(e){const{drag:t,layout:r}=ys;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function vN(e,t){if(typeof Proxy>"u")return lu;const r=new Map,n=(i,a)=>lu(i,a,e,t),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,lu(a,void 0,e,t)),r.get(a))})}function hw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function xN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wN(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function uu(e){return e===void 0||e===1}function Vc({scale:e,scaleX:t,scaleY:r}){return!uu(e)||!uu(t)||!uu(r)}function nn(e){return Vc(e)||fw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fw(e){return vp(e.x)||vp(e.y)}function vp(e){return e&&e!=="0%"}function Bo(e,t,r){const n=e-r,s=t*n;return r+s}function xp(e,t,r,n,s){return s!==void 0&&(e=Bo(e,s,n)),Bo(e,r,n)+t}function Uc(e,t=0,r=1,n,s){e.min=xp(e.min,t,r,n,s),e.max=xp(e.max,t,r,n,s)}function mw(e,{x:t,y:r}){Uc(e.x,t.translate,t.scale,t.originPoint),Uc(e.y,r.translate,r.scale,r.originPoint)}const wp=.999999999999,bp=1.0000000000001;function bN(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,mw(e,a)),n&&nn(i.latestValues)&&Yn(e,i.latestValues))}t.x<bp&&t.x>wp&&(t.x=1),t.y<bp&&t.y>wp&&(t.y=1)}function Qn(e,t){e.min=e.min+t,e.max=e.max+t}function _p(e,t,r,n,s=.5){const i=ie(e.min,e.max,s);Uc(e,t,r,i,n)}function Yn(e,t){_p(e.x,t.x,t.scaleX,t.scale,t.originX),_p(e.y,t.y,t.scaleY,t.scale,t.originY)}function pw(e,t){return hw(wN(e.getBoundingClientRect(),t))}function _N(e,t,r){const n=pw(e,r),{scroll:s}=t;return s&&(Qn(n.x,s.offset.x),Qn(n.y,s.offset.y)),n}const jp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xn=()=>({x:jp(),y:jp()}),kp=()=>({min:0,max:0}),de=()=>({x:kp(),y:kp()}),zc={current:null},gw={current:!1};function jN(){if(gw.current=!0,!!ch)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zc.current=e.matches;e.addEventListener("change",t),t()}else zc.current=!1}const $i=new WeakMap;function kN(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Ee(s))e.addValue(n,s);else if(Ee(i))e.addValue(n,kn(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,kn(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Sp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yw{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ch,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Xe.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,te.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=ml(r),this.isVariantNode=tw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];u[h]!==void 0&&Ee(m)&&m.set(u[h])}}mount(t){var r;this.current=t,$i.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),gw.current||jN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zc.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ps.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&te.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ys){const r=ys[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):de()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Sp.length;n++){const s=Sp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=kN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=kn(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(nx(n)||ix(n))?n=parseFloat(n):!IC(n)&&Br.test(r)&&(n=Gx(t,r)),this.setBaseTarget(t,Ee(n)?n.get():n)),Ee(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Bh(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ee(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ph),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Ah.render(this.render)}}class vw extends yw{constructor(){super(...arguments),this.KeyframeResolver=jC}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ee(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function xw(e,{style:t,vars:r},n,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function SN(e){return window.getComputedStyle(e)}class ww extends vw{constructor(){super(...arguments),this.type="html",this.renderInstance=xw}readValueFromInstance(t,r){var n;if(Ps.has(r))return(n=this.projection)!=null&&n.isProjecting?Ic(r):BE(t,r);{const s=SN(t),i=(vh(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return pw(t,r)}build(t,r,n){Mh(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Vh(t,r,n)}}const bw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EN(e,t,r,n){xw(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(bw.has(s)?s:Uh(s),t.attrs[s])}class _w extends vw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=de}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ps.has(r)){const n=Wx(r);return n&&n.default||0}return r=bw.has(r)?r:Uh(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return lw(t,r,n)}build(t,r,n){sw(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){EN(t,r,n,s)}mount(t){this.isSVGTag=aw(t.tagName),super.mount(t)}}const CN=(e,t)=>Fh(e)?new _w(t):new ww(t,{allowProjection:e!==b.Fragment});function as(e,t,r){const n=e.getProps();return Bh(n,t,r!==void 0?r:n.custom,e)}const Wc=e=>Array.isArray(e);function NN(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,kn(r))}function TN(e){return Wc(e)?e[e.length-1]||0:e}function PN(e,t){const r=as(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=TN(i[a]);NN(e,a,o)}}function RN(e){return!!(Ee(e)&&e.add)}function Gc(e,t){const r=e.getValue("willChange");if(RN(r))return r.add(t);if(!r&&mr.WillChange){const n=new mr.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function jw(e){return e.props[uw]}const AN=e=>e!==null;function ON(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(AN),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const IN={type:"spring",stiffness:500,damping:25,restSpeed:10},LN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),DN={type:"keyframes",duration:.8},MN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$N=(e,{keyframes:t})=>t.length>2?DN:Ps.has(e)?e.startsWith("scale")?LN(t[1]):IN:MN;function FN({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:u,elapsed:c,...d}){return!!Object.keys(d).length}const zh=(e,t,r,n={},s,i)=>a=>{const o=Th(n,e)||{},u=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Bt(u);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};FN(o)||Object.assign(d,$N(e,d)),d.duration&&(d.duration=Bt(d.duration)),d.repeatDelay&&(d.repeatDelay=Bt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Fc(d),d.delay===0&&(f=!0)),(mr.instantAnimations||mr.skipAnimations)&&(f=!0,Fc(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=ON(d.keyframes,o);if(h!==void 0){te.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new Eh(d):new uC(d)};function BN({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Wh(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;n&&(i=n);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in o){const f=e.getValue(d,e.latestValues[d]??null),h=o[d];if(h===void 0||c&&BN(c,d))continue;const m={delay:r,...Th(i||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=jw(e);if(y){const v=window.MotionHandoffAnimation(y,d,te);v!==null&&(m.startTime=v,x=!0)}}Gc(e,d),f.start(zh(d,f,h,e.shouldReduceMotion&&Vx.has(d)?{type:!1}:m,e,x));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{te.update(()=>{a&&PN(e,a)})}),u}function kw(e,t,r,n=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),a=e.size,o=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:o-i*n}function Hc(e,t,r={}){var u;const n=as(e,t,r.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Wh(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return VN(e,t,c,d,f,h,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,d]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(r.delay)])}function VN(e,t,r=0,n=0,s=0,i=1,a){const o=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),o.push(Hc(u,t,{...a,delay:r+(typeof n=="function"?0:n)+kw(e.variantChildren,u,n,s,i)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(o)}function UN(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Hc(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Hc(e,t,r);else{const s=typeof t=="function"?as(e,t,r.custom):t;n=Promise.all(Wh(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Sw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const zN=Dh.length;function Ew(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Ew(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<zN;r++){const n=Dh[r],s=e.props[n];(Di(s)||s===!1)&&(t[n]=s)}return t}const WN=[...Lh].reverse(),GN=Lh.length;function HN(e){return t=>Promise.all(t.map(({animation:r,options:n})=>UN(e,r,n)))}function qN(e){let t=HN(e),r=Ep(),n=!0;const s=u=>(c,d)=>{var h;const f=as(e,d,u==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...x}=f;c={...c,...x,...g}}return c};function i(u){t=u(e)}function a(u){const{props:c}=e,d=Ew(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let w=0;w<GN;w++){const y=WN[w],v=r[y],p=c[y]!==void 0?c[y]:d[y],_=Di(p),j=y===u?v.isActive:null;j===!1&&(g=w);let k=p===d[y]&&p!==c[y]&&_;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...m},!v.isActive&&j===null||!p&&!v.prevProp||fl(p)||typeof p=="boolean")continue;const S=KN(v.prevProp,p);let E=S||y===u&&v.isActive&&!k&&_||w>g&&_,C=!1;const R=Array.isArray(p)?p:[p];let M=R.reduce(s(y),{});j===!1&&(M={});const{prevResolvedValues:re={}}=v,q={...re,...M},Ke=W=>{E=!0,h.has(W)&&(C=!0,h.delete(W)),v.needsAnimating[W]=!0;const P=e.getValue(W);P&&(P.liveStyle=!1)};for(const W in q){const P=M[W],D=re[W];if(m.hasOwnProperty(W))continue;let $=!1;Wc(P)&&Wc(D)?$=!Sw(P,D):$=P!==D,$?P!=null?Ke(W):h.add(W):P!==void 0&&h.has(W)?Ke(W):v.protectedKeys[W]=!0}v.prevProp=p,v.prevResolvedValues=M,v.isActive&&(m={...m,...M}),n&&e.blockInitialAnimation&&(E=!1);const rt=k&&S;E&&(!rt||C)&&f.push(...R.map(W=>{const P={type:y};if(typeof W=="string"&&n&&!rt&&e.manuallyAnimateOnMount&&e.parent){const{parent:D}=e,$=as(D,W);if(D.enteringChildren&&$){const{delayChildren:F}=$.transition||{};P.delay=kw(D.enteringChildren,e,F)}}return{animation:W,options:P}}))}if(h.size){const w={};if(typeof c.initial!="boolean"){const y=as(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(w.transition=y.transition)}h.forEach(y=>{const v=e.getBaseTarget(y),p=e.getValue(y);p&&(p.liveStyle=!0),w[y]=v??null}),f.push({animation:w})}let x=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function o(u,c){var f;if(r[u].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(u,c)}),r[u].isActive=c;const d=a(u);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Ep()}}}function KN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Sw(t,e):!1}function Yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ep(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class qr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class JN extends qr{constructor(t){super(t),t.animationState||(t.animationState=qN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let QN=0;class YN extends qr{constructor(){super(...arguments),this.id=QN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XN={animation:{Feature:JN},exit:{Feature:YN}};function Fi(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ea(e){return{point:{x:e.pageX,y:e.pageY}}}const ZN=e=>t=>Oh(t)&&e(t,ea(t));function ui(e,t,r,n){return Fi(e,t,ZN(r),n)}const Cw=1e-4,eT=1-Cw,tT=1+Cw,Nw=.01,rT=0-Nw,nT=0+Nw;function We(e){return e.max-e.min}function sT(e,t,r){return Math.abs(e-t)<=r}function Cp(e,t,r,n=.5){e.origin=n,e.originPoint=ie(t.min,t.max,e.origin),e.scale=We(r)/We(t),e.translate=ie(r.min,r.max,e.origin)-e.originPoint,(e.scale>=eT&&e.scale<=tT||isNaN(e.scale))&&(e.scale=1),(e.translate>=rT&&e.translate<=nT||isNaN(e.translate))&&(e.translate=0)}function ci(e,t,r,n){Cp(e.x,t.x,r.x,n?n.originX:void 0),Cp(e.y,t.y,r.y,n?n.originY:void 0)}function Np(e,t,r){e.min=r.min+t.min,e.max=e.min+We(t)}function iT(e,t,r){Np(e.x,t.x,r.x),Np(e.y,t.y,r.y)}function Tp(e,t,r){e.min=t.min-r.min,e.max=e.min+We(t)}function di(e,t,r){Tp(e.x,t.x,r.x),Tp(e.y,t.y,r.y)}function xt(e){return[e("x"),e("y")]}const Tw=({current:e})=>e?e.ownerDocument.defaultView:null,Pp=(e,t)=>Math.abs(e-t);function aT(e,t){const r=Pp(e.x,t.x),n=Pp(e.y,t.y);return Math.sqrt(r**2+n**2)}class Pw{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=du(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=aT(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:x}=h,{timestamp:w}=Ae;this.history.push({...x,timestamp:w});const{onStart:y,onMove:v}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=cu(m,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=du(h.type==="pointercancel"?this.lastMoveEventInfo:cu(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,y),x&&x(h,y)},!Oh(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const o=ea(t),u=cu(o,this.transformPagePoint),{point:c}=u,{timestamp:d}=Ae;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,du(u,this.history)),this.removeListeners=Yi(ui(this.contextWindow,"pointermove",this.handlePointerMove),ui(this.contextWindow,"pointerup",this.handlePointerUp),ui(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function cu(e,t){return t?{point:t(e.point)}:e}function Rp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function du({point:e},t){return{point:e,delta:Rp(e,Rw(t)),offset:Rp(e,oT(t)),velocity:lT(t,.1)}}function oT(e){return e[0]}function Rw(e){return e[e.length-1]}function lT(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Rw(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Bt(t)));)r--;if(!n)return{x:0,y:0};const i=jt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uT(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ie(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ie(r,e,n.max):Math.min(e,r)),e}function Ap(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function cT(e,{top:t,left:r,bottom:n,right:s}){return{x:Ap(e.x,r,s),y:Ap(e.y,t,n)}}function Op(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function dT(e,t){return{x:Op(e.x,t.x),y:Op(e.y,t.y)}}function hT(e,t){let r=.5;const n=We(e),s=We(t);return s>n?r=gs(t.min,t.max-n,e.min):n>s&&(r=gs(e.min,e.max-s,t.min)),fr(0,1,r)}function fT(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const qc=.35;function mT(e=qc){return e===!1?e=0:e===!0&&(e=qc),{x:Ip(e,"left","right"),y:Ip(e,"top","bottom")}}function Ip(e,t,r){return{min:Lp(e,t),max:Lp(e,r)}}function Lp(e,t){return typeof e=="number"?e:e[t]||0}const pT=new WeakMap;class gT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=de(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ea(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EC(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xt(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Yt.test(v)){const{projection:p}=this.visualElement;if(p&&p.layout){const _=p.layout.layoutBox[y];_&&(v=We(_)*(parseFloat(v)/100))}}this.originPoint[y]=v}),x&&te.postRender(()=>x(f,h)),Gc(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(g&&this.currentDirection===null){this.currentDirection=yT(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),w&&w(f,h)},u=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>xt(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Pw(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Tw(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&te.postRender(()=>o(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Aa(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=uT(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Jn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=cT(n.layoutBox,t):this.constraints=!1,this.elastic=mT(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&xt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=fT(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Jn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_N(n,s.root,this.visualElement.getTransformPagePoint());let a=dT(s.layout.layoutBox,i);if(r){const o=r(xN(a));this.hasMutatedConstraints=!!o,o&&(a=hw(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},c=xt(d=>{if(!Aa(d,r,this.currentDirection))return;let f=u&&u[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Gc(this.visualElement,t),n.start(zh(t,n,0,r,this.visualElement,!1))}stopAnimation(){xt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){xt(r=>{const{drag:n}=this.getProps();if(!Aa(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-ie(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Jn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();s[a]=hT({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xt(a=>{if(!Aa(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];o.set(ie(u,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;pT.set(this.visualElement,this);const t=this.visualElement.current,r=ui(t,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Jn(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),te.read(n);const a=Fi(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(xt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=qc,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Aa(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function yT(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vT extends qr{constructor(t){super(t),this.removeGroupControls=St,this.removeListeners=St,this.controls=new gT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||St}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dp=e=>(t,r)=>{e&&te.postRender(()=>e(t,r))};class xT extends qr{constructor(){super(...arguments),this.removePointerDownListener=St}onPointerDown(t){this.session=new Pw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Dp(t),onStart:Dp(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&te.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ui(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const to={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Us={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;const r=Mp(e,t.target.x),n=Mp(e,t.target.y);return`${r}% ${n}%`}},wT={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Br.parse(e);if(s.length>5)return n;const i=Br.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,u=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=u;const c=ie(o,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),i(s)}};let hu=!1;class bT extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;qC(_T),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),hu&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),to.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,hu=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||te.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ah.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;hu=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Aw(e){const[t,r]=Xx(),n=b.useContext(uh);return l.jsx(bT,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(cw),isPresent:t,safeToRemove:r})}const _T={borderRadius:{...Us,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Us,borderTopRightRadius:Us,borderBottomLeftRadius:Us,borderBottomRightRadius:Us,boxShadow:wT};function Ow(e,t,r){const n=Ee(e)?e:kn(e);return n.start(zh("",n,t,r)),n.animation}const jT=(e,t)=>e.depth-t.depth;class kT{constructor(){this.children=[],this.isDirty=!1}add(t){hh(this.children,t),this.isDirty=!0}remove(t){cl(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jT),this.isDirty=!1,this.children.forEach(t)}}function ST(e,t){const r=Xe.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(pr(n),e(i-t))};return te.setup(n,!0),()=>pr(n)}const Iw=["TopLeft","TopRight","BottomLeft","BottomRight"],ET=Iw.length,$p=e=>typeof e=="string"?parseFloat(e):e,Fp=e=>typeof e=="number"||V.test(e);function CT(e,t,r,n,s,i){s?(e.opacity=ie(0,r.opacity??1,NT(n)),e.opacityExit=ie(t.opacity??1,0,TT(n))):i&&(e.opacity=ie(t.opacity??1,r.opacity??1,n));for(let a=0;a<ET;a++){const o=`border${Iw[a]}Radius`;let u=Bp(t,o),c=Bp(r,o);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Fp(u)===Fp(c)?(e[o]=Math.max(ie($p(u),$p(c),n),0),(Yt.test(c)||Yt.test(u))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=ie(t.rotate||0,r.rotate||0,n))}function Bp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const NT=Lw(0,.5,fx),TT=Lw(.5,.95,St);function Lw(e,t,r){return n=>n<e?0:n>t?1:r(gs(e,t,n))}function Vp(e,t){e.min=t.min,e.max=t.max}function gt(e,t){Vp(e.x,t.x),Vp(e.y,t.y)}function Up(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zp(e,t,r,n,s){return e-=t,e=Bo(e,1/r,n),s!==void 0&&(e=Bo(e,1/s,n)),e}function PT(e,t=0,r=1,n=.5,s,i=e,a=e){if(Yt.test(t)&&(t=parseFloat(t),t=ie(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ie(i.min,i.max,n);e===i&&(o-=t),e.min=zp(e.min,t,r,o,s),e.max=zp(e.max,t,r,o,s)}function Wp(e,t,[r,n,s],i,a){PT(e,t[r],t[n],t[s],t.scale,i,a)}const RT=["x","scaleX","originX"],AT=["y","scaleY","originY"];function Gp(e,t,r,n){Wp(e.x,t,RT,r?r.x:void 0,n?n.x:void 0),Wp(e.y,t,AT,r?r.y:void 0,n?n.y:void 0)}function Hp(e){return e.translate===0&&e.scale===1}function Dw(e){return Hp(e.x)&&Hp(e.y)}function qp(e,t){return e.min===t.min&&e.max===t.max}function OT(e,t){return qp(e.x,t.x)&&qp(e.y,t.y)}function Kp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Mw(e,t){return Kp(e.x,t.x)&&Kp(e.y,t.y)}function Jp(e){return We(e.x)/We(e.y)}function Qp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class IT{constructor(){this.members=[]}add(t){hh(this.members,t),t.scheduleRender()}remove(t){if(cl(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LT(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(n+=`scale(${o}, ${u})`),n||"none"}const fu=["","X","Y","Z"],DT=1e3;let MT=0;function mu(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function $w(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=jw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",te,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&$w(n)}function Fw({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=MT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BT),this.nodes.forEach(WT),this.nodes.forEach(GT),this.nodes.forEach(VT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new kT)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ph),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ih(a)&&!Yx(a),this.instance=a;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;te.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=ST(h,250),to.hasAnimatedSinceResize&&(to.hasAnimatedSinceResize=!1,this.nodes.forEach(Zp)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||QT,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=c.getProps(),y=!this.targetLayout||!Mw(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...Th(g,"layout"),onPlay:x,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(d,v)}else f||Zp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HT),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$w(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Xp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zT),this.nodes.forEach($T),this.nodes.forEach(FT)):this.nodes.forEach(Xp),this.clearAllSnapshots();const o=Xe.now();Ae.delta=fr(0,1e3/60,o-Ae.timestamp),Ae.timestamp=o,Ae.isProcessing=!0,ru.update.process(Ae),ru.preRender.process(Ae),ru.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ah.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UT),this.sharedNodes.forEach(qT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!We(this.snapshot.measuredBox.x)&&!We(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=de(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Dw(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||nn(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),YT(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return de();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(XT))){const{scroll:d}=this.root;d&&(Qn(o.x,d.offset.x),Qn(o.y,d.offset.y))}return o}removeElementScroll(a){var u;const o=de();if(gt(o,a),(u=this.scroll)!=null&&u.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&gt(o,a),Qn(o.x,f.offset.x),Qn(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const u=de();gt(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yn(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),nn(d.latestValues)&&Yn(u,d.latestValues)}return nn(this.latestValues)&&Yn(u,this.latestValues),u}removeTransform(a){const o=de();gt(o,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!nn(c.latestValues))continue;Vc(c.latestValues)&&c.updateSnapshot();const d=de(),f=c.measurePageBox();gt(d,f),Gp(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return nn(this.latestValues)&&Gp(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),di(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=de(),this.targetWithTransforms=de()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gt(this.target,this.layout.layoutBox),mw(this.target,this.targetDelta)):gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),di(this.relativeTargetOrigin,this.target,m.target),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vc(this.parent.latestValues)||fw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;gt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;bN(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=de());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Up(this.prevProjectionDelta.x,this.projectionDelta.x),Up(this.prevProjectionDelta.y,this.projectionDelta.y)),ci(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Qp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xn(),this.projectionDelta=Xn(),this.projectionDeltaWithTransform=Xn()}setAnimationOrigin(a,o=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},f=Xn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=de(),m=u?u.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,w=this.getStack(),y=!w||w.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(JT));this.animationProgress=0;let p;this.mixTargetDelta=_=>{const j=_/1e3;e0(f.x,a.x,j),e0(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(di(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KT(this.relativeTarget,this.relativeTargetOrigin,h,j),p&&OT(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=de()),gt(p,this.relativeTarget)),x&&(this.animationValues=d,CT(d,c,this.latestValues,j,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{to.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kn(0)),this.currentAnimation=Ow(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:d}=a;if(!(!o||!u||!c)){if(this!==a&&this.layout&&c&&Bw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||de();const f=We(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+f;const h=We(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+h}gt(o,u),Yn(o,d),ci(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IT),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&mu("z",a,c,this.animationValues);for(let d=0;d<fu.length;d++)mu(`rotate${fu[d]}`,a,c,this.animationValues),mu(`skew${fu[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=eo(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=eo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nn(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=LT(this.projectionDeltaWithTransform,this.treeScale,d);u&&(f=u(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Mi){if(d[g]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:y}=Mi[g],v=f==="none"?d[g]:x(d[g],c);if(w){const p=w.length;for(let _=0;_<p;_++)a[w[_]]=v}else y?this.options.visualElement.renderState.vars[g]=v:a[g]=v}this.options.layoutId&&(a.pointerEvents=c===this?eo(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Yp),this.root.sharedNodes.clear()}}}function $T(e){e.updateLayout()}function FT(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?xt(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=We(h);h.min=n[f].min,h.max=h.min+m}):Bw(i,t.layoutBox,n)&&xt(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=We(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=Xn();ci(o,n,t.layoutBox);const u=Xn();a?ci(u,e.applyTransform(s,!0),t.measuredBox):ci(u,n,t.layoutBox);const c=!Dw(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=de();di(g,t.layoutBox,h.layoutBox);const x=de();di(x,n,m.layoutBox),Mw(g,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function BT(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function VT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UT(e){e.clearSnapshot()}function Yp(e){e.clearMeasurements()}function Xp(e){e.isLayoutDirty=!1}function zT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WT(e){e.resolveTargetDelta()}function GT(e){e.calcProjection()}function HT(e){e.resetSkewAndRotation()}function qT(e){e.removeLeadSnapshot()}function e0(e,t,r){e.translate=ie(t.translate,0,r),e.scale=ie(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function t0(e,t,r,n){e.min=ie(t.min,r.min,n),e.max=ie(t.max,r.max,n)}function KT(e,t,r,n){t0(e.x,t.x,r.x,n),t0(e.y,t.y,r.y,n)}function JT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QT={duration:.45,ease:[.4,0,.1,1]},r0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),n0=r0("applewebkit/")&&!r0("chrome/")?Math.round:St;function s0(e){e.min=n0(e.min),e.max=n0(e.max)}function YT(e){s0(e.x),s0(e.y)}function Bw(e,t,r){return e==="position"||e==="preserve-aspect"&&!sT(Jp(t),Jp(r),.2)}function XT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ZT=Fw({attachResizeListener:(e,t)=>Fi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pu={current:void 0},Vw=Fw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pu.current){const e=new ZT({});e.mount(window),e.setOptions({layoutScroll:!0}),pu.current=e}return pu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eP={pan:{Feature:xT},drag:{Feature:vT,ProjectionNode:Vw,MeasureLayout:Aw}};function i0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&te.postRender(()=>i(t,ea(t)))}class tP extends qr{mount(){const{current:t}=this.node;t&&(this.unmount=CC(t,(r,n)=>(i0(this.node,n,"Start"),s=>i0(this.node,s,"End"))))}unmount(){}}class rP extends qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yi(Fi(this.node.current,"focus",()=>this.onFocus()),Fi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a0(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&te.postRender(()=>i(t,ea(t)))}class nP extends qr{mount(){const{current:t}=this.node;t&&(this.unmount=RC(t,(r,n)=>(a0(this.node,n,"Start"),(s,{success:i})=>a0(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kc=new WeakMap,gu=new WeakMap,sP=e=>{const t=Kc.get(e.target);t&&t(e)},iP=e=>{e.forEach(sP)};function aP({root:e,...t}){const r=e||document;gu.has(r)||gu.set(r,{});const n=gu.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(iP,{root:e,...t})),n[s]}function oP(e,t,r){const n=aP(t);return Kc.set(e,r),n.observe(e),()=>{Kc.delete(e),n.unobserve(e)}}const lP={some:0,all:1};class uP extends qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:lP[s]},o=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(u)};return oP(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(cP(t,r))&&this.startObserver()}unmount(){}}function cP({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const dP={inView:{Feature:uP},tap:{Feature:nP},focus:{Feature:rP},hover:{Feature:tP}},hP={layout:{ProjectionNode:Vw,MeasureLayout:Aw}},fP={...XN,...dP,...eP,...hP},N=vN(fP,CN);function Uw(e){const t=Qi(()=>kn(e)),{isStatic:r}=b.useContext(dl);if(r){const[,n]=b.useState(e);b.useEffect(()=>t.on("change",n),[])}return t}function zw(e,t){const r=Uw(t()),n=()=>r.set(t());return n(),dh(()=>{const s=()=>te.preRender(n,!1,!0),i=e.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),pr(n)}}),r}function mP(e){li.current=[],e();const t=zw(li.current,e);return li.current=void 0,t}function pP(e,t,r,n){if(typeof e=="function")return mP(e);const s=typeof t=="function"?t:AC(t,r,n);return Array.isArray(e)?o0(e,s):o0([e],([i])=>s(i))}function o0(e,t){const r=Qi(()=>[]);return zw(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function Gh(e){return typeof e=="object"&&!Array.isArray(e)}function Ww(e,t,r,n){return typeof e=="string"&&Gh(t)?Rh(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function gP(e,t,r){return e*(t+1)}function l0(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:t.startsWith("<")?Math.max(0,r+parseFloat(t.slice(1))):n.get(t)??e}function yP(e,t,r){for(let n=0;n<e.length;n++){const s=e[n];s.at>t&&s.at<r&&(cl(e,s),n--)}}function vP(e,t,r,n,s,i){yP(e,s,i);for(let a=0;a<t.length;a++)e.push({value:t[a],at:ie(s,i,n[a]),easing:yx(r,a)})}function xP(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function wP(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const bP="easeInOut";function _P(e,{defaultTransition:t={},...r}={},n,s){const i=t.duration||.3,a=new Map,o=new Map,u={},c=new Map;let d=0,f=0,h=0;for(let m=0;m<e.length;m++){const g=e[m];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,l0(f,g.at,d,c));continue}let[x,w,y={}]=g;y.at!==void 0&&(f=l0(f,y.at,d,c));let v=0;const p=(_,j,k,S=0,E=0)=>{const C=jP(_),{delay:R=0,times:M=Ox(C),type:re="keyframes",repeat:q,repeatType:Ke,repeatDelay:rt=0,...Je}=j;let{ease:W=t.ease||"easeOut",duration:P}=j;const D=typeof R=="function"?R(S,E):R,$=C.length,F=Nh(re)?re:s==null?void 0:s[re||"keyframes"];if($<=2&&F){let nt=100;if($===2&&EP(C)){const Rs=C[1]-C[0];nt=Math.abs(Rs)}const pt={...Je};P!==void 0&&(pt.duration=Bt(P));const Xt=Tx(pt,nt,F);W=Xt.ease,P=Xt.duration}P??(P=i);const U=f+D;M.length===1&&M[0]===0&&(M[1]=1);const X=M.length-C.length;if(X>0&&Ax(M,X),C.length===1&&C.unshift(null),q){P=gP(P,q);const nt=[...C],pt=[...M];W=Array.isArray(W)?[...W]:[W];const Xt=[...W];for(let Rs=0;Rs<q;Rs++){C.push(...nt);for(let As=0;As<nt.length;As++)M.push(pt[As]+(Rs+1)),W.push(As===0?"linear":yx(Xt,As-1))}xP(M,q)}const Ne=U+P;vP(k,C,W,M,U,Ne),v=Math.max(D+P,v),h=Math.max(Ne,h)};if(Ee(x)){const _=u0(x,o);p(w,y,c0("default",_))}else{const _=Ww(x,w,n,u),j=_.length;for(let k=0;k<j;k++){w=w,y=y;const S=_[k],E=u0(S,o);for(const C in w)p(w[C],kP(y,C),c0(C,E),k,j)}}d=f,f+=v}return o.forEach((m,g)=>{for(const x in m){const w=m[x];w.sort(wP);const y=[],v=[],p=[];for(let j=0;j<w.length;j++){const{at:k,value:S,easing:E}=w[j];y.push(S),v.push(gs(0,h,k)),p.push(E||"easeOut")}v[0]!==0&&(v.unshift(0),y.unshift(y[0]),p.unshift(bP)),v[v.length-1]!==1&&(v.push(1),y.push(null)),a.has(g)||a.set(g,{keyframes:{},transition:{}});const _=a.get(g);_.keyframes[x]=y,_.transition[x]={...t,duration:h,ease:p,times:v,...r}}}),a}function u0(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function c0(e,t){return t[e]||(t[e]=[]),t[e]}function jP(e){return Array.isArray(e)?e:[e]}function kP(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const SP=e=>typeof e=="number",EP=e=>e.every(SP);function CP(e,t){return e in t}class NP extends yw{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(CP(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return de()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function TP(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Ih(e)&&!Yx(e)?new _w(t):new ww(t);r.mount(e),$i.set(e,r)}function PP(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new NP(t);r.mount(e),$i.set(e,r)}function RP(e,t){return Ee(e)||typeof e=="number"||typeof e=="string"&&!Gh(t)}function Gw(e,t,r,n){const s=[];if(RP(e,t))s.push(Ow(e,Gh(t)&&t.default||t,r&&(r.default||r)));else{const i=Ww(e,t,n),a=i.length;for(let o=0;o<a;o++){const u=i[o],c=u instanceof Element?TP:PP;$i.has(u)||c(u);const d=$i.get(u),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,a)),s.push(...Wh(d,{...t,transition:f},{}))}}return s}function AP(e,t,r){const n=[];return _P(e,t,r,{spring:Li}).forEach(({keyframes:i,transition:a},o)=>{n.push(...Gw(o,i,a))}),n}function OP(e){return Array.isArray(e)&&e.some(Array.isArray)}function IP(e){function t(r,n,s){let i=[],a;if(OP(r))i=AP(r,n,e);else{const{onComplete:u,...c}=s||{};typeof u=="function"&&(a=u),i=Gw(r,n,c,e)}const o=new dC(i);return a&&o.finished.then(a),o}return t}const LP=IP(),DP={some:0,all:1};function MP(e,t,{root:r,margin:n,amount:s="some"}={}){const i=Rh(e),a=new WeakMap,o=c=>{c.forEach(d=>{const f=a.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const h=t(d.target,d);typeof h=="function"?a.set(d.target,h):u.unobserve(d.target)}else typeof f=="function"&&(f(d),a.delete(d.target))})},u=new IntersectionObserver(o,{root:r,rootMargin:n,threshold:typeof s=="number"?s:DP[s]});return i.forEach(c=>u.observe(c)),()=>u.disconnect()}function $P(e,{root:t,margin:r,amount:n,once:s=!1,initial:i=!1}={}){const[a,o]=b.useState(i);return b.useEffect(()=>{if(!e.current||s&&a)return;const u=()=>(o(!0),s?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return MP(e.current,u,c)},[t,e,r,s,n]),a}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>b.createElement("svg",{ref:d,...FP,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${BP(e)}`,o].join(" "),...c},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=O("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=O("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=O("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=O("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=O("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=O("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=O("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=O("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=O("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=O("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=O("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=O("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=O("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=O("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=O("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=O("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=O("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=O("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=O("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=O("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=O("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=O("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=O("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=O("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=O("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=O("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=O("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=O("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=O("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=O("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=O("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=O("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=O("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=O("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),p4={success:{icon:Hw,bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",iconColor:"text-green-500"},error:{icon:f4,bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500"},info:{icon:JP,bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500"},warning:{icon:VP,bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-800",iconColor:"text-amber-500"}};function g4({message:e,type:t,onClose:r}){const n=p4[t],s=n.icon;return l.jsx($o,{children:l.jsxs(N.div,{initial:{opacity:0,x:100,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{duration:.2},className:`${n.bgColor} ${n.borderColor} border rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[320px] max-w-md`,children:[l.jsx(s,{className:`w-5 h-5 ${n.iconColor} flex-shrink-0 mt-0.5`}),l.jsx("p",{className:`${n.textColor} text-sm font-medium flex-1`,children:e}),l.jsx("button",{onClick:r,className:`${n.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Fermer",children:l.jsx(Fe,{className:"w-4 h-4"})})]})})}const e1=b.createContext(void 0);function y4({children:e}){const[t,r]=b.useState([]),n=b.useCallback((i,a="info",o=3e3)=>{const u=Math.random().toString(36).substr(2,9),c={id:u,message:i,type:a,duration:o};r(d=>[...d,c]),o>0&&setTimeout(()=>{s(u)},o)},[]),s=b.useCallback(i=>{r(a=>a.filter(o=>o.id!==i))},[]);return l.jsxs(e1.Provider,{value:{showToast:n,hideToast:s},children:[e,l.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:t.map(i=>l.jsx(g4,{message:i.message,type:i.type,onClose:()=>s(i.id)},i.id))})]})}function v4(){const e=b.useContext(e1);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function x4(){const[e,t]=b.useState(0),[r,n]=b.useState(!1);return b.useEffect(()=>{const s=()=>{const i=window.scrollY;t(i),n(i>50)};return window.addEventListener("scroll",s,{passive:!0}),s(),()=>window.removeEventListener("scroll",s)},[]),{scrollY:e,isScrolled:r}}const w4=()=>{const{isScrolled:e}=x4();return l.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 flex justify-center pt-6 px-4 pointer-events-none",children:l.jsx(N.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:100,damping:20,duration:.8},className:`
          max-w-5xl w-full rounded-full px-8 h-16
          transition-all duration-500 ease-out pointer-events-auto
          border border-white/10
          ${e?"bg-black/80 backdrop-blur-xl shadow-[0_8px_32px_rgba(0,0,0,0.3),0_0_40px_rgba(234,179,8,0.15)]":"bg-black/60 backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.2),0_0_20px_rgba(234,179,8,0.1)]"}
        `,children:l.jsxs("div",{className:"flex justify-between items-center h-full",children:[l.jsx(K,{to:"/",children:l.jsxs(N.div,{className:"flex items-center gap-2",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:[l.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Obsi"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(K,{to:"/login",children:l.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-5 py-2 border-2 border-white text-white hover:bg-white hover:text-black transition-all duration-300 rounded-full font-medium text-sm",children:"Se connecter"})}),l.jsx(K,{to:"/signup",children:l.jsx(N.button,{whileHover:{scale:1.02,boxShadow:"0 0 20px rgba(255, 255, 255, 0.5)"},whileTap:{scale:.98},className:"px-5 py-2 bg-white text-black hover:bg-white/90 transition-all duration-300 rounded-full font-medium shadow-md text-sm",children:"Commencer"})})]})]})})})},xu=[{name:"Sophie Martin",title:"CEO & Founder",sector:"Entreprise",color:"from-gold-400 to-gold-600",icon:qh},{name:"Lucas Bernard",title:"tudiant en Design",sector:"tudiants",color:"from-blue-400 to-blue-600",icon:Jh},{name:"Emma Dubois",title:"Artiste Photographe",sector:"Artistes",color:"from-purple-400 to-pink-500",icon:Xh},{name:"Pierre Leclerc",title:"Maire",sector:"lus",color:"from-red-500 to-red-700",icon:Kw}],b4=[...xu,...xu,...xu],_4=({data:e,index:t})=>{const r=e.icon;return l.jsx("div",{className:"relative flex-shrink-0 w-[280px] h-[440px] mx-4",style:{perspective:"1000px"},children:l.jsxs(N.div,{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-900 to-black border border-neutral-800 shadow-2xl overflow-hidden",initial:{rotateY:-10},animate:{rotateY:[10,-10,10]},transition:{duration:4,delay:t*.5,repeat:1/0,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-neutral-800/30"}),l.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[l.jsx("div",{className:"flex justify-between items-start mb-8",children:l.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${e.color}`,children:l.jsx(r,{className:"w-5 h-5 text-white"})})}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center gap-2 mb-3",children:l.jsx("div",{className:`px-3 py-1 rounded-full bg-gradient-to-r ${e.color} text-white text-xs font-semibold`,children:e.sector})}),l.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:e.name}),l.jsx("p",{className:"text-warmGray-300 text-sm",children:e.title})]}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-gold-500/10 to-transparent rounded-full blur-3xl"})]}),l.jsx("div",{className:"absolute inset-0 border border-gold-500/20 rounded-2xl pointer-events-none"})]})})},j4=()=>l.jsxs("div",{className:"relative w-full overflow-hidden py-12",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-transparent to-black z-10 pointer-events-none"}),l.jsx(N.div,{className:"flex",animate:{x:[0,-2800]},transition:{duration:40,repeat:1/0,ease:"linear"},children:b4.map((e,t)=>l.jsx(_4,{data:e,index:t},t))}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-spotlight pointer-events-none"})]}),k4=()=>l.jsxs("section",{className:"relative w-full min-h-screen overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/10 via-transparent to-transparent opacity-40"}),l.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>l.jsx(N.div,{className:"absolute w-1.5 h-1.5 rounded-full bg-gold-500 shadow-gold-glow",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[-200,0],opacity:[0,.9,0]},transition:{duration:8,delay:t*.3,repeat:1/0,ease:"easeInOut"}},t))}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-16",children:[l.jsxs("div",{className:"text-left space-y-8",children:[l.jsx(N.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:1.8,delay:1},children:l.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-black mb-6 tracking-tight leading-tight",children:"Crez du lien & Partagez vos informations en un geste"})}),l.jsx(N.p,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1.5,duration:1.8,ease:[.25,.1,.25,1]},className:"text-lg md:text-xl text-warmGray-700 leading-relaxed",children:"La carte de visite premium connecte  votre profil virtuel"}),l.jsx(N.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:2,duration:1.5,ease:[.25,.1,.25,1]},children:l.jsx(K,{to:"/signup",children:l.jsx(N.button,{whileHover:{scale:1.02,boxShadow:"0 0 32px rgba(234, 179, 8, 0.6)"},whileTap:{scale:.98},className:"px-10 py-4 bg-black text-white border-2 border-gold-500 rounded-lg text-lg font-medium shadow-gold-glow-lg hover:bg-neutral-900 transition-all duration-300",children:"Commander mon Obsi Carte"})})})]}),l.jsx(N.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:1.4,duration:1.2},className:"flex items-center justify-center",children:l.jsx("div",{className:"relative w-full max-w-md lg:max-w-lg",children:l.jsx("div",{className:"card-runway-frame",children:l.jsx(j4,{})})})})]})})]});var Xc=new Map,Oa=new WeakMap,g0=0,S4;function E4(e){return e?(Oa.has(e)||(g0+=1,Oa.set(e,g0.toString())),Oa.get(e)):"0"}function C4(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?E4(e.root):e[t]}`).toString()}function N4(e){const t=C4(e);let r=Xc.get(t);if(!r){const n=new Map;let s;const i=new IntersectionObserver(a=>{a.forEach(o=>{var u;const c=o.isIntersecting&&s.some(d=>o.intersectionRatio>=d);e.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=c),(u=n.get(o.target))==null||u.forEach(d=>{d(c,o)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},Xc.set(t,r)}return r}function T4(e,t,r={},n=S4){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const u=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:s,observer:i,elements:a}=N4(r),o=a.get(e)||[];return a.has(e)||a.set(e,o),o.push(t),i.observe(e),function(){o.splice(o.indexOf(t),1),o.length===0&&(a.delete(e),i.unobserve(e)),a.size===0&&(i.disconnect(),Xc.delete(s))}}function pl({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:s,triggerOnce:i,skip:a,initialInView:o,fallbackInView:u,onChange:c}={}){var d;const[f,h]=b.useState(null),m=b.useRef(c),g=b.useRef(o),[x,w]=b.useState({inView:!!o,entry:void 0});m.current=c,b.useEffect(()=>{if(g.current===void 0&&(g.current=o),a||!f)return;let _;return _=T4(f,(j,k)=>{const S=g.current;g.current=j,!(S===void 0&&!j)&&(w({inView:j,entry:k}),m.current&&m.current(j,k),k.isIntersecting&&i&&_&&(_(),_=void 0))},{root:s,rootMargin:n,threshold:e,trackVisibility:r,delay:t},u),()=>{_&&_()}},[Array.isArray(e)?e.toString():e,f,s,n,i,a,r,u,t]);const y=(d=x.entry)==null?void 0:d.target,v=b.useRef(void 0);!f&&y&&!i&&!a&&v.current!==y&&(v.current=y,w({inView:!!o,entry:void 0}),g.current=o);const p=[h,x.inView,x.entry];return p.ref=p[0],p.inView=p[1],p.entry=p[2],p}var gl={},t1={exports:{}},P4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R4=P4,A4=R4;function r1(){}function n1(){}n1.resetWarningCache=r1;var O4=function(){function e(n,s,i,a,o,u){if(u!==A4){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n1,resetWarningCache:r1};return r.PropTypes=r,r};t1.exports=O4();var s1=t1.exports,i1={L:1,M:0,Q:3,H:2},a1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},I4=a1;function o1(e){this.mode=I4.MODE_8BIT_BYTE,this.data=e}o1.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var L4=o1,Ia=i1;function qt(e,t){this.totalCount=e,this.dataCount=t}qt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];qt.getRSBlocks=function(e,t){var r=qt.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=new Array,i=0;i<n;i++)for(var a=r[i*3+0],o=r[i*3+1],u=r[i*3+2],c=0;c<a;c++)s.push(new qt(o,u));return s};qt.getRsBlockTable=function(e,t){switch(t){case Ia.L:return qt.RS_BLOCK_TABLE[(e-1)*4+0];case Ia.M:return qt.RS_BLOCK_TABLE[(e-1)*4+1];case Ia.Q:return qt.RS_BLOCK_TABLE[(e-1)*4+2];case Ia.H:return qt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var D4=qt;function l1(){this.buffer=new Array,this.length=0}l1.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var M4=l1,Mt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Mt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Mt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ie=0;Ie<8;Ie++)Mt.EXP_TABLE[Ie]=1<<Ie;for(var Ie=8;Ie<256;Ie++)Mt.EXP_TABLE[Ie]=Mt.EXP_TABLE[Ie-4]^Mt.EXP_TABLE[Ie-5]^Mt.EXP_TABLE[Ie-6]^Mt.EXP_TABLE[Ie-8];for(var Ie=0;Ie<255;Ie++)Mt.LOG_TABLE[Mt.EXP_TABLE[Ie]]=Ie;var u1=Mt,Xr=u1;function so(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}so.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=Xr.gexp(Xr.glog(this.get(r))+Xr.glog(e.get(n)));return new so(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Xr.glog(this.get(0))-Xr.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=Xr.gexp(Xr.glog(e.get(n))+t);return new so(r,0).mod(e)}};var c1=so,yt=a1,y0=c1,$4=u1,wr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Te={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Te.getBCHDigit(t)-Te.getBCHDigit(Te.G15)>=0;)t^=Te.G15<<Te.getBCHDigit(t)-Te.getBCHDigit(Te.G15);return(e<<10|t)^Te.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Te.getBCHDigit(t)-Te.getBCHDigit(Te.G18)>=0;)t^=Te.G18<<Te.getBCHDigit(t)-Te.getBCHDigit(Te.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Te.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case wr.PATTERN000:return(t+r)%2==0;case wr.PATTERN001:return t%2==0;case wr.PATTERN010:return r%3==0;case wr.PATTERN011:return(t+r)%3==0;case wr.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case wr.PATTERN101:return t*r%2+t*r%3==0;case wr.PATTERN110:return(t*r%2+t*r%3)%2==0;case wr.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new y0([1],0),r=0;r<e;r++)t=t.multiply(new y0([1,$4.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case yt.MODE_NUMBER:return 10;case yt.MODE_ALPHA_NUM:return 9;case yt.MODE_8BIT_BYTE:return 8;case yt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case yt.MODE_NUMBER:return 12;case yt.MODE_ALPHA_NUM:return 11;case yt.MODE_8BIT_BYTE:return 16;case yt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case yt.MODE_NUMBER:return 14;case yt.MODE_ALPHA_NUM:return 13;case yt.MODE_8BIT_BYTE:return 16;case yt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,a=e.isDark(n,s),o=-1;o<=1;o++)if(!(n+o<0||t<=n+o))for(var u=-1;u<=1;u++)s+u<0||t<=s+u||o==0&&u==0||a==e.isDark(n+o,s+u)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var c=0;e.isDark(n,s)&&c++,e.isDark(n+1,s)&&c++,e.isDark(n,s+1)&&c++,e.isDark(n+1,s+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var d=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&d++;var f=Math.abs(100*d/t/t-50)/5;return r+=f*10,r}},F4=Te,B4=L4,d1=D4,h1=M4,Kr=F4,V4=c1;function Kt(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var mt=Kt.prototype;mt.addData=function(e){var t=new B4(e);this.dataList.push(t),this.dataCache=null};mt.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};mt.getModuleCount=function(){return this.moduleCount};mt.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=d1.getRSBlocks(e,this.errorCorrectLevel),r=new h1,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var i=this.dataList[s];r.put(i.mode,4),r.put(i.getLength(),Kr.getLengthInBits(i.mode,e)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};mt.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Kt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};mt.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};mt.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Kr.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};mt.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*s,o=0;o<this.modules[i].length;o++){var u=o*s,c=this.modules[i][o];c&&(n.beginFill(0,100),n.moveTo(u,a),n.lineTo(u+s,a),n.lineTo(u+s,a+s),n.lineTo(u,a+s),n.endFill())}return n};mt.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};mt.setupPositionAdjustPattern=function(){for(var e=Kr.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)i==-2||i==2||a==-2||a==2||i==0&&a==0?this.modules[n+i][s+a]=!0:this.modules[n+i][s+a]=!1}};mt.setupTypeNumber=function(e){for(var t=Kr.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};mt.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Kr.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e};mt.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var o=0;o<2;o++)if(this.modules[n][a-o]==null){var u=!1;i<e.length&&(u=(e[i]>>>s&1)==1);var c=Kr.getMask(t,n,a-o);c&&(u=!u),this.modules[n][a-o]=u,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};Kt.PAD0=236;Kt.PAD1=17;Kt.createData=function(e,t,r){for(var n=d1.getRSBlocks(e,t),s=new h1,i=0;i<r.length;i++){var a=r[i];s.put(a.mode,4),s.put(a.getLength(),Kr.getLengthInBits(a.mode,e)),a.write(s)}for(var o=0,i=0;i<n.length;i++)o+=n[i].dataCount;if(s.getLengthInBits()>o*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+o*8+")");for(s.getLengthInBits()+4<=o*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=o*8||(s.put(Kt.PAD0,8),s.getLengthInBits()>=o*8));)s.put(Kt.PAD1,8);return Kt.createBytes(s,n)};Kt.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),a=new Array(t.length),o=0;o<t.length;o++){var u=t[o].dataCount,c=t[o].totalCount-u;n=Math.max(n,u),s=Math.max(s,c),i[o]=new Array(u);for(var d=0;d<i[o].length;d++)i[o][d]=255&e.buffer[d+r];r+=u;var f=Kr.getErrorCorrectPolynomial(c),h=new V4(i[o],f.getLength()-1),m=h.mod(f);a[o]=new Array(f.getLength()-1);for(var d=0;d<a[o].length;d++){var g=d+m.getLength()-a[o].length;a[o][d]=g>=0?m.get(g):0}}for(var x=0,d=0;d<t.length;d++)x+=t[d].totalCount;for(var w=new Array(x),y=0,d=0;d<n;d++)for(var o=0;o<t.length;o++)d<i[o].length&&(w[y++]=i[o][d]);for(var d=0;d<s;d++)for(var o=0;o<t.length;o++)d<a[o].length&&(w[y++]=a[o][d]);return w};var U4=Kt,tf={};Object.defineProperty(tf,"__esModule",{value:!0});var z4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W4=s1,vt=m1(W4),f1=b,La=m1(f1);function m1(e){return e&&e.__esModule?e:{default:e}}function G4(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var H4={bgColor:vt.default.oneOfType([vt.default.object,vt.default.string]).isRequired,bgD:vt.default.string.isRequired,fgColor:vt.default.oneOfType([vt.default.object,vt.default.string]).isRequired,fgD:vt.default.string.isRequired,size:vt.default.number.isRequired,title:vt.default.string,viewBoxSize:vt.default.number.isRequired,xmlns:vt.default.string},rf=(0,f1.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,s=e.fgD,i=e.fgColor,a=e.size,o=e.title,u=e.viewBoxSize,c=e.xmlns,d=c===void 0?"http://www.w3.org/2000/svg":c,f=G4(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return La.default.createElement("svg",z4({},f,{height:a,ref:t,viewBox:"0 0 "+u+" "+u,width:a,xmlns:d}),o?La.default.createElement("title",null,o):null,La.default.createElement("path",{d:n,fill:r}),La.default.createElement("path",{d:s,fill:i}))});rf.displayName="QRCodeSvg";rf.propTypes=H4;tf.default=rf;Object.defineProperty(gl,"__esModule",{value:!0});gl.QRCode=void 0;var q4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K4=s1,Zt=ta(K4),J4=i1,Q4=ta(J4),Y4=U4,X4=ta(Y4),p1=b,Z4=ta(p1),eR=tf,tR=ta(eR);function ta(e){return e&&e.__esModule?e:{default:e}}function rR(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var nR={bgColor:Zt.default.oneOfType([Zt.default.object,Zt.default.string]),fgColor:Zt.default.oneOfType([Zt.default.object,Zt.default.string]),level:Zt.default.string,size:Zt.default.number,value:Zt.default.string.isRequired},yl=(0,p1.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,s=e.fgColor,i=s===void 0?"#000000":s,a=e.level,o=a===void 0?"L":a,u=e.size,c=u===void 0?256:u,d=e.value,f=rR(e,["bgColor","fgColor","level","size","value"]),h=new X4.default(-1,Q4.default[o]);h.addData(d),h.make();var m=h.modules;return Z4.default.createElement(tR.default,q4({},f,{bgColor:n,bgD:m.map(function(g,x){return g.map(function(w,y){return w?"":"M "+y+" "+x+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:m.map(function(g,x){return g.map(function(w,y){return w?"M "+y+" "+x+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:c,viewBoxSize:m.length}))});gl.QRCode=yl;yl.displayName="QRCode";yl.propTypes=nR;var nf=gl.default=yl;const sR="/assets/or_avec_texte_no_bk-removebg-preview-ICZ4bDYD.png",iR=()=>{const[e,t]=b.useState(!1);return l.jsxs("div",{className:"relative w-full max-w-lg mx-auto h-[340px] font-montserrat",style:{perspective:"1500px"},children:[l.jsxs(N.div,{className:"relative w-full h-full cursor-pointer",animate:{rotateY:e?180:0},transition:{duration:.8,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},onClick:()=>t(!e),children:[l.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-gold-glow-lg",style:{backfaceVisibility:"hidden"},children:l.jsxs("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-900 via-black to-neutral-950 border-2 border-gold-600/30 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-spotlight opacity-50"}),l.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[l.jsx("div",{className:"flex justify-end items-start",children:l.jsx(p0,{className:"w-7 h-7 text-gold-500 animate-pulse"})}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6",children:[l.jsx("div",{className:"bg-white p-4 rounded-xl shadow-gold-glow",children:l.jsx(nf,{value:"https://obsi.digitalproconseil.fr",size:140,level:"H"})}),l.jsx("h3",{className:"text-white text-2xl font-bold tracking-tight text-center",children:"Prnom Nom"})]})]}),l.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-gold-500/10 pointer-events-none"})]})}),l.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-gold-glow-lg",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:l.jsxs("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-neutral-950 via-black to-neutral-900 border-2 border-gold-600/30 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-spotlight opacity-50"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"radial-gradient(circle at center, rgba(202, 138, 4, 0.15) 0%, transparent 60%)"}}),l.jsxs("div",{className:"relative h-full p-6 flex flex-col",children:[l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 blur-2xl opacity-60",style:{background:"radial-gradient(circle, rgba(202, 138, 4, 0.4) 0%, transparent 70%)",transform:"scale(1.2)"}}),l.jsx("img",{src:sR,alt:"OBSI - une Carte, un Geste, un Lien",className:"w-72 h-auto object-contain relative z-10",style:{filter:"drop-shadow(0 0 20px rgba(202, 138, 4, 0.5)) drop-shadow(0 0 40px rgba(202, 138, 4, 0.3))",backgroundColor:"transparent"}})]})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-warmGray-500 text-xs",children:[l.jsx(p0,{className:"w-4 h-4"}),l.jsx("span",{children:"NFC Enabled"})]})]}),l.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-gold-500/10 pointer-events-none"})]})})]}),l.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-center text-warmGray-400 text-sm",children:"Cliquez pour retourner la carte"})]})},aR={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}},exit:{opacity:0,y:20}},oR={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95}},g1={initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}}},Uo={initial:{},animate:{transition:{staggerChildren:.2,delayChildren:.3}}},lt={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},lR={rest:{scale:1,transition:{type:"spring",stiffness:300,damping:20}},hover:{scale:1.02,y:-4,transition:{type:"spring",stiffness:400,damping:15}},tap:{scale:.98}},uR={rest:{scale:1},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.98}};function y1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=y1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vi(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=y1(e))&&(n&&(n+=" "),n+=t);return n}function we({children:e,variant:t="default",hover:r=!0,className:n="",onClick:s}){const i="rounded-xl overflow-hidden",a={default:"bg-white border border-neutral-200 shadow-premium-sm",premium:"bg-gradient-to-br from-white to-neutral-50 border border-amber-200 shadow-premium-md relative before:absolute before:inset-0 before:rounded-xl before:p-[1px] before:bg-gradient-amber before:-z-10",glassmorphism:"bg-white/70 backdrop-blur-md border border-white/20 shadow-premium-lg","glassmorphism-dark":"bg-black/60 backdrop-blur-md border border-gold-500/20 shadow-gold-md hover:border-gold-500/40 hover:shadow-gold-glow transition-all duration-300","dark-premium":"bg-gradient-to-br from-neutral-900 to-black border border-gold-500/20 shadow-gold-md hover:border-gold-500/40 hover:shadow-gold-glow transition-all duration-300"},o=r?N.div:"div",u=r?{variants:lR,initial:"rest",whileHover:"hover",whileTap:"tap"}:{};return l.jsx(o,{className:Vi(i,a[t],n,s&&"cursor-pointer"),onClick:s,...u,children:e})}function Oe({children:e,className:t=""}){return l.jsx("div",{className:Vi("p-6",t),children:e})}const cR=()=>{const[e,t]=pl({triggerOnce:!0,threshold:.1}),r=[{icon:Bi,title:"Diffrents Profils",description:"Donnez de la visibilit  tout vos projets en mme temps"},{icon:m4,title:"Puce NFC intgre",description:"Pour facilit les changes de coordones"},{icon:Kh,title:"Description vido",description:"Soyez pertinent et mmorable aux yeux de votre rseau"},{icon:l4,title:"Livre chez vous",description:"livraison sous 72h maximum"}];return l.jsxs("section",{ref:e,className:"relative py-32 overflow-hidden font-montserrat",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/15 via-transparent to-transparent opacity-50"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-to-br from-gold-500/20 to-transparent rounded-full blur-3xl"}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(N.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-20",children:[l.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"La carte qu'il vous faut,"}),l.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700 max-w-3xl mx-auto",children:"Une carte qui fait la diffrence"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[l.jsx(N.div,{initial:{opacity:0,x:-50},animate:t?{opacity:1,x:0}:{},transition:{duration:1.2,delay:.3},children:l.jsx(iR,{})}),l.jsx(N.div,{variants:Uo,initial:"initial",animate:t?"animate":"initial",className:"space-y-6",children:r.map(n=>{const s=n.icon;return l.jsx(N.div,{variants:lt,children:l.jsx(we,{variant:"dark-premium",hover:!0,className:"group",children:l.jsxs("div",{className:"p-5 flex gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(s,{className:"w-5 h-5 text-black"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-warmGray-50 mb-1.5",children:n.title}),l.jsx("p",{className:"text-sm text-warmGray-200",children:n.description})]})]})})},n.title)})})]}),l.jsx(N.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.8},className:"text-center",children:l.jsxs("div",{className:"inline-flex items-center gap-2 text-gold-700 text-lg font-semibold",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"}),l.jsx("span",{children:"Commandez la vtre maintenant"}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-500 shadow-gold-glow animate-pulse"})]})})]})]})},dR=()=>{const[e,t]=pl({triggerOnce:!0,threshold:.1}),r=[{icon:Xw,title:"Profils multiples",description:"Crez plusieurs profils professionnels sur une seule carte",color:"from-gold-400 to-gold-600"},{icon:Zw,title:"Description texte et vido",description:"Prsentez-vous en 360 avec texte, bio, et vido d'introduction",color:"from-gold-500 to-gold-700"},{icon:qP,title:"Stockage de documents",description:"Partagez CV, portfolio, brochures, catalogues",color:"from-gold-400 to-gold-600"}],n=[{icon:qh,title:"Entreprise",subtitle:"Dirigeants, entrepreneurs, commerciaux",description:"Un profil professionnel qui inspire confiance",color:"from-gold-400 to-gold-600"},{icon:Jh,title:"tudiants",subtitle:"Stages, alternance, premier emploi",description:"Dmarquez-vous avec un profil moderne",color:"from-blue-400 to-blue-600"},{icon:Xh,title:"Artistes",subtitle:"Crateurs, performeurs, designers",description:"Exposez votre crativit",color:"from-purple-400 to-pink-500"}];return l.jsxs("section",{ref:e,className:"relative py-20",children:[l.jsxs("div",{className:"absolute inset-0 opacity-40",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gold-500/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-blue-500/15 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-rose-500/15 rounded-full blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(N.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"Votre identit professionnelle, sans limites"}),l.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700 max-w-3xl mx-auto",children:"Bien plus qu'une simple carte de visite"})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx(N.h3,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.3,duration:.8},className:"text-2xl font-bold text-warmGray-800 mb-6 text-center",children:"Vos fonctionnalits"}),l.jsx(N.div,{variants:Uo,initial:"initial",animate:t?"animate":"initial",className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:r.map(s=>{const i=s.icon;return l.jsx(N.div,{variants:lt,children:l.jsx(we,{variant:"dark-premium",hover:!0,className:"h-full group",children:l.jsxs("div",{className:"p-5",children:[l.jsx(N.div,{className:`w-12 h-12 bg-gradient-to-br ${s.color} rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-gold-md`,children:l.jsx(i,{className:"w-6 h-6 text-black"})}),l.jsx("h4",{className:"text-xl font-bold text-warmGray-50 mb-3",children:s.title}),l.jsx("p",{className:"text-warmGray-200 text-base leading-relaxed",children:s.description})]})})},s.title)})})]}),l.jsxs("div",{children:[l.jsx(N.h3,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.6,duration:.8},className:"text-2xl font-bold text-warmGray-800 mb-6 text-center",children:"Vos profils"}),l.jsx(N.div,{variants:Uo,initial:"initial",animate:t?"animate":"initial",className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:n.map((s,i)=>{const a=s.icon;return l.jsx(N.div,{variants:lt,transition:{delay:i*.1+.3},children:l.jsx(we,{variant:"dark-premium",hover:!0,className:"h-full group",children:l.jsxs("div",{className:"p-5",children:[l.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${s.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-gold-md`,children:l.jsx(a,{className:"w-5 h-5 text-white"})}),l.jsx("div",{className:`inline-block px-3 py-1 rounded-full bg-gradient-to-r ${s.color} text-white text-xs font-bold mb-3`,children:s.title}),l.jsx("h4",{className:"text-base font-bold text-warmGray-50 mb-2",children:s.subtitle}),l.jsx("p",{className:"text-warmGray-200 text-sm",children:s.description})]})})},s.title)})})]}),l.jsx(N.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{delay:1,duration:1},className:"text-center mt-10",children:l.jsx("p",{className:"text-warmGray-600 text-lg",children:"Et bien plus encore : freelances, consultants, artisans, associations..."})})]})]})};function ne({children:e,variant:t="primary",size:r="md",fullWidth:n=!1,loading:s=!1,disabled:i,className:a="",...o}){const u="font-semibold rounded-lg inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",c={primary:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-premium-md hover:shadow-premium-lg font-semibold",secondary:"bg-neutral-100 hover:bg-neutral-200 text-neutral-900 border border-neutral-300 shadow-premium-sm",outline:"border-2 border-amber-500/50 hover:border-amber-500 text-amber-500 hover:text-amber-400 hover:bg-amber-500/10 shadow-premium-sm",danger:"bg-red-600 hover:bg-red-700 text-white shadow-premium-md",gold:"bg-gradient-to-r from-gold-400 to-gold-600 hover:from-gold-500 hover:to-gold-700 text-black shadow-gold-lg hover:shadow-gold-glow font-bold transition-all duration-300","gold-outline":"border-2 border-gold-500/50 hover:border-gold-500 text-gold-400 hover:text-gold-300 hover:bg-gold-500/10 shadow-gold-sm hover:shadow-gold-md transition-all duration-300"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},f=n?"w-full":"";return l.jsxs(N.button,{className:Vi(u,c[t],d[r],f,a),disabled:i||s,variants:uR,initial:"rest",whileHover:"hover",whileTap:"tap",...o,children:[s?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(N.div,{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),l.jsx("span",{children:"Chargement..."})]}):e,l.jsx(N.div,{className:"absolute inset-0 bg-white opacity-0 hover:opacity-10",initial:{opacity:0},whileHover:{opacity:.1},transition:{duration:.2}})]})}const hR=()=>{const[e,t]=pl({triggerOnce:!0,threshold:.1}),r=[{name:"Pack Roc",icon:vu,price:"19,90",period:"/mois pendant 1 an",features:["1 profil personnalis","1 carte NFC premium","Partage illimit","QR code dynamique"],highlighted:!1,color:"from-gray-500 to-gray-700"},{name:"Pack Saphir",icon:vu,price:"24,90",period:"/mois pendant 1 an",features:["Tout du Pack Roc","3 profils personnaliss","Pitch vido intgr","CRM intgr","Statistiques avances"],highlighted:!0,recommended:!0,color:"from-[#3B82F6] to-[#2563EB]"},{name:"Pack Emeraude",icon:vu,price:"34,90",period:"/mois pendant 1 an",features:["Tout des Packs Roc & Saphir","Logo personnalis sur carte","Adhsion au club VIP","Support prioritaire","Accs exclusif aux vnements"],highlighted:!1,color:"from-emerald-600 to-emerald-800"}],n=[{name:"Carte de Remplacement",price:"29,90"},{name:"Personnalisation couleur Mtal",price:"+10"}];return l.jsxs("section",{ref:e,className:"relative py-32",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-400/10 via-transparent to-transparent opacity-30"}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(N.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2},className:"text-center mb-20",children:[l.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gold-700 mb-6 tracking-tight",children:"Nos Offres"}),l.jsx("p",{className:"text-xl md:text-2xl text-warmGray-700",children:"Choisissez le pack qui vous correspond"})]}),l.jsx(N.div,{variants:Uo,initial:"initial",animate:t?"animate":"initial",className:"grid md:grid-cols-3 gap-8 mb-20",children:r.map(s=>{const i=s.icon;return l.jsxs(N.div,{variants:lt,className:"relative",children:[s.recommended&&l.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 z-20",children:l.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-semibold bg-gradient-to-r from-gold-500 to-gold-600 text-white shadow-gold-md",children:"Recommand"})}),l.jsx(we,{variant:"dark-premium",className:`relative ${s.highlighted?"ring-2 ring-[#3B82F6]/50 shadow-xl transform scale-105":""}`,children:l.jsxs(Oe,{className:"p-6",children:[l.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${s.color} flex items-center justify-center mb-4 shadow-lg`,children:l.jsx(i,{className:"w-9 h-9 text-white"})}),l.jsx("h3",{className:"text-2xl font-bold text-warmGray-50 mb-2",children:s.name})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[l.jsx("span",{className:"text-5xl font-bold text-gold-400",children:s.price}),l.jsx("span",{className:"text-xl text-warmGray-300",children:""})]}),l.jsx("p",{className:"text-sm text-warmGray-300 mt-2",children:s.period})]}),l.jsx(ne,{variant:s.highlighted?"primary":"secondary",className:"w-full",children:"Choisir ce pack"})]})})]},s.name)})}),l.jsxs(N.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.3},className:"max-w-5xl mx-auto mb-20",children:[l.jsx("h3",{className:"text-3xl font-bold text-gold-700 text-center mb-10",children:"Comparaison dtaille"}),l.jsx(we,{variant:"dark-premium",className:"overflow-hidden",children:l.jsx(Oe,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-neutral-700",children:[l.jsx("th",{className:"text-left p-4 md:p-6 font-semibold text-warmGray-50 bg-neutral-800/30",children:"Fonctionnalits"}),l.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-warmGray-200 bg-neutral-800/30",children:"Pack Roc"}),l.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-[#3B82F6] bg-[#3B82F6]/20",children:"Pack Saphir"}),l.jsx("th",{className:"text-center p-4 md:p-6 font-semibold text-emerald-400 bg-emerald-900/20",children:"Pack Emeraude"})]})}),l.jsxs("tbody",{className:"divide-y divide-neutral-700",children:[l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Profils personnaliss"}),l.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"1"}),l.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"3"}),l.jsx("td",{className:"p-4 md:p-6 text-center text-warmGray-200",children:"Illimits"})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Carte NFC premium"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Partage illimit"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"QR code dynamique"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Pitch vido intgr"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"CRM intgr"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Statistiques avances"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Logo personnalis sur carte"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Adhsion au club VIP"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Support prioritaire"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]}),l.jsxs("tr",{className:"hover:bg-neutral-800/30 transition-colors",children:[l.jsx("td",{className:"p-4 md:p-6 text-warmGray-100 font-medium",children:"Accs exclusif aux vnements"}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-700 flex items-center justify-center",children:l.jsx(Fe,{className:"w-4 h-4 text-warmGray-500"})})})}),l.jsx("td",{className:"p-4 md:p-6 text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center",children:l.jsx(pe,{className:"w-4 h-4 text-white"})})})})]})]})]})})})})]}),l.jsxs(N.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:1.2,delay:.4},className:"max-w-3xl mx-auto",children:[l.jsx("h3",{className:"text-3xl font-bold text-gold-700 text-center mb-10",children:"Services Additionnels"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map(s=>l.jsx(we,{variant:"dark-premium",className:"transition-all duration-300 hover:shadow-gold-glow",children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx("h4",{className:"font-semibold text-warmGray-50 mb-2",children:s.name}),l.jsxs("p",{className:"text-2xl font-bold text-gold-400",children:[s.price,""]})]})})},s.name))})]})]})]})};function fR(){const e={product:[{label:"Fonctionnalits",href:"/signup"},{label:"Templates",href:"/signup"},{label:"Cartes NFC",href:"/signup"},{label:"Exemples",href:"/#examples"}],resources:[{label:"Guide de dmarrage",href:"/signup"},{label:"Documentation",href:"/signup"},{label:"Support",href:"/signup"},{label:"FAQ",href:"/#faq"}],company:[{label:" propos",href:"/#about"},{label:"Contact",href:"/#contact"},{label:"Blog",href:"/#blog"}],legal:[{label:"Confidentialit",href:"/#privacy"},{label:"Conditions",href:"/#terms"},{label:"Mentions lgales",href:"/#legal"}]};return l.jsx("footer",{className:"bg-warmGray-800 border-t border-gold-500/30",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8 mb-8",children:[l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx(K,{to:"/",className:"inline-block mb-4",children:l.jsx(N.h2,{className:"text-2xl font-bold bg-gradient-gold-shimmer bg-clip-text text-transparent",whileHover:{scale:1.05},children:"Obsi"})}),l.jsx("p",{className:"text-warmGray-300 text-sm mb-4",children:"Carte de visite noire premium avec QR code et carte NFC pr-configure."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("a",{href:"mailto:contact@obsi.fr",className:"flex items-center gap-2 text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:[l.jsx(Qh,{className:"w-4 h-4"}),"contact@obsi.fr"]}),l.jsxs("a",{href:"tel:+33123456789",className:"flex items-center gap-2 text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:[l.jsx(Zh,{className:"w-4 h-4"}),"+33 1 23 45 67 89"]}),l.jsxs("div",{className:"flex items-center gap-2 text-warmGray-300 text-sm",children:[l.jsx(Yh,{className:"w-4 h-4"}),"Paris, France"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Produit"}),l.jsx("ul",{className:"space-y-2",children:e.product.map((t,r)=>l.jsx("li",{children:l.jsx(K,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`product-${r}`))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Ressources"}),l.jsx("ul",{className:"space-y-2",children:e.resources.map((t,r)=>l.jsx("li",{children:l.jsx(K,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`resources-${r}`))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Entreprise"}),l.jsx("ul",{className:"space-y-2",children:e.company.map((t,r)=>l.jsx("li",{children:l.jsx(K,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`company-${r}`))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gold-400 font-semibold mb-4",children:"Lgal"}),l.jsx("ul",{className:"space-y-2",children:e.legal.map((t,r)=>l.jsx("li",{children:l.jsx(K,{to:t.href,className:"text-warmGray-300 hover:text-gold-400 transition-colors text-sm",children:t.label})},`legal-${r}`))})]})]}),l.jsxs("div",{className:"pt-8 border-t border-gold-500/30 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsx("p",{className:"text-warmGray-400 text-sm text-center md:text-left",children:" 2025 Obsi. Tous droits rservs."}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(K,{to:"/#",className:"text-warmGray-400 hover:text-gold-400 transition-colors text-sm",children:"Politique de confidentialit"}),l.jsx("span",{className:"text-gold-500/40",children:""}),l.jsx(K,{to:"/#",className:"text-warmGray-400 hover:text-gold-400 transition-colors text-sm",children:"Conditions d'utilisation"})]})]})]})})}function mR(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-beige-200 via-warmGray-200 to-beige-200",children:[l.jsx(w4,{}),l.jsxs("main",{children:[l.jsx(k4,{}),l.jsx(cR,{}),l.jsx(dR,{}),l.jsx(hR,{})]}),l.jsx(fR,{})]})}const ge=b.forwardRef(({label:e,error:t,helperText:r,success:n,className:s="",...i},a)=>{const[o,u]=b.useState(!1);return l.jsxs("div",{className:"w-full",children:[e&&l.jsx(N.label,{className:Vi("block text-sm font-medium mb-1 transition-colors",o?"text-amber-600":"text-neutral-700",t&&"text-red-600"),animate:{y:o?-2:0},transition:{duration:.2},children:e}),l.jsxs("div",{className:"relative",children:[l.jsx(N.input,{ref:a,className:Vi("w-full px-4 py-2.5 rounded-lg transition-all duration-200","border-2 focus:outline-none",t?"border-red-500 focus:border-red-600 focus:ring-2 focus:ring-red-500/20 bg-white":n?"border-green-500 focus:border-green-600 focus:ring-2 focus:ring-green-500/20 bg-white":"border-neutral-300 focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 bg-white","text-neutral-900 placeholder:text-neutral-500",s),onFocus:()=>u(!0),onBlur:()=>u(!1),animate:{scale:o?1.01:1},transition:{duration:.2},...i}),l.jsxs($o,{children:[t&&l.jsx(N.div,{initial:{opacity:0,scale:.8,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute right-3 top-1/2 -translate-y-1/2",children:l.jsx(ro,{className:"w-5 h-5 text-red-500"})}),n&&!t&&l.jsx(N.div,{initial:{opacity:0,scale:.8,rotate:-10},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:15},className:"absolute right-3 top-1/2 -translate-y-1/2",children:l.jsx(Hw,{className:"w-5 h-5 text-green-500"})})]})]}),l.jsxs($o,{mode:"wait",children:[t&&l.jsx(N.p,{initial:{opacity:0,y:-10,x:-5},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-red-600 flex items-center gap-1.5",children:l.jsx(N.span,{animate:{x:[-2,2,-2,2,0]},transition:{duration:.4},children:t})}),r&&!t&&l.jsx(N.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1.5 text-sm text-neutral-600",children:r})]})]})});ge.displayName="Input";function pR(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,o]=b.useState(!1),{signIn:u}=yr(),c=Gr();async function d(f){f.preventDefault(),i(""),o(!0);const{error:h}=await u(e,r);h?(i(h.message),o(!1)):c("/dashboard")}return l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4 relative overflow-hidden",children:[l.jsx(N.div,{className:"absolute inset-0 opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.15) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),l.jsxs(N.div,{variants:oR,initial:"initial",animate:"animate",className:"max-w-md w-full relative z-10",children:[l.jsxs(N.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-8",children:[l.jsx(K,{to:"/",className:"inline-block",children:l.jsx("h1",{className:"text-3xl font-bold bg-gradient-amber bg-clip-text text-transparent mb-2",children:"Obsi"})}),l.jsx("p",{className:"text-neutral-600 text-sm",children:"Solution premium pour professionnels"})]}),l.jsx(we,{variant:"default",className:"bg-white border-neutral-200 shadow-premium-lg",children:l.jsxs(Oe,{children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(N.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.3},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:l.jsx(ZP,{className:"w-8 h-8 text-black"})}),l.jsx(N.h1,{variants:aR,initial:"initial",animate:"animate",transition:{delay:.4},className:"text-3xl font-bold text-neutral-900",children:"Bon retour"}),l.jsx(N.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-neutral-600 mt-2",children:"Connectez-vous  votre compte"})]}),l.jsxs(N.form,{onSubmit:d,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4",children:[l.jsx(ge,{label:"Email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"vous@exemple.com",required:!0}),l.jsx(ge,{label:"Mot de passe",type:"password",value:r,onChange:f=>n(f.target.value),placeholder:"Entrez votre mot de passe",required:!0}),s&&l.jsx(N.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg text-sm backdrop-blur-sm",children:s}),l.jsx(ne,{type:"submit",fullWidth:!0,loading:a,variant:"secondary",children:"Se connecter"})]}),l.jsxs(N.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center text-neutral-600",children:["Pas encore de compte ?"," ",l.jsx(K,{to:"/signup",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"S'inscrire"})]})]})}),l.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-6 text-center",children:l.jsxs(K,{to:"/",className:"inline-flex items-center gap-2 text-sm text-neutral-600 hover:text-amber-600 transition-colors",children:[l.jsx(Bi,{className:"w-4 h-4"}),l.jsx("span",{children:"Dcouvrir Obsi"})]})})]})]})}function gR(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,o]=b.useState(""),[u,c]=b.useState(!1),{signUp:d}=yr(),f=Gr();async function h(m){if(m.preventDefault(),o(""),r!==s){o("Les mots de passe ne correspondent pas");return}if(r.length<6){o("Le mot de passe doit contenir au moins 6 caractres");return}c(!0);const{error:g}=await d(e,r);g?(o(g.message),c(!1)):f("/onboarding")}return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 px-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white border border-neutral-200 rounded-2xl shadow-premium-lg p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-amber rounded-full mb-4 shadow-amber-glow",children:l.jsx(d4,{className:"w-8 h-8 text-black"})}),l.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Crer un compte"}),l.jsx("p",{className:"text-neutral-600 mt-2",children:"Commencez votre parcours profil professionnel numrique"})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx(ge,{label:"Email",type:"email",value:e,onChange:m=>t(m.target.value),placeholder:"vous@exemple.com",required:!0}),l.jsx(ge,{label:"Mot de passe",type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Au moins 6 caractres",required:!0}),l.jsx(ge,{label:"Confirmer le mot de passe",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"Confirmez votre mot de passe",required:!0}),a&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),l.jsx(ne,{type:"submit",fullWidth:!0,loading:u,children:"Crer mon compte"})]}),l.jsxs("p",{className:"mt-6 text-center text-neutral-600",children:["Dj un compte ?"," ",l.jsx(K,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-semibold transition-colors",children:"Se connecter"})]})]})})}function vl(){const{user:e}=yr(),[t,r]=b.useState(null),[n,s]=b.useState(!0),[i,a]=b.useState(null);return b.useEffect(()=>{if(!e){r(null),s(!1);return}async function c(){try{const{data:d,error:f}=await Q.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(f)throw f;r(d)}catch(d){a(d instanceof Error?d.message:"Failed to fetch profile")}finally{s(!1)}}c()},[e]),{profile:t,loading:n,error:i,updateProfile:async c=>{if(!e||!t)return{error:"No user or profile found"};try{const{error:d}=await Q.from("profiles").update(c).eq("id",t.id);if(d)throw d;return r({...t,...c}),{error:null}}catch(d){return{error:d instanceof Error?d.message:"Failed to update profile"}}},createProfile:async c=>{if(!e)return{error:"No user found"};try{const{data:d,error:f}=await Q.from("profiles").insert({user_id:e.id,username:c.username,full_name:c.full_name,title:c.title||"",email:c.email||"",phone:c.phone||"",bio:"",website:"",profile_photo_url:"",video_url:"",pdf_url:"",social_links:{},design_template:"modern",qr_customization:{},lead_collection_enabled:!1,lead_form_fields:{name:!0,email:!0,phone:!1,message:!1},is_active:!0,view_count:0,sector:c.sector||"personnalise",custom_fields:c.custom_fields||[]}).select().single();if(f)throw f;return r(d),await Q.from("subscriptions").insert({user_id:e.id,tier:"free",status:"active"}),{error:null,profile:d}}catch(d){return{error:d instanceof Error?d.message:"Failed to create profile",profile:null}}}}}const yR={landmark:Kw,"building-2":qh,"graduation-cap":Jh,user:h4,palette:Xh,settings:Yw};function vR({onSelect:e,selectedTemplate:t}){const[r,n]=b.useState([]),[s,i]=b.useState(!0);return b.useEffect(()=>{async function a(){try{const{data:o,error:u}=await Q.from("profile_templates").select("*").eq("is_active",!0).order("created_at",{ascending:!0});if(u)throw u;n(o||[])}catch(o){console.error("Error fetching templates:",o)}finally{i(!1)}}a()},[]),s?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-2",children:"Choisissez votre secteur"}),l.jsx("p",{className:"text-warmGray-600",children:"Slectionnez le template qui correspond le mieux  votre activit"})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(a=>{const o=yR[a.icon]||Yw,u=(t==null?void 0:t.id)===a.id,c=a.name==="politique";return l.jsxs("button",{onClick:()=>e(a),className:`relative p-6 rounded-xl border-2 transition-all text-left ${u?"border-gold-600 bg-gold-50":"border-warmGray-200 hover:border-gold-300 bg-white hover:bg-warmGray-50"}`,children:[c&&l.jsx("div",{className:"absolute -top-3 left-4 px-3 py-1 bg-gradient-gold text-navy-900 text-xs font-semibold rounded-full",children:"Recommand"}),u&&l.jsx("div",{className:"absolute -top-3 right-4 w-8 h-8 bg-gold-600 rounded-full flex items-center justify-center",children:l.jsx(pe,{className:"w-5 h-5 text-navy-900"})}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${u?"bg-gold-100":"bg-warmGray-100"}`,children:l.jsx(o,{className:`w-6 h-6 ${u?"text-gold-600":"text-warmGray-600"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-navy-900 mb-1",children:a.label}),l.jsx("p",{className:"text-sm text-warmGray-600 mb-3",children:a.description}),a.default_fields&&a.default_fields.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-warmGray-500",children:"Champs inclus :"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.default_fields.slice(0,3).map(d=>l.jsx("span",{className:"inline-block px-2 py-0.5 bg-warmGray-100 text-warmGray-700 rounded text-xs",children:d.label},d.id)),a.default_fields.length>3&&l.jsxs("span",{className:"inline-block px-2 py-0.5 text-warmGray-500 text-xs",children:["+",a.default_fields.length-3," autres"]})]})]})]})]})]},a.id)})}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-900",children:[l.jsx("span",{className:"font-semibold",children:"Plan gratuit :"})," 3 champs personnaliss supplmentaires inclus"]})})]})}function xR(){const[e,t]=b.useState("template"),[r,n]=b.useState(null),[s,i]=b.useState(""),[a,o]=b.useState(""),[u,c]=b.useState(""),[d,f]=b.useState(""),[h,m]=b.useState(""),[g,x]=b.useState(""),[w,y]=b.useState(!1),{createProfile:v}=vl(),p=Gr();async function _(j){j.preventDefault(),x(""),y(!0);const k=s.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");if(k.length<3){x("Le nom d'utilisateur doit contenir au moins 3 caractres"),y(!1);return}const{error:S}=await v({username:k,full_name:a,title:u,email:h,phone:d,sector:(r==null?void 0:r.name)||"personnalise",custom_fields:(r==null?void 0:r.default_fields)||[]});S?(S.includes("unique")?x("Nom d'utilisateur dj pris. Veuillez en choisir un autre."):x(S),y(!1)):p("/dashboard")}return e==="template"?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:l.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:l.jsx(Bi,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Crez votre carte numrique"}),l.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 1 sur 2"})]}),l.jsx(vR,{onSelect:n,selectedTemplate:r}),l.jsx("div",{className:"mt-8 flex justify-end",children:l.jsx(ne,{onClick:()=>t("details"),disabled:!r,size:"lg",children:"Continuer"})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-warmGray-100 px-4 py-12",children:l.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("button",{onClick:()=>t("template"),className:"flex items-center gap-2 text-warmGray-600 hover:text-warmGray-900 transition-colors",children:[l.jsx(Hh,{className:"w-4 h-4"}),"Retour"]})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:l.jsx(Bi,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h1",{className:"text-3xl font-bold text-warmGray-900",children:"Vos informations"}),l.jsx("p",{className:"text-warmGray-600 mt-2",children:"tape 2 sur 2 - Cela prend moins de 60 secondes"})]}),l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(ge,{label:"Nom complet",value:a,onChange:j=>o(j.target.value),placeholder:"Jean Dupont",required:!0}),l.jsx(ge,{label:"Nom d'utilisateur",value:s,onChange:j=>i(j.target.value),placeholder:"jeandupont",helperText:"Votre URL unique : app.com/votre-nom",required:!0})]}),l.jsx(ge,{label:"Titre / Profession",value:u,onChange:j=>c(j.target.value),placeholder:"ex: Responsable Marketing, Designer Freelance"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(ge,{label:"Tlphone",type:"tel",value:d,onChange:j=>f(j.target.value),placeholder:"+33 6 12 34 56 78"}),l.jsx(ge,{label:"Email",type:"email",value:h,onChange:j=>m(j.target.value),placeholder:"jean@exemple.com"})]}),g&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:g}),l.jsx(ne,{type:"submit",fullWidth:!0,size:"lg",loading:w,children:"Crer ma carte"}),l.jsx("p",{className:"text-center text-sm text-warmGray-500",children:"Vous pourrez ajouter plus de dtails et personnaliser votre carte plus tard"})]})]})})}function v1(e){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0),[o,u]=b.useState(null);return b.useEffect(()=>{if(!e){a(!1);return}async function c(){try{a(!0),u(null);const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(f.getTime()-7*24*60*60*1e3),g=new Date(f.getFullYear(),f.getMonth(),1),{data:x,error:w}=await Q.from("profile_analytics").select("*").eq("profile_id",e).order("created_at",{ascending:!1});if(w)throw w;const y=x||[],v=y.filter(C=>C.event_type==="view").length,p=y.filter(C=>C.event_type==="vcard_download").length,_=y.filter(C=>C.event_type==="link_click").length,j=v>0?p/v*100:0,k={mobile:y.filter(C=>C.device_type==="mobile").length,desktop:y.filter(C=>C.device_type==="desktop").length,tablet:y.filter(C=>C.device_type==="tablet").length},S=y.slice(0,20);r({totalViews:v,totalDownloads:p,totalLinkClicks:_,conversionRate:j,deviceBreakdown:k,recentEvents:S});const E=C=>{const R=y.filter(M=>new Date(M.created_at)>=C);return{views:R.filter(M=>M.event_type==="view").length,downloads:R.filter(M=>M.event_type==="vcard_download").length,clicks:R.filter(M=>M.event_type==="link_click").length}};s({today:E(h),thisWeek:E(m),thisMonth:E(g),total:{views:v,downloads:p,clicks:_}})}catch(f){console.error("Error fetching analytics:",f),u(f.message||"Erreur lors du chargement des statistiques")}finally{a(!1)}}c();const d=setInterval(c,5*60*1e3);return()=>clearInterval(d)},[e]),{analytics:t,periods:n,loading:i,error:o}}function vn({to:e,label:t,description:r,icon:n,external:s=!1,variant:i="default"}){return i==="card"?l.jsx(N.div,{whileHover:{scale:1.02,y:-2},className:"bg-white border border-amber-200 rounded-lg p-4 hover:border-amber-400 transition-colors shadow-premium-sm",children:l.jsxs(K,{to:e,className:"flex items-start gap-3",children:[n&&l.jsx("div",{className:"text-amber-600 mt-1",children:n}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"text-neutral-900 font-semibold mb-1 flex items-center gap-2",children:[t,s?l.jsx(h0,{className:"w-4 h-4"}):l.jsx(d0,{className:"w-4 h-4"})]}),r&&l.jsx("p",{className:"text-neutral-600 text-sm",children:r})]})]})}):l.jsxs(K,{to:e,className:"inline-flex items-center gap-2 text-amber-600 hover:text-amber-700 transition-colors text-sm font-medium",children:[n,t,s?l.jsx(h0,{className:"w-4 h-4"}):l.jsx(d0,{className:"w-4 h-4"})]})}function x1({profile:e,className:t=""}){const[r,n]=b.useState(!1),s=`${window.location.origin}/${e.username}`;return l.jsx("div",{className:t,style:{perspective:"1000px"},children:l.jsxs(N.div,{className:"relative w-full cursor-pointer",style:{transformStyle:"preserve-3d"},onClick:()=>n(!r),animate:{rotateY:r?180:0},transition:{duration:.6,type:"spring",stiffness:100},children:[l.jsx(N.div,{className:"relative w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden"},children:l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(96, 165, 250, 0.1) 10px, rgba(96, 165, 250, 0.1) 11px)"}}),l.jsxs("div",{className:"relative h-full flex flex-col justify-between p-4 sm:p-6 lg:p-8",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx(N.div,{className:"inline-block bg-blue-400 rounded-lg px-3 py-1.5",whileHover:{scale:1.05},children:l.jsx("span",{className:"text-xs sm:text-sm font-bold text-blue-900",children:"PREMIUM"})}),l.jsx(N.div,{className:"bg-blue-400 p-2 rounded-lg",animate:{boxShadow:["0 0 0 0 rgba(96, 165, 250, 0.4)","0 0 0 10px rgba(96, 165, 250, 0)","0 0 0 0 rgba(96, 165, 250, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:l.jsx(Qw,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-900"})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 gap-2 sm:gap-3",children:[l.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-white text-center tracking-tight",children:e.full_name||"Votre Nom"}),l.jsx(N.div,{className:"bg-white p-2 sm:p-3 rounded-xl flex-shrink-0 shadow-2xl",children:l.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-28 lg:h-28",children:l.jsx(nf,{value:s,size:112,level:"H",fgColor:"#1e3a8a",style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),l.jsx(N.p,{className:"text-blue-200 text-xs sm:text-sm font-medium text-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Scannez le code QR pour accder au profil"})]})]})]})}),l.jsx(N.div,{className:"absolute inset-0 w-full aspect-[1.5/1] sm:aspect-[1.7/1] rounded-2xl shadow-premium-lg",style:{transformStyle:"preserve-3d",backfaceVisibility:"hidden",rotateY:180},children:l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 rounded-2xl overflow-hidden border border-blue-500/20",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 20px, rgba(96, 165, 250, 0.1) 20px, rgba(96, 165, 250, 0.1) 21px)"}}),l.jsx("div",{className:"relative h-full flex flex-col items-center justify-center p-8",children:l.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[l.jsx("div",{className:"w-28 h-28 sm:w-36 sm:h-36 mx-auto bg-blue-400 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/50",children:l.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-blue-900",children:"LOGO"})}),l.jsx("p",{className:"text-white text-sm sm:text-base font-semibold",children:"Votre Service Premium"}),l.jsx("p",{className:"text-blue-200 text-xs sm:text-sm",children:s})]})})]})}),l.jsx(N.div,{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-900/90 backdrop-blur-sm px-4 py-2 rounded-full whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5},children:l.jsxs("p",{className:"text-blue-200 text-xs font-medium",children:[r?"Verso":"Recto","  Cliquez pour retourner"]})})]})})}function os({value:e,duration:t=1,className:r=""}){const n=b.useRef(null),s=Uw(0),i=pP(s,o=>Math.round(o)),a=$P(n,{once:!0,margin:"-100px"});return b.useEffect(()=>{if(a)return LP(s,e,{duration:t,ease:"easeOut"}).stop},[a,s,e,t]),l.jsx(N.span,{ref:n,className:r,children:i})}function wR(){const{profile:e,loading:t}=vl(),{analytics:r}=v1(e==null?void 0:e.id),{signOut:n}=yr(),s=Gr();if(b.useEffect(()=>{!t&&!e&&s("/onboarding")},[e,t,s]),t)return l.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:l.jsx(N.div,{className:"h-12 w-12 border-4 border-amber-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(!e)return null;const i=`${window.location.origin}/${e.username}`,a=(u="standard")=>{const c=document.getElementById("qr-code");if(!c)return;const d=new XMLSerializer().serializeToString(c),f=document.createElement("canvas"),h=f.getContext("2d"),m=new Image,g=u==="high"?1e3:400;m.onload=()=>{if(f.width=g,f.height=g,h){h.fillStyle="white",h.fillRect(0,0,g,g);const v=g/200;h.scale(v,v),h.drawImage(m,0,0)}const x=f.toDataURL("image/png"),w=document.createElement("a"),y=u==="high"?"-high-res":"";w.download=`${e.username}-qr-code${y}.png`,w.href=x,w.click()},m.src="data:image/svg+xml;base64,"+btoa(d)},o=async()=>{if(navigator.share)try{await navigator.share({title:`Carte de ${e.full_name}`,text:"Dcouvrez ma profil professionnel numrique",url:i})}catch(u){console.error("Error sharing:",u)}else navigator.clipboard.writeText(i),alert("Lien copi dans le presse-papier !")};return l.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[l.jsx(N.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-premium-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("h1",{className:"text-xl font-bold bg-gradient-amber bg-clip-text text-transparent",children:"Ma carte numrique"}),l.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>n(),children:[l.jsx(e4,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 p-6 bg-gradient-to-r from-amber-50 to-transparent border border-amber-200 rounded-xl",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(Bi,{className:"w-5 h-5 text-black"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-neutral-900 font-semibold mb-2",children:"Dcouvrez toutes les fonctionnalits"}),l.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:"Optimisez votre prsence professionnelle avec nos outils avancs"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx(vn,{to:"/analytics",label:"Analytics dtaills",description:"Comprendre votre audience",icon:l.jsx(Jc,{className:"w-4 h-4"}),variant:"card"}),l.jsx(vn,{to:"/edit",label:"Personnalisation",description:"Affiner votre profil",icon:l.jsx(Yc,{className:"w-4 h-4"}),variant:"card"})]})]})]})}),l.jsxs(N.div,{variants:g1,initial:"initial",animate:"animate",className:"grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx(N.div,{variants:lt,children:l.jsx(we,{variant:"default",className:"bg-white border-neutral-200",children:l.jsxs(Oe,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Aperu de votre carte"}),l.jsx(K,{to:"/edit",children:l.jsxs(ne,{variant:"outline",children:[l.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Modifier"]})})]}),l.jsx(x1,{profile:e,className:"mb-6"}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 flex gap-3",children:[l.jsx(K,{to:`/${e.username}`,className:"flex-1",children:l.jsxs(ne,{variant:"outline",fullWidth:!0,children:[l.jsx(vs,{className:"w-4 h-4 mr-2"}),"Aperu"]})}),l.jsxs(ne,{variant:"outline",onClick:o,fullWidth:!0,children:[l.jsx(ef,{className:"w-4 h-4 mr-2"}),"Partager"]})]})]})})}),l.jsx(N.div,{variants:lt,children:l.jsx(we,{variant:"default",className:"bg-white border-neutral-200",children:l.jsxs(Oe,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Statistiques en temps rel"}),l.jsx(K,{to:"/analytics",children:l.jsxs(ne,{variant:"outline",size:"sm",children:[l.jsx(Jc,{className:"w-4 h-4 mr-2"}),"Voir dtails"]})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs(N.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[l.jsx(no,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),l.jsx("p",{className:"text-4xl font-bold text-amber-600",children:l.jsx(os,{value:(r==null?void 0:r.totalViews)||e.view_count||0,duration:1.5})}),l.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Vues totales"})]}),l.jsxs(N.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[l.jsx(Xw,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),l.jsx("p",{className:"text-4xl font-bold text-amber-600",children:l.jsx(os,{value:(r==null?void 0:r.totalDownloads)||0,duration:1.5})}),l.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Tlchargements"})]}),l.jsxs(N.div,{whileHover:{scale:1.05,y:-5},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-white rounded-xl border border-amber-200 shadow-premium-md",children:[l.jsx(Jw,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),l.jsx("p",{className:"text-4xl font-bold text-amber-600",children:l.jsx(os,{value:(r==null?void 0:r.totalLinkClicks)||0,duration:1.5})}),l.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Clics"})]})]})]})})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(N.div,{variants:lt,children:l.jsx(we,{variant:"default",className:"bg-white border-neutral-200",children:l.jsxs(Oe,{children:[l.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-4",children:"Votre QR Code"}),l.jsx(N.div,{whileHover:{scale:1.05},className:"bg-white p-6 rounded-lg border-2 border-amber-500 flex items-center justify-center shadow-amber-glow",children:l.jsx(nf,{id:"qr-code",value:i,size:200,level:"H"})}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs(ne,{fullWidth:!0,variant:"secondary",onClick:()=>a("standard"),children:[l.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Tlcharger (Standard)"]}),l.jsxs(ne,{fullWidth:!0,variant:"outline",onClick:()=>a("high"),children:[l.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Tlcharger (Haute rsolution)"]}),l.jsx("p",{className:"text-xs text-center text-neutral-500 mt-2",children:"Format haute rsolution recommand pour impression professionnelle"})]})]})})}),l.jsx(N.div,{variants:lt,children:l.jsx(we,{variant:"default",className:"bg-white border-neutral-200",children:l.jsxs(Oe,{children:[l.jsx("h3",{className:"font-semibold text-amber-600 mb-2",children:"URL de votre profil"}),l.jsx("p",{className:"text-sm text-neutral-600 break-all mb-3",children:i}),l.jsx(ne,{size:"sm",fullWidth:!0,variant:"outline",onClick:()=>{navigator.clipboard.writeText(i),alert("Lien copi !")},children:"Copier le lien"})]})})}),l.jsx(N.div,{variants:lt,children:l.jsx(we,{variant:"default",className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:l.jsxs(Oe,{children:[l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-amber rounded-full flex items-center justify-center shadow-amber-glow flex-shrink-0",children:l.jsx(Qw,{className:"w-5 h-5 text-black"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:"Carte NFC prte  l'emploi"}),l.jsx("p",{className:"text-xs text-neutral-500",children:"Zro configuration requise"})]})]}),l.jsx("p",{className:"text-sm text-neutral-600 mb-3 leading-relaxed",children:"Votre carte NFC physique sera pr-configure avec votre profil et livre prte  utiliser. Aucune manipulation technique ncessaire."}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[l.jsx("p",{className:"text-xs text-neutral-700 font-medium mb-2",children:"Comment a marche ?"}),l.jsxs("ul",{className:"text-xs text-neutral-600 space-y-1",children:[l.jsx("li",{children:" Nous configurons votre carte avec votre profil"}),l.jsx("li",{children:" Vous la recevez prte  partager"}),l.jsx("li",{children:" Un simple tap suffit pour changer vos coordonnes"})]})]})]})})})]})]})]})]})}function w1({items:e,className:t=""}){return l.jsxs("nav",{"aria-label":"Breadcrumb",className:`flex items-center space-x-2 text-sm ${t}`,children:[l.jsx(N.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center",children:l.jsx(K,{to:"/dashboard",className:"flex items-center text-neutral-600 hover:text-amber-600 transition-colors","aria-label":"Accueil",children:l.jsx(KP,{className:"w-4 h-4"})})}),e.map((r,n)=>l.jsxs(N.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"flex items-center space-x-2",children:[l.jsx(zP,{className:"w-4 h-4 text-neutral-400","aria-hidden":"true"}),r.href?l.jsx(K,{to:r.href,className:"text-neutral-600 hover:text-amber-600 transition-colors",children:r.label}):l.jsx("span",{className:"text-neutral-900 font-medium","aria-current":"page",children:r.label})]},n))]})}const v0={free:3,premium:10,premium_plus:1/0},x0={free:1,premium:5,premium_plus:1/0};function bR(){const{user:e}=yr(),[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{if(!e){r(null),s(!1);return}async function d(){try{const{data:f,error:h}=await Q.from("subscriptions").select("*").eq("user_id",e.id).maybeSingle();if(h)throw h;r(f)}catch(f){console.error("Failed to fetch subscription:",f)}finally{s(!1)}}d()},[e]);const i=(t==null?void 0:t.tier)||"free",a=v0[i]||v0.free,o=x0[i]||x0.free;return{subscription:t,loading:n,tier:i,maxCustomFields:a,maxSavedTemplates:o,canAddCustomField:d=>d<a,canSaveTemplate:d=>d<o}}function _R(e){if(!e)return!0;try{return new URL(e),!0}catch{return!1}}function jR(e){return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e):!0}function kR(e){return e?/^[\d\s\-\+\(\)]{8,}$/.test(e):!0}function SR(e){return e.trim().length>0}function w0(e,t,r){if(r&&!SR(t))return"Ce champ est requis";if(!t)return null;switch(e){case"url":return _R(t)?null:"URL invalide";case"email":return jR(t)?null:"Email invalide";case"phone":return kR(t)?null:"Numro de tlphone invalide";default:return null}}function b0({field:e,onChange:t}){const[r,n]=b.useState(null),[s,i]=b.useState(!1);b.useEffect(()=>{if(s){const u=w0(e.type,e.value,e.required);n(u)}},[e.value,e.type,e.required,s]);const a=u=>{i(!0),t(u)},o=()=>{i(!0);const u=w0(e.type,e.value,e.required);n(u)};return e.type==="textarea"?l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:[e.label,e.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"}),!e.isPublic&&l.jsx("span",{className:"ml-2 text-xs text-warmGray-500 bg-warmGray-100 px-2 py-0.5 rounded",children:"Priv"})]}),l.jsx("textarea",{value:e.value,onChange:u=>a(u.target.value),onBlur:o,rows:e.rows||4,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-500 focus:border-transparent ${r?"border-red-300":"border-warmGray-300"}`,placeholder:`Entrez ${e.label.toLowerCase()}`}),r&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]}):l.jsxs("div",{children:[l.jsx(ge,{label:e.label,type:e.type==="text"?"text":e.type,value:e.value,onChange:u=>a(u.target.value),onBlur:o,required:e.required,helperText:e.isPublic?void 0:"Champ priv - visible uniquement pour vous"}),r&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]})}function ER({fields:e,onChange:t,templateFields:r}){const{maxCustomFields:n,canAddCustomField:s}=bR(),[i,a]=b.useState(!1),[o,u]=b.useState(""),[c,d]=b.useState("text"),[f,h]=b.useState(!0),m=e.filter(p=>!r.find(_=>_.id===p.id)),g=s(m.length),x=()=>{if(!o.trim())return;const p={id:`custom_${Date.now()}`,label:o,type:c,value:"",required:!1,order:e.length,isPublic:f};t([...e,p]),u(""),d("text"),h(!0),a(!1)},w=p=>{t(e.filter(_=>_.id!==p))},y=(p,_)=>{t(e.map(j=>j.id===p?{...j,value:_}:j))},v=p=>{t(e.map(_=>_.id===p?{..._,isPublic:!_.isPublic}:_))};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Champs du template"}),l.jsx("div",{className:"space-y-4",children:r.map(p=>{const _=e.find(j=>j.id===p.id)||p;return l.jsxs("div",{className:"relative",children:[l.jsx(b0,{field:_,onChange:j=>y(p.id,j)}),!p.required&&l.jsx("button",{onClick:()=>v(p.id),className:"absolute top-8 right-3 text-warmGray-400 hover:text-warmGray-600",title:_.isPublic?"Rendre priv":"Rendre public",children:_.isPublic?l.jsx(vs,{className:"w-4 h-4"}):l.jsx(f0,{className:"w-4 h-4"})})]},p.id)})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900",children:"Champs personnaliss"}),l.jsxs("p",{className:"text-sm text-warmGray-500",children:[m.length," / ",n===1/0?"":n," champs utiliss"]})]}),l.jsxs(ne,{onClick:()=>a(!0),disabled:!g,size:"sm",variant:"outline",children:[l.jsx(n4,{className:"w-4 h-4 mr-2"}),"Ajouter un champ"]})]}),!g&&l.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[l.jsx(GP,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-semibold text-amber-900",children:"Limite atteinte"}),l.jsx("p",{className:"text-amber-700",children:"Passez  Premium pour ajouter jusqu' 10 champs personnaliss"})]})]}),l.jsx("div",{className:"space-y-4",children:m.map(p=>l.jsx("div",{className:"relative border border-warmGray-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsx("div",{className:"flex-1",children:l.jsx(b0,{field:p,onChange:_=>y(p.id,_)})}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx("button",{onClick:()=>v(p.id),className:"text-warmGray-400 hover:text-warmGray-600",title:p.isPublic?"Rendre priv":"Rendre public",children:p.isPublic?l.jsx(vs,{className:"w-4 h-4"}):l.jsx(f0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>w(p.id),className:"text-red-400 hover:text-red-600",title:"Supprimer ce champ",children:l.jsx(o4,{className:"w-4 h-4"})})]})]})},p.id))}),m.length===0&&l.jsxs("div",{className:"text-center py-8 text-warmGray-500",children:[l.jsx("p",{children:"Aucun champ personnalis pour le moment"}),l.jsx("p",{className:"text-sm mt-1",children:'Cliquez sur "Ajouter un champ" pour commencer'})]})]}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-warmGray-900 mb-4",children:"Ajouter un champ personnalis"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Libell du champ"}),l.jsx("input",{type:"text",value:o,onChange:p=>u(p.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Numro de licence",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Type de champ"}),l.jsxs("select",{value:c,onChange:p=>d(p.target.value),className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"text",children:"Texte court"}),l.jsx("option",{value:"textarea",children:"Texte long"}),l.jsx("option",{value:"url",children:"URL"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"phone",children:"Tlphone"}),l.jsx("option",{value:"date",children:"Date"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"isPublic",checked:f,onChange:p=>h(p.target.checked),className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"isPublic",className:"text-sm text-warmGray-700",children:"Afficher ce champ sur le profil public"})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx(ne,{onClick:()=>a(!1),variant:"outline",fullWidth:!0,children:"Annuler"}),l.jsx(ne,{onClick:x,disabled:!o.trim(),fullWidth:!0,children:"Ajouter"})]})]})})]})}function CR({currentPhotoUrl:e,onPhotoUploaded:t}){const{user:r}=yr(),[n,s]=b.useState(!1),[i,a]=b.useState(null),[o,u]=b.useState(e||null),[c,d]=b.useState(!1),[f,h]=b.useState(null),m=b.useRef(null),g=b.useRef(null),x=b.useRef(null);b.useEffect(()=>()=>{f&&f.getTracks().forEach(k=>k.stop())},[f]),b.useEffect(()=>{f&&g.current&&c&&(g.current.srcObject=f)},[f,c]);const w=async()=>{try{a(null);const k=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:1280}}});h(k),d(!0)}catch(k){a("Impossible d'accder  la camra. Vrifiez les permissions."),console.error("Camera error:",k)}},y=()=>{f&&(f.getTracks().forEach(k=>k.stop()),h(null)),d(!1)},v=()=>{if(!g.current||!x.current)return;const k=g.current,S=x.current,E=S.getContext("2d");if(!E)return;S.width=400,S.height=400;const C=k.videoWidth/k.videoHeight;let R=0,M=0,re=k.videoWidth,q=k.videoHeight;C>1?(re=k.videoHeight,R=(k.videoWidth-re)/2):(q=k.videoWidth,M=(k.videoHeight-q)/2),E.drawImage(k,R,M,re,q,0,0,400,400),S.toBlob(async Ke=>{Ke&&await j(Ke,"selfie.jpg")},"image/jpeg",.9),y()},p=async k=>{var C;const S=(C=k.target.files)==null?void 0:C[0];if(!S)return;if(a(null),!["image/jpeg","image/png","image/webp"].includes(S.type)){a("Format non support. Utilisez JPEG, PNG ou WebP.");return}if(S.size>5*1024*1024){a("Fichier trop volumineux. Maximum 5MB.");return}const E=await _(S,S.type);E&&await j(E,S.name,S.type)},_=async(k,S)=>new Promise(E=>{const C=new FileReader;C.onload=R=>{var re;const M=new Image;M.onload=()=>{const q=document.createElement("canvas"),Ke=q.getContext("2d");if(!Ke){E(null);return}const rt=400;q.width=rt,q.height=rt;const Je=Math.min(M.width,M.height),W=(M.width-Je)/2,P=(M.height-Je)/2;Ke.drawImage(M,W,P,Je,Je,0,0,rt,rt);const D=S==="image/webp"?"image/webp":"image/jpeg",$=S==="image/webp"?.9:.85;q.toBlob(F=>{E(F)},D,$)},M.src=(re=R.target)==null?void 0:re.result},C.readAsDataURL(k)}),j=async(k,S,E="image/jpeg")=>{if(!r){a("Vous devez tre connect.");return}s(!0),a(null);try{let C=S.split(".").pop()||"jpg";E==="image/webp"&&C!=="webp"&&(C="webp");const R=`${r.id}/${Date.now()}.${C}`,{data:M,error:re}=await Q.storage.from("profile-photos").upload(R,k,{contentType:E==="image/webp"?"image/webp":"image/jpeg",upsert:!1});if(re)throw re;const{data:q}=Q.storage.from("profile-photos").getPublicUrl(R);u(q.publicUrl),t(q.publicUrl)}catch(C){a(C.message||"Erreur lors du tlchargement."),console.error("Upload error:",C)}finally{s(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-sm font-medium text-warmGray-700",children:"Photo de profil"}),o&&l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:o,alt:"Aperu",className:"w-32 h-32 rounded-full object-cover border-4 border-gold-400 shadow-lg"}),l.jsx("button",{onClick:()=>{u(null),t("")},className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:l.jsx(Fe,{className:"w-4 h-4"})})]})}),!c&&l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(ne,{type:"button",variant:"outline",onClick:()=>{var k;return(k=m.current)==null?void 0:k.click()},disabled:n,fullWidth:!0,children:[n?l.jsx(XP,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(c4,{className:"w-4 h-4 mr-2"}),"Importer"]}),l.jsxs(ne,{type:"button",variant:"outline",onClick:w,disabled:n,fullWidth:!0,children:[l.jsx(Kh,{className:"w-4 h-4 mr-2"}),"Selfie"]})]}),c&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[l.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"}),l.jsx("div",{className:"absolute inset-0 border-2 border-gold-400 rounded-lg pointer-events-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(ne,{type:"button",variant:"outline",onClick:y,fullWidth:!0,children:[l.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Annuler"]}),l.jsxs(ne,{type:"button",variant:"secondary",onClick:v,fullWidth:!0,children:[l.jsx(pe,{className:"w-4 h-4 mr-2"}),"Capturer"]})]})]}),l.jsx("canvas",{ref:x,className:"hidden"}),l.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:p,className:"hidden"}),i&&l.jsx("p",{className:"text-sm text-red-600 mt-2",children:i}),l.jsx("p",{className:"text-xs text-warmGray-500",children:"Formats accepts : JPEG, PNG, WebP. Taille max : 5MB. L'image sera automatiquement recadre en cercle."})]})}const kr=20;function NR(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{window.URL.revokeObjectURL(n.src),t(n.duration)},n.onerror=()=>{r(new Error("Failed to load video metadata"))},n.src=URL.createObjectURL(e)})}async function TR(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.currentTime=2,n.onloadeddata=()=>{const s=document.createElement("canvas");s.width=n.videoWidth,s.height=n.videoHeight;const i=s.getContext("2d");if(!i){r(new Error("Failed to get canvas context"));return}i.drawImage(n,0,0,s.width,s.height),s.toBlob(a=>{window.URL.revokeObjectURL(n.src),a?t(a):r(new Error("Failed to generate thumbnail"))},"image/webp",.8)},n.onerror=()=>{r(new Error("Failed to load video for thumbnail"))},n.src=URL.createObjectURL(e)})}function PR(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(2)} ${r[n]}`}function b1(e){const t=Math.floor(e/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function RR(e){const[t,r]=b.useState({uploading:!1,progress:0,error:null});return{...t,uploadRecording:async i=>{r({uploading:!1,progress:0,error:null});try{const a=new File([i],`recording-${Date.now()}.webm`,{type:i.type});r(w=>({...w,uploading:!0,progress:0}));const o=await NR(a);if(o>kr)return r({uploading:!1,progress:0,error:`La vido dpasse la dure maximale de ${kr} secondes.`}),null;const u=Date.now(),c=`${e}/video_${u}.mp4`,d=`${e}/thumbnails/thumb_${u}.webp`,f=await TR(a),{error:h}=await Q.storage.from("profile-videos").upload(c,a,{cacheControl:"3600",upsert:!1});if(h)throw h;r({uploading:!0,progress:50,error:null});const{error:m}=await Q.storage.from("profile-videos").upload(d,f,{cacheControl:"3600",upsert:!1});if(m)throw m;const{data:g}=Q.storage.from("profile-videos").getPublicUrl(c),{data:x}=Q.storage.from("profile-videos").getPublicUrl(d);return r({uploading:!1,progress:100,error:null}),{videoUrl:g.publicUrl,thumbnailUrl:x.publicUrl,duration:Math.floor(o),fileSize:a.size}}catch(a){const o=a instanceof Error?a.message:"Upload failed";return r({uploading:!1,progress:0,error:o}),null}},deleteVideo:async(i,a)=>{try{const o=i.split("/profile-videos/")[1],u=a.split("/profile-videos/")[1];return o&&await Q.storage.from("profile-videos").remove([o]),u&&await Q.storage.from("profile-videos").remove([u]),!0}catch(o){return console.error("Error deleting video:",o),!1}}}}function AR({userId:e,currentVideoUrl:t,currentThumbnailUrl:r,currentDuration:n,currentFileSize:s,onUploadComplete:i,onDelete:a}){const o=b.useRef(null),u=b.useRef(null),c=b.useRef([]),[d,f]=b.useState(null),[h,m]=b.useState(!1),[g,x]=b.useState(!1),[w,y]=b.useState(0),[v,p]=b.useState(null),[_,j]=b.useState(null),[k,S]=b.useState("user"),{uploading:E,progress:C,error:R,uploadRecording:M,deleteVideo:re}=RR(e);b.useEffect(()=>()=>{v&&v.getTracks().forEach(F=>F.stop())},[v]),b.useEffect(()=>{v&&o.current&&h&&(o.current.srcObject=v)},[v,h]);const q=b.useCallback(()=>{u.current&&g&&(u.current.stop(),x(!1))},[g]);b.useEffect(()=>{let F;return g?F=setInterval(()=>{y(U=>{const X=U+1;return X>=kr&&q(),X})},1e3):y(0),()=>clearInterval(F)},[g,q]);const Ke=async()=>{t&&r&&await re(t,r)&&(f(null),a())},rt=async(F=k)=>{console.log("startCamera called");try{if(j(null),v&&v.getTracks().forEach(X=>X.stop()),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Votre navigateur ne supporte pas l'accs  la camra. Veuillez utiliser un navigateur moderne.");console.log("Requesting camera access...");const U=await navigator.mediaDevices.getUserMedia({video:{facingMode:F,width:{ideal:1920},height:{ideal:1080}},audio:!0});console.log("Camera access granted"),p(U),m(!0),S(F)}catch(U){console.error("Camera error:",U);let X="Impossible d'accder  la camra.";U.name==="NotAllowedError"?X="Accs  la camra refus. Veuillez autoriser l'accs dans les paramtres de votre navigateur.":U.name==="NotFoundError"?X="Aucune camra trouve sur cet appareil.":U.name==="NotReadableError"?X="La camra est dj utilise par une autre application.":U.name==="OverconstrainedError"?X="Impossible d'utiliser les paramtres demands pour la camra.":U.message&&(X=U.message),j(X),m(!0)}},Je=()=>{v&&(v.getTracks().forEach(F=>F.stop()),p(null)),m(!1),x(!1),j(null)},W=async()=>{if(g)return;await rt(k==="user"?"environment":"user")},P=()=>{const F=[{mimeType:"video/webm;codecs=vp9",extension:"webm"},{mimeType:"video/webm;codecs=vp8",extension:"webm"},{mimeType:"video/webm;codecs=h264",extension:"webm"},{mimeType:"video/webm",extension:"webm"},{mimeType:"video/mp4;codecs=h264",extension:"mp4"},{mimeType:"video/mp4",extension:"mp4"}];for(const U of F)if(MediaRecorder.isTypeSupported(U.mimeType))return U;return{mimeType:"",extension:"webm"}},D=()=>{if(v)try{const{mimeType:F}=P();if(!F){j("Votre navigateur ne supporte pas l'enregistrement vido. Veuillez utiliser un navigateur moderne comme Chrome, Firefox ou Safari.");return}c.current=[];const U=F?{mimeType:F}:{},X=new MediaRecorder(v,U);X.ondataavailable=Ne=>{Ne.data.size>0&&c.current.push(Ne.data)},X.onstop=async()=>{const Ne=new Blob(c.current,{type:F||"video/webm"}),nt=await M(Ne);nt&&(f(nt.videoUrl),i(nt)),Je()},X.onerror=Ne=>{console.error("MediaRecorder error:",Ne),j("Une erreur s'est produite lors de l'enregistrement. Veuillez ressayer."),x(!1)},X.start(),u.current=X,x(!0),j(null)}catch(F){console.error("Recording error:",F),j(`Erreur d'enregistrement: ${F.message||"Impossible de dmarrer l'enregistrement"}`),x(!1)}},$=t||d;return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Vido de prsentation"})}),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-400 mb-4",children:[l.jsx(ro,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{children:"Enregistrez une vido de prsentation directement depuis votre camra"}),l.jsxs("p",{children:["Dure maximale: ",kr," secondes"]})]})]}),!$&&!h?l.jsx("div",{className:"space-y-3",children:l.jsxs(ne,{type:"button",variant:"outline",onClick:()=>{console.log("Button clicked"),rt()},disabled:E,fullWidth:!0,children:[l.jsx(Kh,{className:"w-4 h-4 mr-2"}),"Enregistrer une vido"]})}):h?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:[l.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!g,className:"w-full h-full object-cover"}),!g&&l.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2 px-3 py-2 bg-green-600 rounded-full",children:[l.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),l.jsx("span",{className:"text-white text-sm font-medium",children:"Camra prte"})]}),g&&l.jsxs("div",{className:"absolute top-4 left-4 right-4 flex flex-col items-center space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-red-600 rounded-full",children:[l.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),l.jsxs("span",{className:"text-white text-sm font-medium",children:[Math.floor(w/60),":",(w%60).toString().padStart(2,"0")," / ",Math.floor(kr/60),":",(kr%60).toString().padStart(2,"0")]})]}),l.jsx("div",{className:"w-full max-w-xs bg-gray-800/80 rounded-full h-2 overflow-hidden backdrop-blur-sm",children:l.jsx("div",{className:"bg-red-500 h-full transition-all duration-1000 ease-linear",style:{width:`${w/kr*100}%`}})})]}),w>=kr&&l.jsx("div",{className:"absolute top-4 right-4 px-3 py-2 bg-yellow-600 rounded-lg",children:l.jsx("span",{className:"text-white text-sm font-medium",children:"Limite atteinte"})}),!g&&l.jsx("button",{onClick:W,className:"absolute bottom-4 right-4 p-3 bg-gray-900/80 hover:bg-gray-800 text-white rounded-full transition-colors backdrop-blur-sm",title:k==="user"?"Basculer vers la camra arrire":"Basculer vers la camra frontale",children:l.jsx(s4,{className:"w-5 h-5"})})]}),_&&l.jsxs("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[l.jsx(ro,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-400",children:_})]}),l.jsx("div",{className:"space-y-2",children:g?l.jsxs("button",{type:"button",onClick:q,className:"w-full py-4 px-6 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all shadow-lg",children:[l.jsx(i4,{className:"w-6 h-6"}),l.jsx("span",{children:"Arrter l'enregistrement"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:D,className:"w-full py-4 px-6 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-lg flex items-center justify-center space-x-3 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg",children:[l.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"})}),l.jsx("span",{children:"Dmarrer l'enregistrement"})]}),l.jsxs(ne,{type:"button",variant:"outline",onClick:Je,fullWidth:!0,children:[l.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Annuler"]})]})})]}):$?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:l.jsx("video",{src:d||t,controls:!0,className:"w-full h-full",poster:r})}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx(Zw,{className:"w-4 h-4"}),l.jsx("span",{children:b1(n||0)})]}),l.jsx("span",{children:PR(s||0)})]}),l.jsxs("button",{type:"button",onClick:Ke,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[l.jsx(Fe,{className:"w-4 h-4"}),l.jsx("span",{children:"Supprimer"})]})]})]}):null,R&&l.jsxs("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-lg flex items-start space-x-2",children:[l.jsx(ro,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-400",children:R})]})]}),E&&l.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-300",children:"Upload en cours..."}),l.jsxs("span",{className:"text-sm text-yellow-500",children:[C,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"bg-yellow-500 h-full transition-all duration-300 ease-out",style:{width:`${C}%`}})})]})]})}const OR=[{name:"Paris",postalCode:"75000",timezone:"Europe/Paris",country:"France"},{name:"Marseille",postalCode:"13000",timezone:"Europe/Paris",country:"France"},{name:"Lyon",postalCode:"69000",timezone:"Europe/Paris",country:"France"},{name:"Toulouse",postalCode:"31000",timezone:"Europe/Paris",country:"France"},{name:"Nice",postalCode:"06000",timezone:"Europe/Paris",country:"France"},{name:"Nantes",postalCode:"44000",timezone:"Europe/Paris",country:"France"},{name:"Strasbourg",postalCode:"67000",timezone:"Europe/Paris",country:"France"},{name:"Montpellier",postalCode:"34000",timezone:"Europe/Paris",country:"France"},{name:"Bordeaux",postalCode:"33000",timezone:"Europe/Paris",country:"France"},{name:"Lille",postalCode:"59000",timezone:"Europe/Paris",country:"France"},{name:"Rennes",postalCode:"35000",timezone:"Europe/Paris",country:"France"},{name:"Reims",postalCode:"51100",timezone:"Europe/Paris",country:"France"},{name:"Le Havre",postalCode:"76600",timezone:"Europe/Paris",country:"France"},{name:"Saint-tienne",postalCode:"42000",timezone:"Europe/Paris",country:"France"},{name:"Toulon",postalCode:"83000",timezone:"Europe/Paris",country:"France"},{name:"Grenoble",postalCode:"38000",timezone:"Europe/Paris",country:"France"},{name:"Dijon",postalCode:"21000",timezone:"Europe/Paris",country:"France"},{name:"Angers",postalCode:"49000",timezone:"Europe/Paris",country:"France"},{name:"Nmes",postalCode:"30000",timezone:"Europe/Paris",country:"France"},{name:"Villeurbanne",postalCode:"69100",timezone:"Europe/Paris",country:"France"},{name:"Le Mans",postalCode:"72000",timezone:"Europe/Paris",country:"France"},{name:"Aix-en-Provence",postalCode:"13100",timezone:"Europe/Paris",country:"France"},{name:"Clermont-Ferrand",postalCode:"63000",timezone:"Europe/Paris",country:"France"},{name:"Brest",postalCode:"29200",timezone:"Europe/Paris",country:"France"},{name:"Tours",postalCode:"37000",timezone:"Europe/Paris",country:"France"},{name:"Limoges",postalCode:"87000",timezone:"Europe/Paris",country:"France"},{name:"Amiens",postalCode:"80000",timezone:"Europe/Paris",country:"France"},{name:"Perpignan",postalCode:"66000",timezone:"Europe/Paris",country:"France"},{name:"Metz",postalCode:"57000",timezone:"Europe/Paris",country:"France"},{name:"Besanon",postalCode:"25000",timezone:"Europe/Paris",country:"France"},{name:"Boulogne-Billancourt",postalCode:"92100",timezone:"Europe/Paris",country:"France"},{name:"Orlans",postalCode:"45000",timezone:"Europe/Paris",country:"France"},{name:"Mulhouse",postalCode:"68100",timezone:"Europe/Paris",country:"France"},{name:"Rouen",postalCode:"76000",timezone:"Europe/Paris",country:"France"},{name:"Caen",postalCode:"14000",timezone:"Europe/Paris",country:"France"},{name:"Nancy",postalCode:"54000",timezone:"Europe/Paris",country:"France"},{name:"Argenteuil",postalCode:"95100",timezone:"Europe/Paris",country:"France"},{name:"Montreuil",postalCode:"93100",timezone:"Europe/Paris",country:"France"},{name:"Roubaix",postalCode:"59100",timezone:"Europe/Paris",country:"France"},{name:"Tourcoing",postalCode:"59200",timezone:"Europe/Paris",country:"France"},{name:"Nanterre",postalCode:"92000",timezone:"Europe/Paris",country:"France"},{name:"Avignon",postalCode:"84000",timezone:"Europe/Paris",country:"France"},{name:"Vitry-sur-Seine",postalCode:"94400",timezone:"Europe/Paris",country:"France"},{name:"Crteil",postalCode:"94000",timezone:"Europe/Paris",country:"France"},{name:"Dunkerque",postalCode:"59140",timezone:"Europe/Paris",country:"France"},{name:"Poitiers",postalCode:"86000",timezone:"Europe/Paris",country:"France"},{name:"Asnires-sur-Seine",postalCode:"92600",timezone:"Europe/Paris",country:"France"},{name:"Courbevoie",postalCode:"92400",timezone:"Europe/Paris",country:"France"},{name:"Versailles",postalCode:"78000",timezone:"Europe/Paris",country:"France"},{name:"Colombes",postalCode:"92700",timezone:"Europe/Paris",country:"France"},{name:"Fort-de-France",postalCode:"97200",timezone:"America/Martinique",country:"France"},{name:"Aulnay-sous-Bois",postalCode:"93600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Pierre",postalCode:"97410",timezone:"Indian/Reunion",country:"France"},{name:"Rueil-Malmaison",postalCode:"92500",timezone:"Europe/Paris",country:"France"},{name:"Pau",postalCode:"64000",timezone:"Europe/Paris",country:"France"},{name:"Aubervilliers",postalCode:"93300",timezone:"Europe/Paris",country:"France"},{name:"Le Tampon",postalCode:"97430",timezone:"Indian/Reunion",country:"France"},{name:"Champigny-sur-Marne",postalCode:"94500",timezone:"Europe/Paris",country:"France"},{name:"Antibes",postalCode:"06600",timezone:"Europe/Paris",country:"France"},{name:"La Rochelle",postalCode:"17000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Maur-des-Fosss",postalCode:"94100",timezone:"Europe/Paris",country:"France"},{name:"Calais",postalCode:"62100",timezone:"Europe/Paris",country:"France"},{name:"Cannes",postalCode:"06400",timezone:"Europe/Paris",country:"France"},{name:"Bziers",postalCode:"34500",timezone:"Europe/Paris",country:"France"},{name:"Colmar",postalCode:"68000",timezone:"Europe/Paris",country:"France"},{name:"Bourges",postalCode:"18000",timezone:"Europe/Paris",country:"France"},{name:"Saint-Nazaire",postalCode:"44600",timezone:"Europe/Paris",country:"France"},{name:"Quimper",postalCode:"29000",timezone:"Europe/Paris",country:"France"},{name:"Valence",postalCode:"26000",timezone:"Europe/Paris",country:"France"},{name:"Mrignac",postalCode:"33700",timezone:"Europe/Paris",country:"France"},{name:"Drancy",postalCode:"93700",timezone:"Europe/Paris",country:"France"},{name:"Ajaccio",postalCode:"20000",timezone:"Europe/Paris",country:"France"},{name:"Levallois-Perret",postalCode:"92300",timezone:"Europe/Paris",country:"France"},{name:"Troyes",postalCode:"10000",timezone:"Europe/Paris",country:"France"},{name:"Neuilly-sur-Seine",postalCode:"92200",timezone:"Europe/Paris",country:"France"},{name:"Antony",postalCode:"92160",timezone:"Europe/Paris",country:"France"},{name:"Sarcelles",postalCode:"95200",timezone:"Europe/Paris",country:"France"},{name:"Cergy",postalCode:"95000",timezone:"Europe/Paris",country:"France"},{name:"Issy-les-Moulineaux",postalCode:"92130",timezone:"Europe/Paris",country:"France"},{name:"Noisy-le-Grand",postalCode:"93160",timezone:"Europe/Paris",country:"France"},{name:"vry",postalCode:"91000",timezone:"Europe/Paris",country:"France"},{name:"Vnissieux",postalCode:"69200",timezone:"Europe/Paris",country:"France"},{name:"Clichy",postalCode:"92110",timezone:"Europe/Paris",country:"France"},{name:"Lorient",postalCode:"56100",timezone:"Europe/Paris",country:"France"},{name:"Chambry",postalCode:"73000",timezone:"Europe/Paris",country:"France"},{name:"Pessac",postalCode:"33600",timezone:"Europe/Paris",country:"France"},{name:"Saint-Andr",postalCode:"97440",timezone:"Indian/Reunion",country:"France"},{name:"Ivry-sur-Seine",postalCode:"94200",timezone:"Europe/Paris",country:"France"},{name:"Montauban",postalCode:"82000",timezone:"Europe/Paris",country:"France"},{name:"Cagnes-sur-Mer",postalCode:"06800",timezone:"Europe/Paris",country:"France"},{name:"Niort",postalCode:"79000",timezone:"Europe/Paris",country:"France"},{name:"Villejuif",postalCode:"94800",timezone:"Europe/Paris",country:"France"},{name:"Saint-Quentin",postalCode:"02100",timezone:"Europe/Paris",country:"France"},{name:"Hyres",postalCode:"83400",timezone:"Europe/Paris",country:"France"},{name:"Beauvais",postalCode:"60000",timezone:"Europe/Paris",country:"France"},{name:"Cholet",postalCode:"49300",timezone:"Europe/Paris",country:"France"}];function IR({value:e,timezone:t,country:r,onChange:n}){const[s,i]=b.useState(e||""),[a,o]=b.useState(!1),[u,c]=b.useState(-1),d=OR,f=b.useMemo(()=>{if(!s)return d.slice(0,10);const g=s.toLowerCase();return d.filter(x=>{const w=x.name.toLowerCase().includes(g),y=x.postalCode.includes(s);return w||y}).slice(0,10)},[s,d]),h=g=>{i(g.name),n(g.name,g.timezone,g.country),o(!1),c(-1)},m=g=>{if(!a&&(g.key==="ArrowDown"||g.key==="Enter")){o(!0);return}g.key==="ArrowDown"?(g.preventDefault(),c(x=>Math.min(x+1,f.length-1))):g.key==="ArrowUp"?(g.preventDefault(),c(x=>Math.max(x-1,-1))):g.key==="Enter"&&u>=0?(g.preventDefault(),h(f[u])):g.key==="Escape"&&(o(!1),c(-1))};return l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ville"}),l.jsxs("div",{className:"relative",children:[l.jsx(Yh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:s,onChange:g=>{i(g.target.value),o(!0),c(-1)},onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),200),onKeyDown:m,placeholder:"Rechercher une ville...",className:"w-full pl-10 pr-10 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 transition-colors"}),l.jsx(UP,{className:`absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&f.length>0&&l.jsx("div",{className:"absolute z-50 w-full mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:f.map((g,x)=>l.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors ${x===u?"bg-gray-700":""} ${x===0?"rounded-t-lg":""} ${x===f.length-1?"rounded-b-lg":""}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:g.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[g.postalCode,"  ",g.country]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:g.timezone})]})},`${g.name}-${g.postalCode}`))}),t&&l.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Fuseau horaire: ",l.jsx("span",{className:"text-yellow-500",children:t})]})]})}function LR(){const{profile:e,updateProfile:t}=vl(),{user:r}=yr(),n=Gr(),[s,i]=b.useState(!1),[a,o]=b.useState(""),[u,c]=b.useState([]),[d,f]=b.useState([]),[h,m]=b.useState({full_name:"",title:"",bio:"",email:"",phone:"",website:"",profile_photo_url:"",video_url:"",linkedin:"",twitter:"",instagram:"",facebook:"",tagline:"",mission_statement:"",location_city:"",location_country:"",timezone:"",show_local_time:!1,is_online:!0,theme_color:"#C89B3C",video_thumbnail_url:"",video_duration:0,video_file_size:0,total_video_storage:0});b.useEffect(()=>{var x,w,y,v;if(e){m({full_name:e.full_name||"",title:e.title||"",bio:e.bio||"",email:e.email||"",phone:e.phone||"",website:e.website||"",profile_photo_url:e.profile_photo_url||"",video_url:e.video_url||"",linkedin:((x=e.social_links)==null?void 0:x.linkedin)||"",twitter:((w=e.social_links)==null?void 0:w.twitter)||"",instagram:((y=e.social_links)==null?void 0:y.instagram)||"",facebook:((v=e.social_links)==null?void 0:v.facebook)||"",tagline:e.tagline||"",mission_statement:e.mission_statement||"",location_city:e.location_city||"",location_country:e.location_country||"",timezone:e.timezone||"Europe/Paris",show_local_time:e.show_local_time||!1,is_online:e.is_online!==void 0?e.is_online:!0,theme_color:e.theme_color||"#C89B3C",video_thumbnail_url:e.video_thumbnail_url||"",video_duration:e.video_duration||0,video_file_size:e.video_file_size||0,total_video_storage:e.total_video_storage||0}),c(e.custom_fields||[]);async function p(){try{const{data:_}=await Q.from("profile_templates").select("default_fields").eq("name",e.sector).maybeSingle();_!=null&&_.default_fields&&f(_.default_fields)}catch(_){console.error("Error fetching template fields:",_)}}e.sector&&p()}},[e]),b.useEffect(()=>{if(!s&&h&&e){const x=setTimeout(async()=>{const w={...h.linkedin&&{linkedin:h.linkedin},...h.twitter&&{twitter:h.twitter},...h.instagram&&{instagram:h.instagram},...h.facebook&&{facebook:h.facebook}};await t({full_name:h.full_name,title:h.title,bio:h.bio,email:h.email,phone:h.phone,website:h.website,profile_photo_url:h.profile_photo_url,video_url:h.video_url,social_links:w,custom_fields:u,tagline:h.tagline,mission_statement:h.mission_statement,location_city:h.location_city,location_country:h.location_country,timezone:h.timezone,show_local_time:h.show_local_time,is_online:h.is_online,theme_color:h.theme_color,video_thumbnail_url:h.video_thumbnail_url,video_duration:h.video_duration,video_file_size:h.video_file_size,total_video_storage:h.total_video_storage}),o("Enregistr"),setTimeout(()=>o(""),2e3)},1e3);return()=>clearTimeout(x)}},[h,u]);const g=(x,w)=>{m(y=>({...y,[x]:w})),o("Enregistrement...")};return e?l.jsxs("div",{className:"min-h-screen bg-warmGray-50",children:[l.jsx("nav",{className:"bg-white border-b border-warmGray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-warmGray-700 hover:text-warmGray-900",children:[l.jsx(Hh,{className:"w-5 h-5"}),"Retour au tableau de bord"]}),a&&l.jsx("span",{className:"text-sm text-green-600 font-medium",children:a})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx(w1,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Modifier le profil"}],className:"mb-6"}),l.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(vn,{to:`/${e.username}`,label:"Prvisualiser votre carte",description:"Voir comment les autres verront votre profil",icon:l.jsx(vs,{className:"w-5 h-5"}),variant:"card"}),l.jsx(vn,{to:"/analytics",label:"Voir mes statistiques",description:"Suivre les performances de votre carte",icon:l.jsx(Jc,{className:"w-5 h-5"}),variant:"card"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-6",children:"diter le profil"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Informations de base"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ge,{label:"Nom complet",value:h.full_name,onChange:x=>g("full_name",x.target.value),required:!0}),l.jsx(ge,{label:"Titre / Profession",value:h.title,onChange:x=>g("title",x.target.value),placeholder:"ex: Responsable Marketing"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Biographie"}),l.jsx("textarea",{value:h.bio,onChange:x=>g("bio",x.target.value),rows:4,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Parlez de vous..."})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Coordonnes"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ge,{label:"Email",type:"email",value:h.email,onChange:x=>g("email",x.target.value)}),l.jsx(ge,{label:"Tlphone",type:"tel",value:h.phone,onChange:x=>g("phone",x.target.value)}),l.jsx(ge,{label:"Site web",type:"url",value:h.website,onChange:x=>g("website",x.target.value),placeholder:"https://votresite.com"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Mdias"}),l.jsx("div",{className:"space-y-4",children:l.jsx(CR,{currentPhotoUrl:h.profile_photo_url,onPhotoUploaded:x=>g("profile_photo_url",x)})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Prsentation tendue"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Phrase d'accroche"}),l.jsx("input",{type:"text",value:h.tagline,onChange:x=>g("tagline",x.target.value),maxLength:100,placeholder:"Une phrase courte et percutante...",className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[h.tagline.length,"/100 caractres"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-warmGray-700 mb-1",children:"Mission / Pitch"}),l.jsx("textarea",{value:h.mission_statement,onChange:x=>g("mission_statement",x.target.value),maxLength:500,rows:6,className:"w-full px-4 py-2 border border-warmGray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez votre mission, vos valeurs, ce qui vous anime..."}),l.jsxs("div",{className:"text-xs text-warmGray-500 mt-1",children:[h.mission_statement.length,"/500 caractres"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Localisation"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(IR,{value:h.location_city,timezone:h.timezone,country:h.location_country,onChange:(x,w,y)=>{m(v=>({...v,location_city:x,timezone:w,location_country:y})),o("Enregistrement...")}}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:h.show_local_time,onChange:x=>{m(w=>({...w,show_local_time:x.target.checked})),o("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher mon heure locale sur le profil"})]})]})]}),l.jsx("div",{children:l.jsx(AR,{userId:(r==null?void 0:r.id)||"",currentVideoUrl:h.video_url,currentThumbnailUrl:h.video_thumbnail_url,currentDuration:h.video_duration,currentFileSize:h.video_file_size,onUploadComplete:x=>{m(w=>({...w,video_url:x.videoUrl,video_thumbnail_url:x.thumbnailUrl,video_duration:x.duration,video_file_size:x.fileSize,total_video_storage:w.total_video_storage+x.fileSize})),o("Enregistrement...")},onDelete:()=>{m(x=>({...x,video_url:"",video_thumbnail_url:"",video_duration:0,total_video_storage:x.total_video_storage-x.video_file_size,video_file_size:0})),o("Enregistrement...")}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Options d'affichage"}),l.jsx("div",{className:"space-y-4",children:l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:h.is_online,onChange:x=>{m(w=>({...w,is_online:x.target.checked})),o("Enregistrement...")},className:"w-4 h-4 text-blue-600 border-warmGray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-warmGray-700",children:"Afficher comme en ligne (badge vert sur la photo de profil)"})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-warmGray-900 mb-4",children:"Rseaux sociaux"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ge,{label:"LinkedIn",type:"url",value:h.linkedin,onChange:x=>g("linkedin",x.target.value),placeholder:"https://linkedin.com/in/username"}),l.jsx(ge,{label:"Twitter",type:"url",value:h.twitter,onChange:x=>g("twitter",x.target.value),placeholder:"https://twitter.com/username"}),l.jsx(ge,{label:"Instagram",type:"url",value:h.instagram,onChange:x=>g("instagram",x.target.value),placeholder:"https://instagram.com/username"}),l.jsx(ge,{label:"Facebook",type:"url",value:h.facebook,onChange:x=>g("facebook",x.target.value),placeholder:"https://facebook.com/username"})]})]}),l.jsx("div",{className:"pt-6 border-t border-warmGray-200",children:l.jsx(ER,{fields:u,onChange:c,templateFields:d})})]})]}),l.jsx("div",{className:"lg:sticky lg:top-8 h-fit",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-warmGray-900 mb-4",children:"Aperu en direct"}),l.jsx("p",{className:"text-sm text-warmGray-500 mb-6",children:"Voici  quoi ressemble votre profil pour les visiteurs"}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-warmGray-50 rounded-lg p-6 border border-warmGray-200",children:[h.profile_photo_url?l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:h.profile_photo_url,alt:h.full_name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"})}):l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:h.full_name.charAt(0)||"?"})}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-warmGray-900",children:h.full_name||"Votre nom"}),h.title&&l.jsx("p",{className:"text-lg text-warmGray-600",children:h.title})]}),h.bio&&l.jsx("p",{className:"text-center text-warmGray-700 mb-4 text-sm leading-relaxed",children:h.bio}),l.jsxs("div",{className:"space-y-2",children:[h.email&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[l.jsx("span",{className:"text-warmGray-500",children:"Email: "}),l.jsx("span",{className:"text-warmGray-900",children:h.email})]}),h.phone&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[l.jsx("span",{className:"text-warmGray-500",children:"Tlphone : "}),l.jsx("span",{className:"text-warmGray-900",children:h.phone})]}),h.website&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-sm",children:[l.jsx("span",{className:"text-warmGray-500",children:"Site web : "}),l.jsx("span",{className:"text-blue-600",children:h.website})]})]}),(h.linkedin||h.twitter||h.instagram||h.facebook)&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-warmGray-200",children:[l.jsx("p",{className:"text-xs text-center text-warmGray-500 mb-2",children:"RSEAUX SOCIAUX"}),l.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[h.linkedin&&l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-navy-700 rounded text-xs",children:"LinkedIn"}),h.twitter&&l.jsx("span",{className:"px-2 py-1 bg-sky-100 text-sky-800 rounded text-xs",children:"Twitter"}),h.instagram&&l.jsx("span",{className:"px-2 py-1 bg-pink-100 text-pink-800 rounded text-xs",children:"Instagram"}),h.facebook&&l.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs",children:"Facebook"})]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx(ne,{fullWidth:!0,onClick:()=>n(`/${e.username}`),variant:"outline",children:"Voir le profil complet"})})]})})]})]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})})}function On({children:e,delay:t=0,className:r=""}){const[n,s]=pl({triggerOnce:!0,threshold:.1});return l.jsx(N.div,{ref:n,initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:t},className:r,children:e})}function Da({icon:e,label:t,value:r,href:n,onClick:s,className:i=""}){const a=l.jsx(N.div,{className:`bg-white border border-neutral-200 rounded-xl p-4 shadow-sm transition-all duration-200 ${i}`,whileHover:{scale:1.02,y:-2,borderColor:"rgb(245, 158, 11)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.1), 0 8px 10px -6px rgba(245, 158, 11, 0.1)"},whileTap:{scale:.98},children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(N.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:l.jsx(e,{className:"w-5 h-5 text-amber-600 flex-shrink-0"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-sm text-neutral-500 mb-1",children:t}),l.jsx("div",{className:"text-neutral-900 font-medium truncate",children:r})]})]})});return n?l.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block",onClick:s,children:a}):s?l.jsx("button",{type:"button",onClick:s,className:"w-full text-left",children:a}):a}const DR={instagram:{icon:QP,bgColor:"bg-gradient-to-r from-purple-600 to-pink-600",hoverColor:"hover:from-purple-700 hover:to-pink-700",defaultLabel:"Follow on Instagram"},twitter:{icon:u4,bgColor:"bg-blue-500",hoverColor:"hover:bg-blue-600",defaultLabel:"Follow on Twitter"},linkedin:{icon:YP,bgColor:"bg-blue-700",hoverColor:"hover:bg-blue-800",defaultLabel:"Connect on LinkedIn"},email:{icon:Qh,bgColor:"bg-green-600",hoverColor:"hover:bg-green-700",defaultLabel:"Send Email"},phone:{icon:Zh,bgColor:"bg-blue-600",hoverColor:"hover:bg-blue-700",defaultLabel:"Call Me"},website:{icon:qw,bgColor:"bg-neutral-700",hoverColor:"hover:bg-neutral-800",defaultLabel:"Visit Website"}};function wu({platform:e,url:t,label:r,variant:n="default"}){const s=DR[e],i=s.icon,a=r||s.defaultLabel;return n==="compact"?l.jsx(N.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center w-12 h-12 ${s.bgColor} ${s.hoverColor} rounded-lg shadow-md transition-colors`,whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:l.jsx(i,{className:"w-5 h-5 text-white"})}):l.jsxs(N.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:`flex items-center space-x-3 px-6 py-4 ${s.bgColor} ${s.hoverColor} rounded-xl shadow-md transition-colors`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[l.jsx(i,{className:"w-5 h-5 text-white"}),l.jsx("span",{className:"text-white font-medium",children:a})]})}function MR({videoUrl:e,thumbnailUrl:t,duration:r}){const[n,s]=b.useState(!1);return n?l.jsx("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden",children:l.jsx("video",{src:e,controls:!0,autoPlay:!0,className:"w-full h-full",onEnded:()=>s(!1)})}):l.jsxs("button",{onClick:()=>s(!0),className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden group",style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/60 transition-colors"}),l.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:"VIDEO INTRO"}),l.jsx("div",{className:"absolute bottom-4 right-4 px-3 py-1 bg-black/80 rounded-full text-white text-sm font-medium",children:b1(r)}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center transform group-hover:scale-110 transition-transform",children:l.jsx(r4,{className:"w-8 h-8 text-black ml-1",fill:"currentColor"})})})]})}const $R={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};function FR({isOnline:e,size:t="md"}){return l.jsx("div",{className:"absolute bottom-0 right-0 bg-gray-900 rounded-full p-1",children:l.jsx(N.div,{className:`${$R[t]} rounded-full ${e?"bg-green-500":"bg-gray-500"}`,animate:e?{scale:[1,1.2,1],opacity:[1,.8,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})})}function BR(e){const[t,r]=b.useState("");return b.useEffect(()=>{const n=()=>{try{const i=new Date,a=new Intl.DateTimeFormat("fr-FR",{timeZone:e,hour:"2-digit",minute:"2-digit",hour12:!1});r(a.format(i))}catch(i){console.error("Error formatting time:",i),r("--:--")}};n();const s=setInterval(n,6e4);return()=>clearInterval(s)},[e]),t}function VR({timezone:e,city:t}){const r=BR(e);return l.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[l.jsx(Qc,{className:"w-4 h-4"}),l.jsxs("span",{children:["Heure locale  ",t,": ",l.jsx("span",{className:"text-yellow-500 font-medium",children:r})]})]})}function UR({fullName:e,title:t,tagline:r,profilePhotoUrl:n,isOnline:s,locationCity:i,timezone:a,showLocalTime:o}){return l.jsxs("div",{className:"relative bg-gradient-to-br from-amber-50 via-white to-amber-50 rounded-t-2xl overflow-hidden border-b border-neutral-100",children:[l.jsx(N.div,{className:"absolute inset-0 opacity-30",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%)",backgroundSize:"100% 100%"}}),l.jsxs("div",{className:"relative px-8 py-12 text-center",children:[l.jsxs(N.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative inline-block mb-6",children:[n?l.jsx("img",{src:n,alt:e,className:"w-32 h-32 rounded-full border-4 border-amber-500 object-cover shadow-xl"}):l.jsx("div",{className:"w-32 h-32 bg-gradient-amber rounded-full flex items-center justify-center text-white text-4xl font-bold shadow-xl",children:e.charAt(0)}),l.jsx(FR,{isOnline:s,size:"lg"})]}),l.jsx(N.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl font-bold text-neutral-900 mb-2",children:e}),t&&l.jsx(N.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-amber-600 mb-4 font-medium",children:t}),r&&l.jsx(N.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg text-neutral-600 max-w-2xl mx-auto mb-6",children:r}),o&&i&&a&&l.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-center",children:l.jsx(VR,{timezone:a,city:i})})]})]})}function _0({onDownloadContact:e}){return l.jsx("div",{className:"flex justify-center px-6 py-6",children:l.jsxs(N.button,{onClick:e,className:"px-8 py-4 bg-gradient-amber text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center gap-2",whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[l.jsx(Vo,{className:"w-5 h-5"}),"Enregistrer dans les contacts"]})})}function zR({title:e,description:t,image:r,url:n,type:s="website"}){return b.useEffect(()=>{document.title=e;const i=(a,o,u)=>{const c=u?"property":"name";let d=document.querySelector(`meta[${c}="${a}"]`);d||(d=document.createElement("meta"),d.setAttribute(c,a),document.head.appendChild(d)),d.setAttribute("content",o)};return i("description",t),i("og:title",e,!0),i("og:description",t,!0),i("og:type",s,!0),n&&i("og:url",n,!0),r&&(i("og:image",r,!0),i("twitter:image",r)),i("twitter:card",r?"summary_large_image":"summary"),i("twitter:title",e),i("twitter:description",t),()=>{document.title="Obsi - Cartes de visite numriques premium"}},[e,t,r,n,s]),null}function me({className:e="",variant:t="rectangular",width:r,height:n,animation:s=!0}){const i="bg-neutral-200",a={text:"rounded h-4",circular:"rounded-full",rectangular:"rounded-lg"},o={width:r||"100%",height:n||(t==="text"?"1rem":"100%")};return s?l.jsx(N.div,{className:`${i} ${a[t]} ${e}`,style:o,animate:{opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}):l.jsx("div",{className:`${i} ${a[t]} ${e}`,style:o})}function WR(){return l.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[l.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx(me,{width:80,height:32}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(me,{width:100,height:40}),l.jsx(me,{width:120,height:40})]})]})})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[l.jsx("div",{className:"flex items-center justify-center mb-6",children:l.jsx(me,{width:200,height:48,className:"rounded-full"})}),l.jsxs("div",{className:"bg-white border border-neutral-200 rounded-2xl overflow-hidden shadow-xl",children:[l.jsx("div",{className:"relative bg-gradient-to-br from-amber-50 via-white to-amber-50 border-b border-neutral-100 px-8 py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx(me,{variant:"circular",width:128,height:128})}),l.jsx(me,{width:200,height:32,className:"mx-auto mb-2"}),l.jsx(me,{width:150,height:24,className:"mx-auto mb-4"}),l.jsx(me,{width:300,height:20,className:"mx-auto"})]})}),l.jsxs("div",{className:"px-6 py-8 space-y-8",children:[l.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6",children:[l.jsx(me,{width:120,height:24,className:"mb-3"}),l.jsx(me,{height:20,className:"mb-2"}),l.jsx(me,{height:20,className:"mb-2"}),l.jsx(me,{width:"70%",height:20})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(me,{height:80}),l.jsx(me,{height:80})]}),l.jsx(me,{height:200}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(me,{height:80}),l.jsx(me,{height:80})]}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx(me,{variant:"circular",width:48,height:48}),l.jsx(me,{variant:"circular",width:48,height:48}),l.jsx(me,{variant:"circular",width:48,height:48})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(me,{width:250,height:56,className:"rounded-xl"})})]})]})]})]})}function GR(e){const t=["BEGIN:VCARD","VERSION:3.0",`FN:${e.full_name}`];return e.title&&t.push(`TITLE:${e.title}`),e.phone&&t.push(`TEL;TYPE=CELL:${e.phone}`),e.email&&t.push(`EMAIL:${e.email}`),e.website&&t.push(`URL:${e.website}`),e.bio&&t.push(`NOTE:${e.bio.replace(/\n/g,"\\n")}`),e.social_links&&(e.social_links.linkedin&&t.push(`X-SOCIALPROFILE;TYPE=linkedin:${e.social_links.linkedin}`),e.social_links.twitter&&t.push(`X-SOCIALPROFILE;TYPE=twitter:${e.social_links.twitter}`),e.social_links.instagram&&t.push(`X-SOCIALPROFILE;TYPE=instagram:${e.social_links.instagram}`),e.social_links.facebook&&t.push(`X-SOCIALPROFILE;TYPE=facebook:${e.social_links.facebook}`)),t.push("END:VCARD"),t.join(`\r
`)}function HR(e){const t=GR(e),r=new Blob([t],{type:"text/vcard;charset=utf-8"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=`${e.username||"contact"}.vcf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}async function Zr(e,t,r){const n=qR(),s=navigator.userAgent,i=document.referrer;await Q.from("profile_analytics").insert({profile_id:e,event_type:t,device_type:n,user_agent:s,referrer:i,ip_hash:"",country_code:"",metadata:r||{}})}function qR(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}async function KR(e){await Q.rpc("increment_view_count",{profile_id:e}).catch(()=>{Q.from("profiles").select("view_count").eq("id",e).single().then(({data:t})=>{t&&Q.from("profiles").update({view_count:(t.view_count||0)+1}).eq("id",e)})})}function JR(){const{username:e}=E2(),{showToast:t}=v4(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[a,o]=b.useState("web");if(b.useEffect(()=>{async function d(){if(!e){i(!1);return}try{const{data:f,error:h}=await Q.from("profiles").select("*").eq("username",e).eq("is_active",!0).maybeSingle();if(h){console.error("Error loading profile:",h),i(!1);return}f&&(n(f),Zr(f.id,"view").catch(console.warn),KR(f.id).catch(console.warn))}catch(f){console.error("Unexpected error:",f)}finally{i(!1)}}d()},[e]),s)return l.jsx(WR,{});if(!r)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:l.jsxs(N.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"Profil introuvable"}),l.jsx("p",{className:"text-neutral-600 mb-6",children:"Ce profil n'existe pas ou a t dsactiv."}),l.jsx(K,{to:"/",className:"inline-flex items-center gap-2 text-amber-600 hover:text-amber-700 font-medium transition-colors",children:"Retour  l'accueil"})]})});const u=async()=>{HR(r),Zr(r.id,"vcard_download").catch(console.warn),t("Contact enregistr avec succs","success")},c=async()=>{const d=window.location.href;if(navigator.share)try{await navigator.share({title:`Profil de ${r.full_name}`,text:r.tagline||`Dcouvrez le profil professionnel de ${r.full_name}`,url:d}),Zr(r.id,"profile_share",{method:"native"}).catch(console.warn),t("Profil partag avec succs","success")}catch(f){f.name!=="AbortError"&&console.error("Error sharing:",f)}else try{await navigator.clipboard.writeText(d),Zr(r.id,"profile_share",{method:"clipboard"}).catch(console.warn),t("Lien copi dans le presse-papiers","success")}catch(f){console.error("Error copying:",f),t("Erreur lors de la copie du lien","error")}};return l.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[l.jsx(zR,{title:`${r.full_name}${r.title?` - ${r.title}`:""} | Obsi`,description:r.tagline||`Dcouvrez le profil professionnel de ${r.full_name} sur Obsi`,image:r.profile_photo_url||void 0,url:window.location.href,type:"profile"}),l.jsx(N.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},className:"bg-white/95 backdrop-blur-md border-b border-neutral-200 sticky top-0 z-50 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx(K,{to:"/",className:"text-2xl font-bold bg-gradient-amber bg-clip-text text-transparent hover:scale-105 transition-transform",children:"Obsi"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(N.button,{onClick:c,className:"flex items-center gap-2 px-4 py-2 text-neutral-600 hover:text-amber-600 font-medium transition-colors rounded-lg hover:bg-amber-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(ef,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Partager"})]}),l.jsx(K,{to:"/signup",className:"px-4 py-2 bg-gradient-amber text-white font-medium rounded-lg hover:shadow-lg transition-all",children:"Crer mon profil"})]})]})})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[l.jsx(N.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-center mb-6",children:l.jsxs("div",{className:"flex items-center gap-2 bg-white backdrop-blur-md border border-neutral-200 rounded-full p-1 shadow-sm",children:[l.jsxs(N.button,{onClick:()=>o("web"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="web"?"bg-gradient-amber text-white shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(HP,{className:"w-4 h-4 inline mr-1.5"}),"Web"]}),l.jsxs(N.button,{onClick:()=>o("card"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="card"?"bg-gradient-amber text-white shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(WP,{className:"w-4 h-4 inline mr-1.5"}),"Carte"]})]})}),l.jsx($o,{mode:"wait",children:a==="card"?l.jsxs(N.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"max-w-2xl mx-auto",children:[l.jsx(x1,{profile:r}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx(_0,{onDownloadContact:u})})]},"card-view"):l.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white border border-neutral-200 rounded-2xl overflow-hidden shadow-xl",children:[l.jsx(UR,{fullName:r.full_name,title:r.title||void 0,tagline:r.tagline||void 0,profilePhotoUrl:r.profile_photo_url||void 0,isOnline:r.is_online||!0,locationCity:r.location_city||void 0,timezone:r.timezone||void 0,showLocalTime:r.show_local_time||!1}),l.jsxs("div",{className:"px-6 py-8 space-y-8",children:[r.mission_statement&&l.jsx(On,{delay:.1,children:l.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-3",children:"Ma Mission"}),l.jsx("p",{className:"text-neutral-700 leading-relaxed whitespace-pre-wrap",children:r.mission_statement})]})}),r.location_city&&l.jsx(On,{delay:.2,children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(Da,{icon:Yh,label:"Localisation",value:`${r.location_city}, ${r.location_country||"France"}`}),r.email&&l.jsx(Da,{icon:Qh,label:"Email",value:r.email,href:`mailto:${r.email}`,onClick:()=>Zr(r.id,"link_click",{type:"email"}).catch(console.warn)})]})}),r.video_url&&r.video_thumbnail_url&&l.jsx(On,{delay:.3,children:l.jsx(MR,{videoUrl:r.video_url,thumbnailUrl:r.video_thumbnail_url,duration:r.video_duration||0})}),l.jsx(On,{delay:.4,children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.phone&&l.jsx(Da,{icon:Zh,label:"Tlphone",value:r.phone,href:`tel:${r.phone}`,onClick:()=>Zr(r.id,"link_click",{type:"phone"}).catch(console.warn)}),r.website&&l.jsx(Da,{icon:qw,label:"Site web",value:r.website,href:r.website,onClick:()=>Zr(r.id,"link_click",{type:"website"}).catch(console.warn)})]})}),r.social_links&&Object.keys(r.social_links).length>0&&l.jsxs(On,{delay:.5,children:[l.jsx("h3",{className:"text-center text-sm font-semibold text-amber-600 uppercase tracking-wider mb-4",children:"Me contacter"}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.social_links.linkedin&&l.jsx(wu,{platform:"linkedin",url:r.social_links.linkedin,label:"Connect"}),r.social_links.twitter&&l.jsx(wu,{platform:"twitter",url:r.social_links.twitter,label:"Follow"}),r.social_links.instagram&&l.jsx(wu,{platform:"instagram",url:r.social_links.instagram,label:"Follow"})]})]}),l.jsx(On,{delay:.6,children:l.jsx(_0,{onDownloadContact:u})})]})]},"web-view")}),l.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-8 px-4",children:l.jsx(K,{to:"/",className:"text-sm text-neutral-500 hover:text-amber-600 transition-colors inline-block",children:"Crez votre propre profil professionnel numrique avec Obsi"})})]})]})}function QR(){const e=Gr(),{profile:t}=vl(),{analytics:r,periods:n,loading:s,error:i}=v1(t==null?void 0:t.id);if(s)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center",children:l.jsx(N.div,{className:"h-12 w-12 border-4 border-gold-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}})});if(i)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 flex items-center justify-center p-4",children:l.jsx(we,{variant:"glassmorphism",className:"max-w-md",children:l.jsxs(Oe,{children:[l.jsx("p",{className:"text-red-400 text-center",children:i}),l.jsx(ne,{onClick:()=>e("/dashboard"),variant:"outline",fullWidth:!0,className:"mt-4",children:"Retour au tableau de bord"})]})})});if(!r||!n)return null;const a=r.deviceBreakdown.mobile+r.deviceBreakdown.desktop+r.deviceBreakdown.tablet,o=a>0?r.deviceBreakdown.mobile/a*100:0,u=a>0?r.deviceBreakdown.desktop/a*100:0,c=a>0?r.deviceBreakdown.tablet/a*100:0,d=h=>{const m=new Date(h);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(m)},f=h=>{switch(h){case"view":return"Vue";case"vcard_download":return"Tlchargement";case"link_click":return"Clic";default:return h}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900",children:[l.jsx("nav",{className:"bg-navy-900/80 backdrop-blur-md border-b border-gold-500/20 sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-warmGray-300 hover:text-white transition-colors",children:[l.jsx(Hh,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Retour"})]}),l.jsx("h1",{className:"text-xl font-bold bg-gradient-gold bg-clip-text text-transparent",children:"Statistiques dtailles"}),l.jsx("div",{className:"w-24"})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx(w1,{items:[{label:"Tableau de bord",href:"/dashboard"},{label:"Statistiques"}],className:"mb-6"}),l.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(vn,{to:"/edit",label:"Optimiser votre profil",description:"Amliorer vos informations pour plus de visibilit",icon:l.jsx(Yc,{className:"w-5 h-5"}),variant:"card"}),l.jsx(vn,{to:"/dashboard",label:"Partager votre carte",description:"Diffuser votre profil sur vos rseaux",icon:l.jsx(ef,{className:"w-5 h-5"}),variant:"card"}),l.jsx(vn,{to:`/${t==null?void 0:t.username}`,label:"Voir votre profil public",description:"Dcouvrir comment les visiteurs vous voient",icon:l.jsx(vs,{className:"w-5 h-5"}),variant:"card"})]}),l.jsxs(N.div,{variants:g1,initial:"initial",animate:"animate",className:"space-y-8",children:[l.jsxs(N.div,{variants:lt,children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(no,{className:"w-6 h-6 text-gold-400"}),"Vue d'ensemble"]}),l.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[l.jsx(we,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:l.jsxs(Oe,{className:"text-center p-6",children:[l.jsx(vs,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),l.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:l.jsx(os,{value:r.totalViews,duration:1.5})}),l.jsx("p",{className:"text-sm text-warmGray-300",children:"Vues totales"})]})}),l.jsx(we,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:l.jsxs(Oe,{className:"text-center p-6",children:[l.jsx(Vo,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),l.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:l.jsx(os,{value:r.totalDownloads,duration:1.5})}),l.jsx("p",{className:"text-sm text-warmGray-300",children:"Tlchargements"})]})}),l.jsx(we,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:l.jsxs(Oe,{className:"text-center p-6",children:[l.jsx(Jw,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),l.jsx("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:l.jsx(os,{value:r.totalLinkClicks,duration:1.5})}),l.jsx("p",{className:"text-sm text-warmGray-300",children:"Clics sur liens"})]})}),l.jsx(we,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:l.jsxs(Oe,{className:"text-center p-6",children:[l.jsx(no,{className:"w-8 h-8 text-gold-400 mx-auto mb-3"}),l.jsxs("p",{className:"text-4xl font-bold text-gold-400 mb-2",children:[r.conversionRate.toFixed(1),"%"]}),l.jsx("p",{className:"text-sm text-warmGray-300",children:"Taux conversion"})]})})]})]}),l.jsxs(N.div,{variants:lt,children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(yu,{className:"w-6 h-6 text-gold-400"}),"Par priode"]}),l.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{label:"Aujourd'hui",data:n.today,icon:Qc},{label:"Cette semaine",data:n.thisWeek,icon:yu},{label:"Ce mois",data:n.thisMonth,icon:yu},{label:"Total",data:n.total,icon:no}].map(h=>l.jsx(we,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:l.jsxs(Oe,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(h.icon,{className:"w-5 h-5 text-gold-400"}),l.jsx("h3",{className:"font-semibold text-white",children:h.label})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-warmGray-300",children:"Vues"}),l.jsx("span",{className:"text-lg font-bold text-white",children:h.data.views})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-warmGray-300",children:"Tlchargements"}),l.jsx("span",{className:"text-lg font-bold text-white",children:h.data.downloads})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-warmGray-300",children:"Clics"}),l.jsx("span",{className:"text-lg font-bold text-white",children:h.data.clicks})]})]})]})},h.label))})]}),l.jsxs(N.div,{variants:lt,children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(m0,{className:"w-6 h-6 text-gold-400"}),"Rpartition par appareil"]}),l.jsx(we,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(m0,{className:"w-5 h-5 text-gold-400"}),l.jsx("span",{className:"text-white font-medium",children:"Mobile"})]}),l.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.mobile," (",o.toFixed(0),"%)"]})]}),l.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(t4,{className:"w-5 h-5 text-gold-400"}),l.jsx("span",{className:"text-white font-medium",children:"Desktop"})]}),l.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.desktop," (",u.toFixed(0),"%)"]})]}),l.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${u}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(a4,{className:"w-5 h-5 text-gold-400"}),l.jsx("span",{className:"text-white font-medium",children:"Tablette"})]}),l.jsxs("span",{className:"text-warmGray-300",children:[r.deviceBreakdown.tablet," (",c.toFixed(0),"%)"]})]}),l.jsx("div",{className:"w-full bg-navy-700 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-gold h-3 rounded-full transition-all duration-1000",style:{width:`${c}%`}})})]})]})})})]}),l.jsxs(N.div,{variants:lt,children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(Qc,{className:"w-6 h-6 text-gold-400"}),"vnements rcents"]}),l.jsx(we,{variant:"glassmorphism",className:"bg-navy-800/50 border-gold-500/20",children:l.jsx(Oe,{className:"p-6",children:r.recentEvents.length===0?l.jsx("p",{className:"text-center text-warmGray-400 py-8",children:"Aucun vnement enregistr"}):l.jsx("div",{className:"space-y-3",children:r.recentEvents.map(h=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-navy-700/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-gold-400 rounded-full"}),l.jsx("span",{className:"text-white font-medium",children:f(h.event_type)}),l.jsx("span",{className:"text-sm text-warmGray-400 capitalize",children:h.device_type})]}),l.jsx("span",{className:"text-sm text-warmGray-400",children:d(h.created_at)})]},h.id))})})})]})]})]})]})}function Ma({children:e}){const{user:t,loading:r}=yr();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(Hy,{to:"/login"})}function j0({children:e}){const{user:t,loading:r}=yr();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):t?l.jsx(Hy,{to:"/dashboard"}):l.jsx(l.Fragment,{children:e})}function YR(){return l.jsx(cj,{children:l.jsx(VS,{children:l.jsx(y4,{children:l.jsxs(V2,{children:[l.jsx(er,{path:"/",element:l.jsx(mR,{})}),l.jsx(er,{path:"/login",element:l.jsx(j0,{children:l.jsx(pR,{})})}),l.jsx(er,{path:"/signup",element:l.jsx(j0,{children:l.jsx(gR,{})})}),l.jsx(er,{path:"/onboarding",element:l.jsx(Ma,{children:l.jsx(xR,{})})}),l.jsx(er,{path:"/dashboard",element:l.jsx(Ma,{children:l.jsx(wR,{})})}),l.jsx(er,{path:"/edit",element:l.jsx(Ma,{children:l.jsx(LR,{})})}),l.jsx(er,{path:"/analytics",element:l.jsx(Ma,{children:l.jsx(QR,{})})}),l.jsx(er,{path:"/:username",element:l.jsx(JR,{})})]})})})})}Dy(document.getElementById("root")).render(l.jsx(b.StrictMode,{children:l.jsx(YR,{})}));
